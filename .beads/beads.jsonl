{"id":"of-014","title":"Show \u003cempty\u003e indicator in grey for empty buckets/folders","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T19:07:52.728743-06:00","updated_at":"2025-11-17T19:09:23.960262-06:00","closed_at":"2025-11-17T19:09:23.960262-06:00"}
{"id":"of-04c","title":"Implement visual mode selection (v)","description":"Visual mode for selecting multiple entries","acceptance_criteria":"- v enters visual mode\n- j/k extends selection\n- ESC exits visual mode\n- Selection shown with highlighting","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T19:48:18.581386-06:00","updated_at":"2025-11-24T23:15:09.036786-06:00","closed_at":"2025-11-24T23:15:09.036786-06:00","dependencies":[{"issue_id":"of-04c","depends_on_id":"of-yyl","type":"blocks","created_at":"2025-11-15T19:58:36.704172-06:00","created_by":"daemon"},{"issue_id":"of-04c","depends_on_id":"of-8yn","type":"blocks","created_at":"2025-11-15T19:58:37.399603-06:00","created_by":"daemon"}]}
{"id":"of-068z","title":"P4D-4: Implement SMBProvider core operations","description":"Implement list() using smb.readdir() with stats option, read() using smb.readFile(), write() using smb.writeFile(), delete() using smb.unlink()/smb.rmdir(), mkdir() using smb.mkdir(), getMetadata() using smb.stat(), exists() using smb.exists(). Handle path separator conversion (/ to \\\\). Map SMB errors to OperationResult. Add unit tests. Est: 5 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:24.516404-06:00","updated_at":"2025-11-26T20:57:24.516404-06:00"}
{"id":"of-0br","title":"Expand formatSize helper to support large file sizes (GB, TB)","description":"The formatSize function in src/ui/buffer-view-react.tsx only handles sizes up to MB. It should be expanded to handle GB and TB for large files.\n\nCurrent implementation:\n- Returns 'XB' for bytes\n- Returns 'X.XKB' for kilobytes  \n- Returns 'X.XMB' for megabytes\n- No support for GB or TB\n\nShould add:\n- GB support for files \u003e= 1GB\n- TB support for files \u003e= 1TB\n\nConsider consolidating with formatBytes in src/utils/file-browser.ts which already has GB support.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T12:30:43.095352176-06:00","updated_at":"2025-11-25T12:32:32.495114249-06:00","closed_at":"2025-11-25T12:32:32.495114249-06:00"}
{"id":"of-0bv0","title":"P1-6: Implement BaseStorageProvider abstract class","description":"Create src/providers/base-provider.ts with capability management (getCapabilities, hasCapability, addCapability), abstract methods (list, getMetadata, exists, read), default unimplemented responses, move() with fallback strategy, copy() with fallback strategy. Add unit tests. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:43.849298-06:00","updated_at":"2025-11-26T21:19:20.053583-06:00","closed_at":"2025-11-26T21:19:20.053583-06:00"}
{"id":"of-0ebb","title":"P0-2: Audit UI adapter usage patterns","description":"Search codebase for all S3Adapter and AdapterContext imports. Document all adapter methods called from UI components and hooks. List UI assumptions about adapter behavior. Create migration checklist. Must complete before P5-2. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:03.893128-06:00","updated_at":"2025-11-26T21:11:02.598542-06:00","closed_at":"2025-11-26T21:11:02.598542-06:00"}
{"id":"of-0fg","title":"Set up AWS SDK S3 client configuration","description":"Configure S3Client with credentials, region, and options","acceptance_criteria":"- S3Client initialized with proper config\n- Support for environment variables and AWS profiles\n- Configurable endpoint for LocalStack/MinIO","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T19:47:25.952227-06:00","updated_at":"2025-11-17T08:59:50.230091-06:00","closed_at":"2025-11-17T08:59:50.230091-06:00","dependencies":[{"issue_id":"of-0fg","depends_on_id":"of-ca3","type":"blocks","created_at":"2025-11-15T19:47:25.953742-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-6g8","type":"blocks","created_at":"2025-11-15T19:58:09.094564-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-7y0","type":"blocks","created_at":"2025-11-15T19:58:09.845146-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-8f8","type":"blocks","created_at":"2025-11-15T19:58:10.613494-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-2c9","type":"blocks","created_at":"2025-11-15T19:58:11.404687-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-ffh","type":"blocks","created_at":"2025-11-15T19:58:12.074142-06:00","created_by":"daemon"},{"issue_id":"of-0fg","depends_on_id":"of-uyq","type":"blocks","created_at":"2025-11-15T19:58:12.83761-06:00","created_by":"daemon"}]}
{"id":"of-0hog","title":"P1-7: Implement provider factory","description":"Create src/providers/factory.ts with createProvider(profile: Profile): StorageProvider (initially throws not implemented), getSupportedProviders(): ProviderType[]. Export from index. Est: 1 hour","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:47.095824-06:00","updated_at":"2025-11-26T21:19:53.041646-06:00","closed_at":"2025-11-26T21:19:53.041646-06:00"}
{"id":"of-0j3","title":"Implement save operation (:w)","description":"Save buffer changes and execute operations","acceptance_criteria":"- :w or Ctrl+S triggers save\n- Detect changes\n- Build operation plan\n- Show confirmation dialog\n- Execute on confirm","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.300289-06:00","updated_at":"2025-11-17T08:54:40.953292-06:00","closed_at":"2025-11-17T08:54:40.953292-06:00","dependencies":[{"issue_id":"of-0j3","depends_on_id":"of-ret","type":"blocks","created_at":"2025-11-15T19:58:05.705605-06:00","created_by":"daemon"}]}
{"id":"of-0m71","title":"P2-9: Implement sensitive data handling","description":"Create src/providers/credentials/sanitizer.ts with maskSensitiveFields(profile), hasSensitiveData(profile), sanitizeForLogging(obj). Mask patterns: password, secret, token, key, pass, credential, refreshToken. Add warnings for plaintext passwords. Add unit tests. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:31.913918-06:00","updated_at":"2025-11-26T21:57:58.245648-06:00","closed_at":"2025-11-26T21:57:58.245648-06:00"}
{"id":"of-0py","title":"Display current AWS profile in header right side","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T18:49:43.498827-06:00","updated_at":"2025-11-17T18:51:02.403008-06:00","closed_at":"2025-11-17T18:51:02.403008-06:00"}
{"id":"of-0r2","title":"Implement search/filter with /","description":"Filter entries by name pattern","acceptance_criteria":"- / opens search input\n- Filter entries as user types\n- n/N for next/previous match\n- ESC clears filter","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.301023-06:00","updated_at":"2025-11-17T09:23:11.942203-06:00","closed_at":"2025-11-17T09:23:11.942203-06:00"}
{"id":"of-0sv","title":"Create BufferView component","description":"OpenTUI component to render buffer entries as editable list","acceptance_criteria":"- BufferView renders entries with icons\n- Shows cursor position\n- Updates on state changes","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.301812-06:00","updated_at":"2025-11-17T08:54:57.264524-06:00","closed_at":"2025-11-17T08:54:57.264524-06:00","dependencies":[{"issue_id":"of-0sv","depends_on_id":"of-ca3","type":"blocks","created_at":"2025-11-15T19:47:55.903-06:00","created_by":"daemon"},{"issue_id":"of-0sv","depends_on_id":"of-7rr","type":"blocks","created_at":"2025-11-15T19:58:19.322836-06:00","created_by":"daemon"}]}
{"id":"of-0uwz","title":"P0-3: Set up test infrastructure for providers","description":"Create src/providers/__tests__/ directory structure. Create shared test fixtures, MockStorageProvider, test utilities for OperationResult assertions, and test helper for creating test profiles. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:05.148111-06:00","updated_at":"2025-11-26T21:14:28.044765-06:00","closed_at":"2025-11-26T21:14:28.044765-06:00"}
{"id":"of-0uy","title":"Add bucket listing to S3Adapter","description":"Implement listBuckets() method in S3Adapter that fetches all buckets from the AWS account with metadata including region, creation date, and storage size.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.447794-06:00","updated_at":"2025-11-16T20:37:07.013046-06:00","closed_at":"2025-11-16T20:37:07.013046-06:00"}
{"id":"of-13py","title":"P7-1: Final validation before removal","description":"Confirm no users reporting issues with new system. Confirm feature flag override is not being used in production. Check analytics/logs for legacy system usage. Get sign-off for removal. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:06.705592-06:00","updated_at":"2025-11-27T11:14:56.450277-06:00","closed_at":"2025-11-27T11:14:56.450277-06:00"}
{"id":"of-18l","title":"Implement MockAdapter for testing","description":"Create in-memory mock adapter for testing UI without S3","acceptance_criteria":"- MockAdapter implements Adapter interface\n- In-memory data structure for files/dirs\n- All operations work synchronously\n- Can be seeded with test data","notes":"Implemented MockAdapter with in-memory storage, seeded with test data. All operations working (list, create, delete, move, copy).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.302561-06:00","updated_at":"2025-11-15T21:40:13.302561-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-18l","depends_on_id":"of-w9f","type":"blocks","created_at":"2025-11-15T19:47:16.127209-06:00","created_by":"daemon"},{"issue_id":"of-18l","depends_on_id":"of-7j6","type":"blocks","created_at":"2025-11-15T19:47:16.12781-06:00","created_by":"daemon"}]}
{"id":"of-19s","title":"Create ConfirmationDialog component","description":"Modal dialog to show and confirm operations before execution","acceptance_criteria":"- Shows operation summary\n- Lists all operations with details\n- Yes/No confirmation\n- ESC to cancel","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.303419-06:00","updated_at":"2025-11-17T08:55:07.900523-06:00","closed_at":"2025-11-17T08:55:07.900523-06:00","dependencies":[{"issue_id":"of-19s","depends_on_id":"of-0j3","type":"blocks","created_at":"2025-11-15T19:58:05.276492-06:00","created_by":"daemon"}]}
{"id":"of-1fqa","title":"P6-5: Monitor and support cutover","description":"Deploy to staging/beta users first if possible. Monitor for errors and issues. Be prepared to rollback via environment variable. Collect feedback for 1-2 weeks. Address critical issues immediately. Est: 8 hours (spread over 1-2 weeks)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:55.132939-06:00","updated_at":"2025-11-27T11:14:28.548599-06:00","closed_at":"2025-11-27T11:14:28.548599-06:00"}
{"id":"of-1i7","title":"Implement virtual scrolling for large directory lists","description":"## Problem\nCurrently, the file list renders all entries regardless of count. For directories with 10,000+ files, this causes:\n- Slow initial render\n- High memory usage\n- Laggy scrolling\n- Poor user experience\n\n## Implementation Plan\n\n### Step 1: Research Virtual Scrolling Options\nOptions for React/Ink terminal UI:\n1. **Custom implementation** - Build windowing logic\n2. **Adapt existing libraries** - Modify react-window concepts for terminal\n3. **OpenTUI built-in** - Check if OpenTUI has virtualization support\n\n### Step 2: Design Windowing System\n```typescript\n// src/hooks/useVirtualList.ts\ninterface VirtualListOptions {\n  totalItems: number;\n  visibleHeight: number;  // Terminal rows available\n  itemHeight: number;     // Usually 1 for terminal\n  overscan: number;       // Extra items to render above/below\n}\n\ninterface VirtualListResult {\n  startIndex: number;\n  endIndex: number;\n  offsetTop: number;\n  visibleItems: number;\n}\n\nexport function useVirtualList({\n  totalItems,\n  visibleHeight,\n  itemHeight = 1,\n  overscan = 5,\n}: VirtualListOptions): VirtualListResult {\n  const [scrollOffset, setScrollOffset] = useState(0);\n  \n  const visibleItems = Math.ceil(visibleHeight / itemHeight);\n  const startIndex = Math.max(0, Math.floor(scrollOffset / itemHeight) - overscan);\n  const endIndex = Math.min(\n    totalItems - 1,\n    startIndex + visibleItems + overscan * 2\n  );\n  \n  return {\n    startIndex,\n    endIndex,\n    offsetTop: startIndex * itemHeight,\n    visibleItems,\n    setScrollOffset,\n  };\n}\n```\n\n### Step 3: Create VirtualList Component\n```typescript\n// src/ui/virtual-list-react.tsx\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface VirtualListProps\u003cT\u003e {\n  items: T[];\n  height: number;\n  renderItem: (item: T, index: number) =\u003e ReactNode;\n  scrollOffset: number;\n  onScroll?: (offset: number) =\u003e void;\n}\n\nexport function VirtualList\u003cT\u003e({\n  items,\n  height,\n  renderItem,\n  scrollOffset,\n}: VirtualListProps\u003cT\u003e) {\n  const { startIndex, endIndex, offsetTop } = useVirtualList({\n    totalItems: items.length,\n    visibleHeight: height,\n  });\n  \n  const visibleItems = items.slice(startIndex, endIndex + 1);\n  \n  return (\n    \u003cBox flexDirection=\"column\" height={height}\u003e\n      {/* Spacer for items above viewport */}\n      {offsetTop \u003e 0 \u0026\u0026 \u003cBox height={offsetTop} /\u003e}\n      \n      {/* Visible items */}\n      {visibleItems.map((item, i) =\u003e (\n        \u003cBox key={startIndex + i}\u003e\n          {renderItem(item, startIndex + i)}\n        \u003c/Box\u003e\n      ))}\n      \n      {/* Spacer for items below viewport */}\n      \u003cBox flexGrow={1} /\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 4: Integrate with BufferView\n```typescript\n// src/ui/buffer-view-react.tsx\nexport function BufferView({ entries, cursor, height }: Props) {\n  // Calculate scroll offset based on cursor position\n  const scrollOffset = useMemo(() =\u003e {\n    const cursorRow = cursor;\n    const halfHeight = Math.floor(height / 2);\n    return Math.max(0, cursorRow - halfHeight);\n  }, [cursor, height]);\n  \n  return (\n    \u003cVirtualList\n      items={entries}\n      height={height}\n      scrollOffset={scrollOffset}\n      renderItem={(entry, index) =\u003e (\n        \u003cEntryRow\n          entry={entry}\n          isSelected={selection.has(entry.id)}\n          isCursor={index === cursor}\n        /\u003e\n      )}\n    /\u003e\n  );\n}\n```\n\n### Step 5: Keep Cursor in View\n```typescript\n// Ensure cursor is always visible\nfunction keepCursorInView(\n  cursor: number,\n  scrollOffset: number,\n  visibleHeight: number\n): number {\n  const minVisible = scrollOffset;\n  const maxVisible = scrollOffset + visibleHeight - 1;\n  \n  if (cursor \u003c minVisible) {\n    return cursor; // Scroll up\n  }\n  if (cursor \u003e maxVisible) {\n    return cursor - visibleHeight + 1; // Scroll down\n  }\n  return scrollOffset; // No change needed\n}\n```\n\n### Step 6: Performance Optimizations\n```typescript\n// Memoize entry rows\nconst MemoizedEntryRow = React.memo(EntryRow, (prev, next) =\u003e {\n  return (\n    prev.entry.id === next.entry.id \u0026\u0026\n    prev.isSelected === next.isSelected \u0026\u0026\n    prev.isCursor === next.isCursor\n  );\n});\n\n// Use stable keys\nconst getEntryKey = (entry: Entry) =\u003e entry.id || entry.path;\n```\n\n## Files to Create\n- src/hooks/useVirtualList.ts\n- src/hooks/useVirtualList.test.ts\n- src/ui/virtual-list-react.tsx\n- src/ui/virtual-list-react.test.tsx\n\n## Files to Modify\n- src/ui/buffer-view-react.tsx (integrate VirtualList)\n\n## Testing\n- Unit tests for useVirtualList hook\n- Test with 10K+ entries\n- Verify cursor stays in view during navigation\n- Measure render performance before/after\n\n## Performance Targets\n- Initial render: \u003c100ms for any list size\n- Cursor movement: \u003c16ms (60fps)\n- Memory: Bounded regardless of list size\n\n## Estimated Effort: 1-2 days","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-24T18:03:07.02437-06:00","updated_at":"2025-11-27T18:55:06.982179-06:00","closed_at":"2025-11-27T18:55:06.982179-06:00"}
{"id":"of-1mp","title":"Remove unused prefix field from S3Adapter","description":"## Problem\nThe S3Adapter class has an unused private field:\n```typescript\nprivate prefix: string = '';  // Line 124 in s3-adapter.ts\n```\n\nThis field is initialized but never read or written anywhere in the class.\n\n## Location\n- File: src/adapters/s3-adapter.ts\n- Line: 124\n\n## Action\nDelete the unused field declaration.\n\n## Impact\n- Trivial change, no risk\n- Reduces dead code\n- Saves 1 line\n\n## Verification\n- Run `bun test` to ensure no tests break\n- grep for 'prefix' to confirm it's unused","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-11-25T16:15:10.689383896-06:00","updated_at":"2025-11-25T17:31:17.121458356-06:00","closed_at":"2025-11-25T17:31:17.121458356-06:00"}
{"id":"of-1uh","title":"Create special bucket entry type with metadata columns","description":"Extend Entry type to support bucket metadata (region, creation date, total size). Add BucketColumn components to display bucket info in the root view.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.492251-06:00","updated_at":"2025-11-16T20:38:11.309253-06:00","closed_at":"2025-11-16T20:38:11.309253-06:00"}
{"id":"of-1zws","title":"Refactor S3Explorer: Extract useDialogKeyboardHandler hook","description":"Extract dialog-specific keyboard handling into a dedicated hook.\n\n**Current state**: Lines 894-1034 in s3-explorer.tsx (keyboardHandlerCallback).\n\n**Target**: Create useDialogKeyboardHandler hook (~100 lines) with:\n- Upload dialog key handling\n- Confirmation dialog y/n handling  \n- Error dialog escape handling\n- Sort menu number key handling\n- Help dialog escape handling\n- Quit dialog q/n/w handling\n- Delegation to dispatchKey for non-dialog keys\n\n**Files to create**:\n- src/hooks/useDialogKeyboardHandler.ts\n- src/hooks/useDialogKeyboardHandler.test.ts\n\n**Migration**: Depends on useDialogState (existing), useStatusMessage (new), useOperationExecutor (new).","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T16:24:56.753911097-06:00","updated_at":"2025-11-27T19:19:36.24891-06:00","dependencies":[{"issue_id":"of-1zws","depends_on_id":"of-f88l","type":"blocks","created_at":"2025-11-25T16:27:15.233993647-06:00","created_by":"daemon"}]}
{"id":"of-20q","title":"Line indicator appears on every line instead of following selection","description":"When navigating files, the line indicator (\u003e) gets added to every line and doesn't follow the user's cursor/selection. Should only appear on the currently selected line.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T21:33:19.567869-06:00","updated_at":"2025-11-15T21:35:02.246699-06:00","closed_at":"2025-11-15T21:35:02.246699-06:00","labels":["navigation","ui"]}
{"id":"of-26qo","title":"P4B-2: Create SFTPProvider class skeleton","description":"Create src/providers/sftp/sftp-provider.ts. Extend BaseStorageProvider. Constructor accepts SFTPProfile. Declare capabilities (List, Read, Write, Delete, Mkdir, Rmdir, Move, Resume, Permissions, Symlinks). Add connection state tracking. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:40.144678-06:00","updated_at":"2025-11-27T17:14:17.200472-06:00","closed_at":"2025-11-27T17:14:17.200472-06:00"}
{"id":"of-27ou","title":"P1-11: Finalize Phase 1 exports and documentation","description":"Update src/providers/index.ts to export all public types and functions. Add README.md to providers directory explaining architecture. Document Provider prefix convention and removal timeline. Verify types compile. Run linter. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:54:57.006565-06:00","updated_at":"2025-11-27T12:23:20.550609-06:00","closed_at":"2025-11-27T12:23:20.550609-06:00"}
{"id":"of-28f2","title":"P4F-2: Implement LocalProvider operations","description":"Reuse implementations from NFSProvider (both use fs module). Consider extracting shared FilesystemProvider base class. Full implementation of all fs operations. Add unit tests. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:02.777413-06:00","updated_at":"2025-11-26T20:58:02.777413-06:00"}
{"id":"of-28ln","title":"P4G-6: Handle Google Workspace document export","description":"Detect Google Docs/Sheets/Slides by MIME type. Implement export to configured format (PDF, DOCX, etc.). Handle in read() method transparently. Add exportFormat config option. Document limitation: exported files are read-only snapshots. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:25.208676-06:00","updated_at":"2025-11-26T20:58:25.208676-06:00"}
{"id":"of-2c9","title":"Implement S3Adapter.delete() method","description":"Delete objects from S3","acceptance_criteria":"- DeleteObject command\n- Handle directory deletion (delete all objects with prefix)\n- Batch delete for multiple objects","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.304292-06:00","updated_at":"2025-11-17T08:56:14.565059-06:00","closed_at":"2025-11-17T08:56:14.565059-06:00","dependencies":[{"issue_id":"of-2c9","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:34.747759-06:00","created_by":"daemon"},{"issue_id":"of-2c9","depends_on_id":"of-ret","type":"related","created_at":"2025-11-15T19:59:05.86922-06:00","created_by":"daemon"}]}
{"id":"of-2cl","title":"Define Entry type interface","description":"Create Entry interface representing a file/directory with metadata","acceptance_criteria":"- Entry interface with id, name, type, size, modified, metadata\n- EntryType enum (file, directory)\n- Proper TypeScript types exported","notes":"Created Entry interface with id, name, type, size, modified, metadata, path. EntryType enum with File/Directory","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.305111-06:00","updated_at":"2025-11-15T21:40:13.305111-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-2cl","depends_on_id":"of-0sv","type":"blocks","created_at":"2025-11-15T19:57:53.695539-06:00","created_by":"daemon"},{"issue_id":"of-2cl","depends_on_id":"of-2fk","type":"blocks","created_at":"2025-11-15T19:57:54.436081-06:00","created_by":"daemon"},{"issue_id":"of-2cl","depends_on_id":"of-7rr","type":"blocks","created_at":"2025-11-15T19:57:55.099555-06:00","created_by":"daemon"},{"issue_id":"of-2cl","depends_on_id":"of-pai","type":"blocks","created_at":"2025-11-15T19:57:57.20269-06:00","created_by":"daemon"}]}
{"id":"of-2cx","title":"Implement keybinding registry","description":"Centralized keybinding management system","acceptance_criteria":"- KeybindingRegistry class\n- Register bindings per mode\n- Handle key events and dispatch actions\n- Support for customizable keybindings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.30594-06:00","updated_at":"2025-11-17T08:57:15.677751-06:00","closed_at":"2025-11-17T08:57:15.677751-06:00"}
{"id":"of-2fk","title":"Implement entry ID generation system","description":"Generate unique IDs for entries to track changes","acceptance_criteria":"- generateEntryId() function\n- IDs persist during buffer edits\n- ID mapping from original to edited state","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.306658-06:00","updated_at":"2025-11-24T23:08:17.909713-06:00","closed_at":"2025-11-24T23:08:17.909713-06:00"}
{"id":"of-2h3","title":"Add Ctrl+D/Ctrl+U for page scrolling","description":"Half-page scrolling up and down","acceptance_criteria":"- Ctrl+D scrolls down half page\n- Ctrl+U scrolls up half page\n- Cursor stays in view","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.30735-06:00","updated_at":"2025-11-16T20:47:55.003746-06:00","closed_at":"2025-11-16T20:47:55.003746-06:00"}
{"id":"of-2pd","title":"Build operation plan from changes","description":"Convert detected changes to executable operation plan","acceptance_criteria":"- Generate CreateOp for new entries\n- Generate DeleteOp for removed entries\n- Generate MoveOp for renames/moves\n- Handle copy operations\n- Order operations correctly (deletes last)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.308127-06:00","updated_at":"2025-11-17T08:50:00.00723-06:00","closed_at":"2025-11-17T08:50:00.00723-06:00"}
{"id":"of-2r6f","title":"P4B-6: Implement SFTPProvider advanced operations","description":"Implement setPermissions() using sftp.chmod(). Implement readSymlink() using sftp.readlink(). Handle recursive directory operations. Add unit tests. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:49.259836-06:00","updated_at":"2025-11-27T17:14:24.526366-06:00","closed_at":"2025-11-27T17:14:24.526366-06:00"}
{"id":"of-2ty","title":"Show \u003cempty\u003e indicator in preview pane for empty files","description":"Shows \u003cempty\u003e indicator in preview pane for empty files. Fixed issue where preview pane wasn't displaying by using null to distinguish between no file selected vs empty file.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T19:10:22.322196-06:00","updated_at":"2025-11-17T19:13:14.914564-06:00","closed_at":"2025-11-17T19:11:13.353774-06:00"}
{"id":"of-2v1","title":"Test Epic","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-16T20:32:30.905147-06:00","updated_at":"2025-11-27T18:50:41.586674-06:00","closed_at":"2025-11-27T18:50:41.586674-06:00"}
{"id":"of-32t","title":"Extract move operations to s3/move-operations.ts","description":"Extract move operations from S3Adapter. Functions: moveObject(), moveDirectory(). Currently in S3Adapter.moveSingleFile() and moveDirectory() methods. ~100 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:29.977717497-06:00","updated_at":"2025-11-25T13:28:54.321701998-06:00","closed_at":"2025-11-25T13:28:54.321701998-06:00"}
{"id":"of-36z7","title":"Refactor S3Explorer: Extract useDataLoader hook","description":"Extract initial data loading logic into a dedicated hook.\n\n**Current state**: Lines 1042-1094 in s3-explorer.tsx (initializeData useEffect).\n\n**Target**: Create useDataLoader hook (~70 lines) with:\n- isInitialized state\n- reload() method for manual refresh\n- Proper AbortController cancellation on bucket change\n- Bucket listing vs bucket contents logic\n\n**Files to create**:\n- src/hooks/useDataLoader.ts\n- src/hooks/useDataLoader.test.ts\n\n**Migration**: Isolated, clear boundaries. Depends on useStatusMessage for error messaging.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T16:24:54.884558989-06:00","updated_at":"2025-11-27T19:16:11.522335-06:00","closed_at":"2025-11-27T19:16:11.522335-06:00"}
{"id":"of-37o","title":"Extract path utilities to s3/path-utils.ts","description":"Extract path normalization and parsing logic from S3Adapter to a dedicated module. Functions: normalizeS3Path(), getS3KeyName(), isS3Directory(), joinS3Path(). Currently in S3Adapter.normalizePath() and scattered in parseEntry/list processing. ~50 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:19.886302807-06:00","updated_at":"2025-11-25T13:11:34.064409867-06:00","closed_at":"2025-11-25T13:11:34.064409867-06:00"}
{"id":"of-38f7","title":"P5-14: Error handling standardization","description":"Create src/utils/storage-errors.ts. Map OperationResult errors to user-friendly messages. Handle Unimplemented errors gracefully (show not supported toast). Handle connection errors with retry option. Standardize error display across UI. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:30.540557-06:00","updated_at":"2025-11-27T10:16:43.53682-06:00","closed_at":"2025-11-27T10:16:43.53682-06:00"}
{"id":"of-38p","title":"Define Adapter interface","description":"Create Adapter interface defining all backend operations","acceptance_criteria":"- Adapter interface with: list(), getMetadata(), create(), delete(), move(), copy()\n- All methods return Promises for async operations\n- Proper error handling types","notes":"Created Adapter interface with list(), getMetadata(), create(), delete(), move(), copy(), exists(). All async with Promise returns.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.309096-06:00","updated_at":"2025-11-15T21:40:13.309096-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-38p","depends_on_id":"of-w9f","type":"blocks","created_at":"2025-11-15T19:47:11.817478-06:00","created_by":"daemon"},{"issue_id":"of-38p","depends_on_id":"of-18l","type":"blocks","created_at":"2025-11-15T19:57:56.075862-06:00","created_by":"daemon"}]}
{"id":"of-3eo","title":"Switch from Node.js to Bun runtime","description":"Migrate the project to use Bun instead of Node.js/npm for better performance and native TypeScript support. OpenTUI works best with Bun runtime.","acceptance_criteria":"- Update package.json to use bun instead of npm scripts\n- Replace npm with bun for dependency management\n- Update Justfile to use bun commands\n- Test that bun build and bun run work correctly\n- Update tsconfig.json if needed for Bun compatibility\n- Verify OpenTUI renders correctly with Bun","notes":"Successfully migrated to Bun runtime. Updated package.json, tsconfig.json, Justfile. OpenTUI renders perfectly with Bun. Can run .ts files directly without compilation!","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.309754-06:00","updated_at":"2025-11-15T21:40:13.309754-06:00","closed_at":"2025-11-16T02:31:03Z"}
{"id":"of-3g85","title":"Update BufferView to render pending operation visual states","description":"Update src/ui/buffer-view.tsx entry rendering:\n\n1. Accept pendingOps from props\n\n2. For each entry, call getEntryState(entry) to get visual state\n\n3. Apply visual styling based on EntryVisualState:\n   - isDeleted: red color, strikethrough\n   - isMovedAway: strikethrough, show '→ destination' suffix\n   - isMovedHere: dimmed, indicates pending arrival\n   - isCopiedHere: dimmed, indicates pending copy\n   - isRenamed: yellow color, show 'oldName → newName'\n   - isCreated: green color, indicates new entry\n\n4. Include virtual entries from getVirtualEntries(path) in the rendered list","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:17:09.744768-06:00","updated_at":"2025-11-29T10:20:42.889994-06:00","dependencies":[{"issue_id":"of-3g85","depends_on_id":"of-razz","type":"blocks","created_at":"2025-11-29T10:19:00.298504-06:00","created_by":"daemon"}]}
{"id":"of-3sd","title":"Add S3 error handling and retry logic","description":"Handle S3 errors, throttling, and implement retry with exponential backoff","acceptance_criteria":"- Convert S3 errors to AdapterError types\n- Retry on throttling (429, SlowDown)\n- Exponential backoff for retries\n- Timeout handling","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.310598-06:00","updated_at":"2025-11-17T08:59:50.334911-06:00","closed_at":"2025-11-17T08:59:50.334911-06:00","dependencies":[{"issue_id":"of-3sd","depends_on_id":"of-hn3","type":"blocks","created_at":"2025-11-15T19:47:40.741823-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-6g8","type":"blocks","created_at":"2025-11-15T19:59:08.041722-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-7y0","type":"blocks","created_at":"2025-11-15T19:59:08.810819-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-8f8","type":"blocks","created_at":"2025-11-15T19:59:09.510875-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-2c9","type":"blocks","created_at":"2025-11-15T19:59:10.218709-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-ffh","type":"blocks","created_at":"2025-11-15T19:59:10.923554-06:00","created_by":"daemon"},{"issue_id":"of-3sd","depends_on_id":"of-uyq","type":"blocks","created_at":"2025-11-15T19:59:11.21102-06:00","created_by":"daemon"}]}
{"id":"of-3up","title":"Add configuration system","description":"Support for config file with user preferences","acceptance_criteria":"- Config file (~/.of/grc.json)\n- Customizable keybindings\n- Default sort/columns\n- S3 endpoint configuration\n- Color scheme customization","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.311419-06:00","updated_at":"2025-11-17T08:57:25.766471-06:00","closed_at":"2025-11-17T08:57:25.766471-06:00","dependencies":[{"issue_id":"of-3up","depends_on_id":"of-w9f","type":"parent-child","created_at":"2025-11-15T19:49:51.153093-06:00","created_by":"daemon"},{"issue_id":"of-3up","depends_on_id":"of-fi2","type":"parent-child","created_at":"2025-11-15T19:58:58.465585-06:00","created_by":"daemon"}]}
{"id":"of-40c","title":"Add custom keybinding configuration support","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:37:50.29771-06:00","updated_at":"2025-11-15T21:37:50.29771-06:00","closed_at":"2025-11-15T21:30:11.101637-06:00"}
{"id":"of-467","title":"Project Foundation \u0026 Setup","description":"Set up the project infrastructure, dependencies, and basic structure for the S3 TUI explorer","design":"Following oil.nvim's adapter pattern and opentui's component architecture. Will create a clean separation between UI layer, adapter interface, and S3 backend.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.312262-06:00","updated_at":"2025-11-15T22:48:38.427183-06:00","closed_at":"2025-11-15T21:44:07.607702-06:00"}
{"id":"of-48bb","title":"P4G-1: Add googleapis dependency and OAuth utilities","description":"Add googleapis and @google-cloud/local-auth to package.json. Create OAuth utility functions for token management. Verify installation and basic import. Est: 2 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:09.518059-06:00","updated_at":"2025-11-26T20:58:09.518059-06:00"}
{"id":"of-4fs","title":"Add multipart upload support for large files","description":"Handle large file uploads with multipart API","acceptance_criteria":"- Auto-detect large files (\u003e5MB)\n- Use multipart upload API\n- Show part upload progress\n- Resume failed uploads","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.31303-06:00","updated_at":"2025-11-26T20:50:25.61217-06:00","closed_at":"2025-11-26T20:50:25.61217-06:00"}
{"id":"of-4nm6","title":"Simplify adapter interface type guards","description":"## Problem\nThe type guards in adapter.ts are overly defensive with redundant checks:\n\n```typescript\nexport function isMutableAdapter(adapter: ReadableStorageAdapter): adapter is MutableStorageAdapter {\n  return (\n    'create' in adapter \u0026\u0026\n    'delete' in adapter \u0026\u0026\n    'move' in adapter \u0026\u0026\n    'copy' in adapter \u0026\u0026\n    typeof (adapter as MutableStorageAdapter).create === 'function' \u0026\u0026  // Redundant\n    typeof (adapter as MutableStorageAdapter).delete === 'function' \u0026\u0026  // Redundant\n    typeof (adapter as MutableStorageAdapter).move === 'function' \u0026\u0026    // Redundant\n    typeof (adapter as MutableStorageAdapter).copy === 'function'       // Redundant\n  );\n}\n```\n\nIn TypeScript with proper typing, the `'create' in adapter` check is sufficient. The `typeof === 'function'` checks are paranoid - if the property exists on a properly typed object, it will be a function.\n\n## Proposed Change\nSimplify all three type guards:\n\n```typescript\nexport function isMutableAdapter(\n  adapter: ReadableStorageAdapter\n): adapter is MutableStorageAdapter {\n  return 'create' in adapter \u0026\u0026 'delete' in adapter \u0026\u0026 'move' in adapter \u0026\u0026 'copy' in adapter;\n}\n\nexport function isTransferableAdapter(\n  adapter: ReadableStorageAdapter\n): adapter is TransferableStorageAdapter {\n  return isMutableAdapter(adapter) \u0026\u0026 'downloadToLocal' in adapter \u0026\u0026 'uploadFromLocal' in adapter;\n}\n\nexport function isBucketAwareAdapter(\n  adapter: ReadableStorageAdapter\n): adapter is BucketAwareAdapter {\n  return isTransferableAdapter(adapter) \u0026\u0026 'getBucketEntries' in adapter \u0026\u0026 'setBucket' in adapter \u0026\u0026 'setRegion' in adapter;\n}\n```\n\n## Files to Modify\n- src/adapters/adapter.ts (lines 208-253)\n\n## Impact\n- ~20 lines saved\n- Cleaner, more readable code\n- Low risk - TypeScript provides compile-time guarantees\n\n## Note\nIf there's a specific reason for the typeof checks (e.g., dealing with duck-typed objects from untrusted sources), document that reason. Otherwise, simplify.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-11-25T16:15:13.949173679-06:00","updated_at":"2025-11-25T17:32:52.569250124-06:00","closed_at":"2025-11-25T17:32:52.569250124-06:00"}
{"id":"of-4op","title":"Set up build and development scripts","description":"Configure build, watch, and dev scripts in package.json","acceptance_criteria":"- npm run build compiles TypeScript\n- npm run dev runs in watch mode\n- npm start runs the compiled app","notes":"Set up package.json, tsconfig.json, .gitignore - build/dev/start scripts working","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.313943-06:00","updated_at":"2025-11-15T21:40:13.313943-06:00","closed_at":"2025-11-16T02:31:03Z"}
{"id":"of-4wtt","title":"P4B-4: Implement SFTPProvider core operations","description":"Implement list() using sftp.list(), read() using sftp.get() with Buffer, write() using sftp.put(), delete() using sftp.delete(), mkdir() using sftp.mkdir(), getMetadata() using sftp.stat(), exists() using sftp.exists(). Map SFTP errors to OperationResult. Add unit tests. Est: 5 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:45.160546-06:00","updated_at":"2025-11-27T17:14:20.393672-06:00","closed_at":"2025-11-27T17:14:20.393672-06:00"}
{"id":"of-4ymq","title":"P5-8: Update BufferView component","description":"Replace direct adapter usage with useStorage hook. Update to handle capability-based feature hiding. Ensure all operations go through StorageContext. Test with both legacy and new systems. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:16.613343-06:00","updated_at":"2025-11-27T10:46:27.555755-06:00","closed_at":"2025-11-27T10:46:27.555755-06:00","comments":[{"id":1,"issue_id":"of-4ymq","author":"michael","text":"After investigation, BufferView is purely presentational and doesn't use adapters. The actual adapter usage is in S3Explorer. This task may be incorrectly scoped. Checking with other components.","created_at":"2025-11-29T06:29:53Z"},{"id":2,"issue_id":"of-4ymq","author":"michael","text":"After analysis: BufferView itself is purely presentational and has no adapter usage. The real work is in S3Explorer which uses BufferView. S3Explorer is 1200+ lines and handles all adapter operations. This requires a comprehensive refactoring to use StorageContext. Recommend tackling smaller, more focused component migrations first (PreviewPane, HeaderBar, etc.) before the main S3Explorer component.","created_at":"2025-11-29T06:29:53Z"}]}
{"id":"of-4z9f","title":"GCSProvider missing Upload and Download capabilities","description":"GCSProvider constructor does not add Capability.Upload or Capability.Download to the capabilities set. The downloadToLocal() and uploadFromLocal() methods are implemented but the capabilities are not declared, which may cause UI issues when checking hasCapability().","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-27T17:23:33.684617-06:00","updated_at":"2025-11-27T17:24:13.413194-06:00","closed_at":"2025-11-27T17:24:13.413194-06:00"}
{"id":"of-56l","title":"Create OperationPlan type","description":"Data structure for planned operations before execution","acceptance_criteria":"- OperationPlan contains list of operations\n- Each operation has type, source, destination\n- Summary statistics (count by type)\n- Serialization for display","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.314711-06:00","updated_at":"2025-11-17T08:55:59.477289-06:00","closed_at":"2025-11-17T08:55:59.477289-06:00","dependencies":[{"issue_id":"of-56l","depends_on_id":"of-pdh","type":"blocks","created_at":"2025-11-15T19:48:35.498909-06:00","created_by":"daemon"},{"issue_id":"of-56l","depends_on_id":"of-19s","type":"blocks","created_at":"2025-11-15T19:58:04.558922-06:00","created_by":"daemon"}]}
{"id":"of-5dz","title":"S3Adapter Architecture Refactoring","description":"## Overview\nRefactoring tasks identified from architectural review to improve the S3 adapter layer's maintainability, testability, and code quality.\n\n## Goals\n1. Reduce S3Adapter from ~1017 lines to ~700-750 lines\n2. Eliminate DRY violations in progress callback patterns\n3. Clean up deprecated global registry exports\n4. Improve module cohesion and testability\n\n## Subtasks\n1. **of/g-cd4**: Extract list operations to dedicated module (High)\n2. **of-zjz**: Extract read operations to dedicated module (High)\n3. **of-oxq**: Create progress adapter factory (High)\n4. **of-aes**: Remove deprecated global registry exports (Medium)\n5. **of-5fh**: Extract shared copy command logic (Low)\n\n## Success Criteria\n- S3Adapter reduced by ~30% in line count\n- All extracted modules have dedicated test files\n- No duplicate progress callback patterns\n- Deprecated functions have runtime warnings\n\n## Effort Estimate\nTotal: 6-8 hours across all subtasks","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-25T14:33:10.731055392-06:00","updated_at":"2025-11-26T20:48:51.573814-06:00","closed_at":"2025-11-26T20:48:51.573814-06:00","dependencies":[{"issue_id":"of-5dz","depends_on_id":"of-cd4","type":"blocks","created_at":"2025-11-25T14:33:16.850202292-06:00","created_by":"daemon"},{"issue_id":"of-5dz","depends_on_id":"of-zjz","type":"blocks","created_at":"2025-11-25T14:33:16.866228164-06:00","created_by":"daemon"},{"issue_id":"of-5dz","depends_on_id":"of-oxq","type":"blocks","created_at":"2025-11-25T14:33:16.881701938-06:00","created_by":"daemon"},{"issue_id":"of-5dz","depends_on_id":"of-aes","type":"blocks","created_at":"2025-11-25T14:33:16.896961145-06:00","created_by":"daemon"},{"issue_id":"of-5dz","depends_on_id":"of-5fh","type":"blocks","created_at":"2025-11-25T14:33:16.912400083-06:00","created_by":"daemon"}]}
{"id":"of-5fh","title":"Extract shared CopyObjectCommand logic between copy and move operations","description":"## Problem\nBoth `copy-operations.ts` (line 35-43) and `move-operations.ts` (line 35-43) have nearly identical CopyObjectCommand usage:\n\n### copy-operations.ts\n```typescript\nawait retryWithBackoff(() =\u003e {\n  const command = new CopyObjectCommand({\n    Bucket: destBucket,\n    CopySource: \\`${sourceBucket}/${sourceKey}\\`,\n    Key: destKey,\n    MetadataDirective: 'COPY',\n  });\n  return client.send(command);\n}, getS3RetryConfig());\n```\n\n### move-operations.ts\n```typescript\nawait retryWithBackoff(() =\u003e {\n  const command = new CopyObjectCommand({\n    Bucket: bucket,\n    CopySource: \\`${bucket}/${sourceKey}\\`,\n    Key: destKey,\n    MetadataDirective: 'COPY',\n  });\n  return client.send(command);\n}, getS3RetryConfig());\n```\n\n## Implementation Plan\n\n### Option A: Extract to shared utility (Recommended)\nCreate a shared copy utility in `copy-operations.ts` that `move-operations.ts` imports:\n\n```typescript\n// In copy-operations.ts - make internal function exported\nexport async function executeCopyCommand(\n  client: S3Client,\n  sourceBucket: string,\n  sourceKey: string,\n  destBucket: string,\n  destKey: string\n): Promise\u003cvoid\u003e {\n  await retryWithBackoff(() =\u003e {\n    const command = new CopyObjectCommand({\n      Bucket: destBucket,\n      CopySource: \\`${sourceBucket}/${sourceKey}\\`,\n      Key: destKey,\n      MetadataDirective: 'COPY',\n    });\n    return client.send(command);\n  }, getS3RetryConfig());\n}\n```\n\nThen in move-operations.ts:\n```typescript\nimport { executeCopyCommand } from './copy-operations.js';\n\nexport async function moveObject(options: MoveObjectOptions): Promise\u003cvoid\u003e {\n  const { client, bucket, sourceKey, destKey } = options;\n\n  // Copy to new location\n  await executeCopyCommand(client, bucket, sourceKey, bucket, destKey);\n\n  // Delete from old location\n  await retryWithBackoff(() =\u003e {\n    const command = new DeleteObjectCommand({\n      Bucket: bucket,\n      Key: sourceKey,\n    });\n    return client.send(command);\n  }, getS3RetryConfig());\n}\n```\n\n### Option B: Leave as-is (Alternative)\nThe duplication is minimal (~8 lines) and the modules are intentionally decoupled.\nKeeping them separate:\n- Allows independent evolution\n- Avoids circular dependency risk\n- Makes each module self-contained\n\n## Recommendation\n**Option A** is slightly preferred for DRY, but this is a low-priority nice-to-have since:\n- The duplication is small\n- Both modules are stable\n- The pattern is unlikely to change\n\n## Files to Modify\n- src/adapters/s3/copy-operations.ts (export executeCopyCommand)\n- src/adapters/s3/move-operations.ts (import and use executeCopyCommand)\n\n## Testing\n- Verify existing tests pass\n- No new tests needed (behavior unchanged)\n\n## Effort Estimate\nVery Low (15-30 minutes)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T14:33:01.054162018-06:00","updated_at":"2025-11-26T20:49:41.991401-06:00","closed_at":"2025-11-26T20:49:41.991401-06:00"}
{"id":"of-5h35","title":"P5-16: Profile selector UI","description":"Create src/components/ProfileSelector.tsx. List available profiles from ProfileManager. Allow switching between profiles. Show provider type icon/indicator. Handle connection state during switch. Only shown when new provider system enabled. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:35.558537-06:00","updated_at":"2025-11-27T10:26:18.81042-06:00","closed_at":"2025-11-27T10:26:18.81042-06:00"}
{"id":"of-5h7","title":"Extract entry parser to s3/entry-parser.ts","description":"Extract S3 object to Entry conversion logic from S3Adapter. Functions: parseS3ObjectToEntry(), parseCommonPrefixToEntry(), parseBucketToEntry(). Currently in S3Adapter.parseEntry(), getBucketEntries(), and list() methods. ~80 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:22.555472187-06:00","updated_at":"2025-11-25T13:16:59.554265382-06:00","closed_at":"2025-11-25T13:16:59.554265382-06:00"}
{"id":"of-5j4f","title":"P4G-8: Google Drive integration tests","description":"Create integration test suite (requires Google Cloud project). Test OAuth flow (manual verification). Test full workflow: list, read, write, copy, delete. Test Shared Drive operations. Test Google Workspace doc export. Document test setup (create test project, enable API). Est: 4 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:30.738743-06:00","updated_at":"2025-11-26T20:58:30.738743-06:00"}
{"id":"of-5ny","title":"Replace any types with proper TypeScript types","description":"## Problem\nThe codebase has multiple instances of `any` type usage that reduces type safety:\n\n```typescript\n// Examples found in architectural review:\nconst [pendingOperations, setPendingOperations] = useState\u003cany[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cany[]\u003e([]);\nconst s3Adapter = adapter as any;\n```\n\nThis leads to:\n- Runtime errors that could be caught at compile time\n- Reduced IDE autocomplete support\n- Harder to refactor safely\n\n## Implementation Plan\n\n### Step 1: Audit All `any` Usage\nRun grep to find all instances:\n```bash\nrg 'any' --type ts src/ | grep -v test\n```\n\nCategories to fix:\n1. useState with any[]\n2. Type assertions (as any)\n3. Function parameters typed as any\n4. Implicit any from missing types\n\n### Step 2: Fix useState Typing\n```typescript\n// Before:\nconst [pendingOperations, setPendingOperations] = useState\u003cany[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cany[]\u003e([]);\n\n// After:\nimport { AdapterOperation } from '../types/operations';\nimport { Entry } from '../types/entry';\n\nconst [pendingOperations, setPendingOperations] = useState\u003cAdapterOperation[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cEntry[]\u003e([]);\n```\n\n### Step 3: Fix Adapter Type Assertions\n```typescript\n// Before:\nconst s3Adapter = adapter as any;\nif (s3Adapter.setBucket) { ... }\n\n// After - Option 1: Type guard\nfunction isS3Adapter(adapter: Adapter): adapter is S3Adapter {\n  return adapter.name === 's3';\n}\n\nif (isS3Adapter(adapter) \u0026\u0026 adapter.setBucket) { ... }\n\n// After - Option 2: Extend interface\ninterface ExtendedAdapter extends Adapter {\n  setBucket?(bucket: string): void;\n  getBucketEntries?(): Promise\u003cEntry[]\u003e;\n}\n```\n\n### Step 4: Fix Keyboard Event Types\n```typescript\n// Before:\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n\n// After:\nimport { Key } from 'ink'; // or custom type\n\nexport interface KeyboardKey {\n  name: string;\n  ctrl: boolean;\n  meta: boolean;\n  shift: boolean;\n  sequence?: string;\n}\n\nexport let globalKeyboardDispatcher: ((key: KeyboardKey) =\u003e void) | null = null;\n```\n\n### Step 5: Add Missing Type Definitions\nCreate or extend types as needed:\n\n```typescript\n// src/types/operations.ts - may need additions\nexport interface AdapterOperation {\n  type: 'create' | 'delete' | 'move' | 'copy' | 'rename';\n  source: string;\n  destination?: string;\n  entry?: Entry;\n}\n\n// src/types/keyboard.ts - new file if needed\nexport interface KeyboardKey {\n  name: string;\n  ctrl: boolean;\n  meta: boolean;\n  shift: boolean;\n  sequence?: string;\n}\n```\n\n### Step 6: Enable Stricter TypeScript\nConsider enabling in tsconfig.json:\n```json\n{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n```\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (multiple any usages)\n- src/index.tsx (keyboard dispatcher)\n- src/hooks/useKeyboardEvents.ts\n- src/adapters/s3-adapter.ts\n- tsconfig.json (optionally enable strict mode)\n\n## Files to Create\n- src/types/keyboard.ts (if not exists)\n\n## Testing\n- Run `bun run typecheck` after each change\n- Ensure all tests still pass\n- Fix any type errors that surface\n\n## Estimated Effort: 1-2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:04.099516-06:00","updated_at":"2025-11-24T21:54:14.691302-06:00","closed_at":"2025-11-24T21:54:14.691302-06:00"}
{"id":"of-5s2","title":"Implement copy/paste operations (c, p, P keybindings)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.298552-06:00","updated_at":"2025-11-15T21:37:50.298552-06:00","closed_at":"2025-11-15T21:28:30.681123-06:00"}
{"id":"of-5tby","title":"Add keyboard shortcuts for cut/copy/paste operations","description":"Add vim-style keyboard shortcuts for clipboard operations:\n\n- yy: Copy selected entries (pendingOps.copy)\n- dd: Cut selected entries (already toggles deletion, may need to reconsider)\n- p: Paste clipboard contents to current directory\n- P: Paste clipboard contents (alternate behavior?)\n\nConsider:\n- How dd (delete) interacts with cut - they're different operations\n- Maybe: x for cut, dd for delete\n- Visual feedback when items are in clipboard\n- Status message showing clipboard contents","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-29T10:17:29.994076-06:00","updated_at":"2025-11-29T10:20:42.960564-06:00","dependencies":[{"issue_id":"of-5tby","depends_on_id":"of-svlp","type":"blocks","created_at":"2025-11-29T10:19:05.517446-06:00","created_by":"daemon"}]}
{"id":"of-5vf8","title":"P5-11: Update operation dialogs","description":"Update UploadDialog to use StorageContext. Update ConfirmationDialog for delete operations. Update any copy/move dialogs. Ensure progress callbacks work with new system. Test with both systems. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:22.864161-06:00","updated_at":"2025-11-27T10:37:49.459565-06:00","closed_at":"2025-11-27T10:37:49.459565-06:00"}
{"id":"of-5x5","title":"Bucket selection broken in multipane root view","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T12:49:40.539011-06:00","updated_at":"2025-11-17T13:04:10.407001-06:00","closed_at":"2025-11-17T13:04:10.407001-06:00"}
{"id":"of-658h","title":"P1-5: Implement StorageProvider interface","description":"Create src/providers/provider.ts with ListOptions, ListResult, ReadOptions, WriteOptions, DeleteOptions, TransferOptions, ProgressEvent, ProgressCallback interfaces. Define StorageProvider interface with all methods. Add JSDoc comments. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:40.955186-06:00","updated_at":"2025-11-26T21:18:21.590227-06:00","closed_at":"2025-11-26T21:18:21.590227-06:00"}
{"id":"of-659","title":"Add page scrolling with Ctrl+D/U for large directories","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.299273-06:00","updated_at":"2025-11-15T21:37:50.299273-06:00","closed_at":"2025-11-15T21:28:38.708298-06:00"}
{"id":"of-67b","title":"Add interactive file upload dialog with file browser","description":"Interactive file upload dialog with file browser, keyboard navigation, upload queue management, and progress tracking. Features include multi-file selection, directory uploads, file filtering, retry logic, and integration with ProgressWindow component.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:10:39.657525-06:00","updated_at":"2025-11-24T23:08:31.935488-06:00","closed_at":"2025-11-24T23:08:31.935488-06:00"}
{"id":"of-6b0l","title":"P4B-1: Add ssh2-sftp-client dependency","description":"Add ssh2-sftp-client and @types/ssh2-sftp-client to package.json. Verify installation. Est: 0.5 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:37.748853-06:00","updated_at":"2025-11-27T17:12:21.878362-06:00","closed_at":"2025-11-27T17:12:21.878362-06:00"}
{"id":"of-6g8","title":"Implement S3Adapter.list() method","description":"List objects in S3 bucket with prefix support and pagination","acceptance_criteria":"- ListObjectsV2 command with prefix and delimiter\n- Handle pagination for large directories\n- Convert S3 objects to Entry format\n- Handle virtual directories (common prefixes)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.315443-06:00","updated_at":"2025-11-17T08:56:26.792017-06:00","closed_at":"2025-11-17T08:56:26.792017-06:00","dependencies":[{"issue_id":"of-6g8","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:28.70828-06:00","created_by":"daemon"},{"issue_id":"of-6g8","depends_on_id":"of-7rr","type":"related","created_at":"2025-11-15T19:59:04.29401-06:00","created_by":"daemon"}]}
{"id":"of-6gh0","title":"Provider System: Phase 3 - S3 Provider (Refactor)","description":"Refactor existing S3Adapter logic into S3Provider implementing new StorageProvider interface. Direct port (not wrapper). Includes core operations, transfer operations, advanced operations, error mapping, factory integration, and integration tests. Total: 31 hours, 7 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:49.499884-06:00","updated_at":"2025-11-27T12:22:06.871702-06:00","closed_at":"2025-11-27T12:22:06.871702-06:00","dependencies":[{"issue_id":"of-6gh0","depends_on_id":"of-wnn1","type":"blocks","created_at":"2025-11-26T21:01:09.141686-06:00","created_by":"daemon"}]}
{"id":"of-6jfo","title":"Add tests for usePendingOperations hook","description":"Create src/hooks/usePendingOperations.test.ts:\n\n- Hook returns correct initial state\n- markForDeletion updates operations array\n- toggleDeletion alternates state\n- cut/copy populate clipboard\n- paste creates operations from clipboard\n- getEntryState returns visual state for entry\n- execute calls adapter and clears on success\n- React re-renders on state changes\n- URI building uses correct scheme/bucket context\n\nUse React Testing Library or Bun test utilities for hook testing.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-29T10:16:55.81984-06:00","updated_at":"2025-11-29T10:20:42.841621-06:00","dependencies":[{"issue_id":"of-6jfo","depends_on_id":"of-razz","type":"blocks","created_at":"2025-11-29T10:18:54.087404-06:00","created_by":"daemon"}]}
{"id":"of-6oo","title":"Add .gitignore and basic documentation","description":"Create .gitignore, README.md with project overview","acceptance_criteria":"- .gitignore excludes node_modules, dist\n- README.md describes project and installation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.316132-06:00","updated_at":"2025-11-15T22:48:38.427435-06:00","closed_at":"2025-11-15T21:43:35.732894-06:00"}
{"id":"of-6we","title":"Replace global keyboard dispatcher with React Context","description":"## Problem\nThe codebase uses a global mutable variable for keyboard dispatch:\n\n```typescript\n// In index.tsx\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n```\n\nThis creates:\n- Hidden coupling between components\n- Difficulty testing keyboard behavior\n- Race conditions during initialization\n- No way to have multiple keyboard contexts\n\n## Implementation Plan\n\n### Step 1: Create Keyboard Context\n```typescript\n// src/contexts/KeyboardContext.tsx\nimport { createContext, useContext, useCallback, useRef, ReactNode } from 'react';\n\ninterface KeyboardContextValue {\n  registerHandler: (handler: (key: Key) =\u003e boolean) =\u003e () =\u003e void;\n  dispatch: (key: Key) =\u003e void;\n}\n\nconst KeyboardContext = createContext\u003cKeyboardContextValue | null\u003e(null);\n\nexport function KeyboardProvider({ children }: { children: ReactNode }) {\n  const handlersRef = useRef\u003cSet\u003c(key: Key) =\u003e boolean\u003e\u003e(new Set());\n  \n  const registerHandler = useCallback((handler: (key: Key) =\u003e boolean) =\u003e {\n    handlersRef.current.add(handler);\n    return () =\u003e handlersRef.current.delete(handler);\n  }, []);\n  \n  const dispatch = useCallback((key: Key) =\u003e {\n    // Handlers return true if they consumed the key\n    for (const handler of handlersRef.current) {\n      if (handler(key)) return;\n    }\n  }, []);\n  \n  return (\n    \u003cKeyboardContext.Provider value={{ registerHandler, dispatch }}\u003e\n      {children}\n    \u003c/KeyboardContext.Provider\u003e\n  );\n}\n\nexport function useKeyboard() {\n  const context = useContext(KeyboardContext);\n  if (!context) {\n    throw new Error('useKeyboard must be used within KeyboardProvider');\n  }\n  return context;\n}\n\nexport function useKeyboardHandler(handler: (key: Key) =\u003e boolean, deps: any[]) {\n  const { registerHandler } = useKeyboard();\n  \n  useEffect(() =\u003e {\n    return registerHandler(handler);\n  }, [registerHandler, ...deps]);\n}\n```\n\n### Step 2: Create Priority-Based Handler System\n```typescript\n// Support handler priorities (dialogs \u003e main UI)\ninterface HandlerRegistration {\n  handler: (key: Key) =\u003e boolean;\n  priority: number;\n}\n\nexport function KeyboardProvider({ children }: { children: ReactNode }) {\n  const handlersRef = useRef\u003cHandlerRegistration[]\u003e([]);\n  \n  const registerHandler = useCallback((\n    handler: (key: Key) =\u003e boolean, \n    priority = 0\n  ) =\u003e {\n    const registration = { handler, priority };\n    handlersRef.current.push(registration);\n    handlersRef.current.sort((a, b) =\u003e b.priority - a.priority);\n    \n    return () =\u003e {\n      handlersRef.current = handlersRef.current.filter(r =\u003e r !== registration);\n    };\n  }, []);\n  \n  // ...\n}\n```\n\n### Step 3: Update index.tsx\n```typescript\n// Before:\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n\nfunction App() {\n  // Set global dispatcher somewhere\n}\n\n// After:\nfunction App() {\n  return (\n    \u003cKeyboardProvider\u003e\n      \u003cS3Explorer ... /\u003e\n    \u003c/KeyboardProvider\u003e\n  );\n}\n```\n\n### Step 4: Update S3Explorer\n```typescript\n// Before:\nuseEffect(() =\u003e {\n  globalKeyboardDispatcher = handleKeyPress;\n  return () =\u003e { globalKeyboardDispatcher = null; };\n}, []);\n\n// After:\nuseKeyboardHandler((key) =\u003e {\n  handleKeyPress(key);\n  return true; // Consumed\n}, [handleKeyPress]);\n```\n\n### Step 5: Update Dialog Components\nDialogs register high-priority handlers:\n\n```typescript\nfunction ConfirmationDialog({ ... }) {\n  useKeyboardHandler((key) =\u003e {\n    if (key.name === 'escape') {\n      onCancel();\n      return true;\n    }\n    if (key.name === 'return') {\n      onConfirm();\n      return true;\n    }\n    return false;\n  }, [onCancel, onConfirm], 100); // High priority\n}\n```\n\n## Files to Create\n- src/contexts/KeyboardContext.tsx\n- src/contexts/KeyboardContext.test.tsx\n\n## Files to Modify\n- src/index.tsx (remove global, add provider)\n- src/ui/s3-explorer.tsx (use hook instead of global)\n- All dialog components (use useKeyboardHandler)\n\n## Benefits\n- Testable keyboard handling (mock context in tests)\n- Clear handler priority system\n- No global mutable state\n- Type-safe keyboard events\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:01.955965-06:00","updated_at":"2025-11-24T23:39:23.834104-06:00","closed_at":"2025-11-24T23:39:23.834104-06:00"}
{"id":"of-6wk2","title":"Merge copy-operations.ts and move-operations.ts into unified module","description":"## Problem\ncopy-operations.ts and move-operations.ts are nearly identical modules with duplicated patterns:\n\n- Both list objects under a prefix\n- Both iterate and perform operation on each object\n- Move is just copy + delete\n\nCurrent state:\n- copy-operations.ts: 105 lines\n- move-operations.ts: 110 lines\n- copy-operations.test.ts: 195 lines\n- move-operations.test.ts: 175 lines\n- Total: 585 lines\n\n## Proposed Change\nMerge into a single `object-operations.ts` module (~130 lines):\n\n```typescript\n// object-operations.ts\n\nexport async function copyObject(options: CopyObjectOptions): Promise\u003cvoid\u003e { ... }\n\nexport async function moveObject(options: MoveObjectOptions): Promise\u003cvoid\u003e {\n  await copyObject({ ... });\n  await deleteObject(options.client, options.bucket, options.sourceKey);\n}\n\n// Unified batch operation for both copy and move\ninterface BatchObjectOperationOptions {\n  client: S3Client;\n  sourceBucket: string;\n  sourcePrefix: string;\n  destBucket: string;\n  destPrefix: string;\n  deleteSource?: boolean;  // true = move, false = copy\n  onProgress?: (count: number, total: number, currentKey: string) =\u003e void;\n}\n\nexport async function batchObjectOperation(options: BatchObjectOperationOptions): Promise\u003cvoid\u003e { ... }\n\n// Convenience wrappers\nexport async function copyDirectory(options: CopyDirectoryOptions): Promise\u003cvoid\u003e {\n  await batchObjectOperation({ ...options, deleteSource: false });\n}\n\nexport async function moveDirectory(options: MoveDirectoryOptions): Promise\u003cvoid\u003e {\n  await batchObjectOperation({ ...options, deleteSource: true });\n}\n```\n\n## Files to Create\n- src/adapters/s3/object-operations.ts (~130 lines)\n- src/adapters/s3/object-operations.test.ts (~250 lines, merged tests)\n\n## Files to Delete\n- src/adapters/s3/copy-operations.ts\n- src/adapters/s3/move-operations.ts\n- src/adapters/s3/copy-operations.test.ts\n- src/adapters/s3/move-operations.test.ts\n\n## Files to Update\n- src/adapters/s3/index.ts (update exports)\n- src/adapters/s3-adapter.ts (update imports)\n\n## Impact\n- ~200 lines saved (585 -\u003e ~380)\n- DRY principle - single implementation for batch operations\n- Easier to add features (e.g., parallel processing) in one place\n- Low risk with good test coverage","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-25T16:15:13.163013326-06:00","updated_at":"2025-11-25T17:17:28.675817931-06:00","closed_at":"2025-11-25T17:17:28.675817931-06:00"}
{"id":"of-725","title":"Update config to handle optional initial bucket","description":"Make the 'bucket' field in config optional. If not specified, start at root bucket view. Allow forced root view with 'bucket: null' setting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.760814-06:00","updated_at":"2025-11-16T20:39:10.2651-06:00","closed_at":"2025-11-16T20:39:10.2651-06:00"}
{"id":"of-79b","title":"Fix: Download UI is not functional","description":"","notes":"Fixed - Download now shows proper confirmation dialog","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T19:24:32.514871-06:00","updated_at":"2025-11-17T19:27:46.475517-06:00","closed_at":"2025-11-17T19:27:46.47552-06:00"}
{"id":"of-79e","title":"Create floating window component","description":"Reusable floating/modal window for actions and dialogs","acceptance_criteria":"- FloatingWindow component with customizable size\n- Centered or positioned floating display\n- Border and shadow styling\n- Focus management","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.316902-06:00","updated_at":"2025-11-17T09:23:29.491207-06:00","closed_at":"2025-11-17T09:23:29.491207-06:00"}
{"id":"of-7cqy","title":"Replace console.error with injected logger in S3Adapter","description":"## Problem\nS3Adapter has several places using `console.error` directly instead of the injected `this.logger.error()`:\n\n```typescript\n// Line 317\nconsole.error(`Failed to get metadata for ${path}:`, error);\n\n// Line 406  \nconsole.error(`Failed to create ${path}:`, error);\n\n// Line 457\nconsole.error(`Failed to delete ${path}:`, error);\n\n// Line 479\nconsole.error(`Failed to move ${source} to ${destination}:`, error);\n\n// Line 541\nconsole.error(`Failed to copy ${source} to ${destination}:`, error);\n```\n\nThis is inconsistent with other methods that correctly use `this.logger.error()`:\n- Line 225: `this.logger.error('Failed to list S3 objects', error);`\n- Line 240: `this.logger.error('Failed to list S3 buckets', error);`\n- Line 641: `this.logger.error(\\`Failed to download...\\`, error);`\n- Line 706: `this.logger.error(\\`Failed to upload...\\`, error);`\n\n## Impact\n- Inconsistent logging behavior\n- Cannot be controlled via logger configuration\n- Cannot be mocked in tests\n- Logs go to console even if logger is configured differently\n\n## Fix\nReplace all `console.error` calls with `this.logger.error`:\n\n```typescript\n// Before\nconsole.error(`Failed to get metadata for ${path}:`, error);\n\n// After\nthis.logger.error(`Failed to get metadata for ${path}`, error);\n```\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (5 occurrences)\n\n## Verification\n- Run tests to ensure logger mock captures error calls\n- grep for console.error to confirm none remain","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-25T16:16:38.367032387-06:00","updated_at":"2025-11-25T16:38:00.275483662-06:00","closed_at":"2025-11-25T16:38:00.275483662-06:00"}
{"id":"of-7dd","title":"Add search and filter functionality","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.299928-06:00","updated_at":"2025-11-15T21:37:50.299928-06:00","closed_at":"2025-11-15T21:28:22.980291-06:00"}
{"id":"of-7ezs","title":"P3-3: Implement S3Provider core operations","description":"Implement list() with pagination and implicit directory handling (CommonPrefixes). Implement read() returning OperationResult\u003cReadableStream\u003e. Implement write() with multipart for large files. Implement delete() single and recursive. Implement mkdir() and exists(). Est: 6 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:56:01.951017-06:00","updated_at":"2025-11-26T22:19:24.84961-06:00","closed_at":"2025-11-26T22:19:24.84961-06:00"}
{"id":"of-7j6","title":"Create basic project structure","description":"Set up src directory with adapters/, ui/, types/, utils/ folders","acceptance_criteria":"- src/adapters/ for backend adapters\n- src/ui/ for OpenTUI components\n- src/types/ for TypeScript types\n- src/utils/ for helpers","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.317629-06:00","updated_at":"2025-11-15T21:40:13.317629-06:00","closed_at":"2025-11-16T02:31:01Z"}
{"id":"of-7qq","title":"Set up linting and code formatting","description":"Configure ESLint and Prettier for code quality","acceptance_criteria":"- .eslintrc.json configured\n- .prettierrc configured\n- npm run lint works","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.319939-06:00","updated_at":"2025-11-15T22:48:38.427669-06:00","closed_at":"2025-11-15T21:43:54.06302-06:00"}
{"id":"of-7rr","title":"Implement buffer loading from adapter","description":"Load entries from adapter and populate buffer","acceptance_criteria":"- loadBuffer(path) async function\n- Calls adapter.list() and populates buffer\n- Shows loading indicator\n- Handles errors gracefully","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.320921-06:00","updated_at":"2025-11-17T08:50:03.340432-06:00","closed_at":"2025-11-17T08:50:03.340432-06:00","dependencies":[{"issue_id":"of-7rr","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:48:05.144943-06:00","created_by":"daemon"}]}
{"id":"of-7wu","title":"Add standard floating ErrorDialog: display error in red with Enter to acknowledge","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-17T11:23:36.973236-06:00","updated_at":"2025-11-17T11:32:32.528646-06:00","closed_at":"2025-11-17T11:32:32.528646-06:00"}
{"id":"of-7y0","title":"Implement S3Adapter.getMetadata() method","description":"Fetch detailed metadata for S3 object","acceptance_criteria":"- HeadObject command to get metadata\n- Return size, modified, content-type, storage-class\n- Handle S3-specific metadata (tags, version-id)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.321551-06:00","updated_at":"2025-11-17T08:56:26.832478-06:00","closed_at":"2025-11-17T08:56:26.832478-06:00","dependencies":[{"issue_id":"of-7y0","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:31.074562-06:00","created_by":"daemon"}]}
{"id":"of-807","title":"Create BufferState type and manager","description":"Define buffer state holding entries, cursor, and selection","acceptance_criteria":"- BufferState interface with entries array, cursor position\n- BufferManager class to manage state\n- Methods to update entries, cursor","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.322228-06:00","updated_at":"2025-11-17T08:55:10.790517-06:00","closed_at":"2025-11-17T08:55:10.790517-06:00","dependencies":[{"issue_id":"of-807","depends_on_id":"of-2cl","type":"blocks","created_at":"2025-11-15T19:47:51.551271-06:00","created_by":"daemon"},{"issue_id":"of-807","depends_on_id":"of-0sv","type":"blocks","created_at":"2025-11-15T19:58:16.996313-06:00","created_by":"daemon"}]}
{"id":"of-82y","title":"Add bucket breadcrumb in status bar","description":"Update status bar to show current location - either 'Buckets (root)' when viewing buckets, or 'bucket-name/' when inside a bucket. Show navigation path.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.628-06:00","updated_at":"2025-11-17T09:10:55.283408-06:00","closed_at":"2025-11-17T09:10:55.283408-06:00"}
{"id":"of-85ea","title":"Inline trivial wrapper methods in S3Adapter","description":"## Problem\nS3Adapter has several private wrapper methods that add no value - they just forward to imported functions with the same parameters:\n\n```typescript\n// These wrappers add unnecessary indirection:\n\nprivate async moveSingleFile(source: string, destination: string): Promise\u003cvoid\u003e {\n  await moveObject({ client: this.client, bucket: this.bucket!, sourceKey: source, destKey: destination });\n}\n\nprivate async copySingleFile(source: string, destination: string, targetBucket: string): Promise\u003cvoid\u003e {\n  await copyObject({ ... });\n}\n\nprivate async downloadSingleFileToLocal(s3Key: string, localPath: string, options?: OperationOptions): Promise\u003cvoid\u003e {\n  await downloadFileToLocal({ ... });\n}\n\nprivate async uploadSingleFileToS3(localPath: string, s3Key: string, options?: OperationOptions): Promise\u003cvoid\u003e {\n  await uploadFileToS3({ ... });\n}\n\nprivate async moveDirectory(...): Promise\u003cvoid\u003e {\n  await moveDirectoryOp({ ... });\n}\n\nprivate async copyDirectory(...): Promise\u003cvoid\u003e {\n  await copyDirectoryOp({ ... });\n}\n\nprivate async downloadDirectoryToLocal(...): Promise\u003cvoid\u003e {\n  await downloadDirToLocal({ ... });\n}\n\nprivate async uploadDirectoryToS3(...): Promise\u003cvoid\u003e {\n  await uploadDirectoryToS3({ ... });\n}\n```\n\n## Proposed Change\nInline these calls directly in the public methods. Example:\n\n```typescript\nasync move(source: string, destination: string, options?: OperationOptions): Promise\u003cvoid\u003e {\n  // ...\n  if (isDirectory) {\n    await moveDirectoryOp({  // Direct call, no wrapper\n      client: this.client,\n      bucket: this.bucket!,\n      sourcePrefix: srcNormalized,\n      destPrefix: destNormalized,\n      onProgress: createProgressAdapter('Moving objects', options?.onProgress),\n    });\n  } else {\n    await moveObject({  // Direct call, no wrapper\n      client: this.client,\n      bucket: this.bucket!,\n      sourceKey: srcNormalized,\n      destKey: destNormalized,\n    });\n  }\n}\n```\n\n## Files to Modify\n- src/adapters/s3-adapter.ts\n\n## Impact\n- ~40 lines saved\n- Reduces indirection (easier to follow code)\n- Low risk - just inlining","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-11-25T16:15:12.518172797-06:00","updated_at":"2025-11-26T20:52:26.259518-06:00","closed_at":"2025-11-26T20:52:26.259518-06:00"}
{"id":"of-8a9","title":"Set up CI/CD for automatic dependency updates with PR creation","description":"## Research Summary\n\n### Recommendation: Renovate Bot\n\n**Why Renovate over Dependabot:**\n1. **Better Bun Support** - Dedicated bun manager, handles both bun.lock and bun.lockb\n2. **More Flexible Grouping** - packageRules is more powerful than Dependabot groups\n3. **Native Auto-merge** - No separate GitHub Actions workflow needed\n4. **Preset System** - Can extend community presets like config:recommended\n5. **Dependency Dashboard** - Creates a tracking issue for visibility\n\n### Implementation Steps\n\n1. Install Renovate GitHub App: https://github.com/apps/renovate\n2. Create renovate.json in repository root\n3. Renovate creates onboarding PR to confirm config\n\n### Recommended Configuration\n\n```json\n{\n  \"$schema\": \"https://docs.renovatebot.com/renovate-schema.json\",\n  \"extends\": [\n    \"config:recommended\",\n    \":automergeMinor\",\n    \":automergeDigest\",\n    \"schedule:weekends\"\n  ],\n  \"labels\": [\"dependencies\"],\n  \"platformAutomerge\": true,\n  \"packageRules\": [\n    {\n      \"description\": \"Group all non-major devDependencies\",\n      \"matchDepTypes\": [\"devDependencies\"],\n      \"matchUpdateTypes\": [\"minor\", \"patch\"],\n      \"groupName\": \"dev dependencies (non-major)\"\n    },\n    {\n      \"description\": \"Group TypeScript and type definitions\",\n      \"matchPackagePatterns\": [\"^typescript\", \"^@types/\"],\n      \"groupName\": \"TypeScript\"\n    },\n    {\n      \"description\": \"Group testing packages\",\n      \"matchPackagePatterns\": [\"vitest\", \"jest\", \"@testing-library\"],\n      \"groupName\": \"testing\"\n    },\n    {\n      \"description\": \"Group AWS SDK packages\",\n      \"matchPackagePatterns\": [\"^@aws-sdk/\"],\n      \"groupName\": \"AWS SDK\",\n      \"schedule\": [\"before 5am on Sunday\"]\n    },\n    {\n      \"description\": \"Automerge patch updates\",\n      \"matchUpdateTypes\": [\"patch\"],\n      \"automerge\": true\n    },\n    {\n      \"description\": \"Dont automerge major updates\",\n      \"matchUpdateTypes\": [\"major\"],\n      \"automerge\": false\n    }\n  ],\n  \"prHourlyLimit\": 2,\n  \"prConcurrentLimit\": 10,\n  \"dependencyDashboard\": true\n}\n```\n\n### Key Features of This Config\n\n- **Weekend scheduling** - Updates run on weekends to minimize disruption\n- **Grouped PRs** - DevDeps, TypeScript, testing, and AWS SDK grouped separately\n- **Smart auto-merge** - Patch updates auto-merge; major updates require review\n- **Rate limiting** - Max 2 PRs/hour, 10 concurrent to avoid PR flood\n\n### When Dependabot Might Be Preferred\n\n- Maximum simplicity needed\n- GitHub-native experience preferred\n- Org already standardized on Dependabot","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-25T15:51:28.188097543-06:00","updated_at":"2025-11-25T16:46:10.035088943-06:00","closed_at":"2025-11-25T16:46:10.035088943-06:00"}
{"id":"of-8d0","title":"S3-Specific Features","description":"S3-specific functionality like versioning, tagging, storage classes, and metadata","design":"Show S3 metadata in columns, support version browsing, tag management, storage class transitions.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-15T21:40:13.322862-06:00","updated_at":"2025-11-26T20:50:25.611231-06:00","closed_at":"2025-11-26T20:50:25.611231-06:00"}
{"id":"of-8f8","title":"Implement S3Adapter.create() method","description":"Create objects and virtual directories in S3","acceptance_criteria":"- PutObject for new files (empty or with content)\n- Create marker objects for directories\n- Support multipart upload for large files","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.323458-06:00","updated_at":"2025-11-17T08:56:26.874033-06:00","closed_at":"2025-11-17T08:56:26.874033-06:00","dependencies":[{"issue_id":"of-8f8","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:33.124267-06:00","created_by":"daemon"},{"issue_id":"of-8f8","depends_on_id":"of-ret","type":"related","created_at":"2025-11-15T19:59:05.108561-06:00","created_by":"daemon"}]}
{"id":"of-8io","title":"Help dialog text rendering outside box - needs relative positioning","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-17T09:31:24.92459-06:00","updated_at":"2025-11-17T09:34:17.895172-06:00","closed_at":"2025-11-17T09:34:17.895172-06:00"}
{"id":"of-8jy","title":"Add split view support","description":"Horizontal/vertical splits for multiple buffers","acceptance_criteria":"- Ctrl+W v for vertical split\n- Ctrl+W s for horizontal split\n- Ctrl+W w to switch between panes\n- Independent buffers per pane","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.324048-06:00","updated_at":"2025-11-17T20:59:04.943552-06:00","closed_at":"2025-11-17T20:59:04.943552-06:00"}
{"id":"of-8mr","title":"Remove redundant clientWithRegionFactory dependency injection","description":"## Problem\nS3AdapterDependencies has two factory injections that are redundant:\n```typescript\ninterface S3AdapterDependencies {\n  clientFactory?: S3ClientFactory;\n  clientWithRegionFactory?: S3ClientWithRegionFactory;  // Redundant\n  logger?: S3AdapterLogger;\n}\n```\n\nThe `createS3ClientWithRegion` function just calls `createS3Client` with a different region:\n```typescript\nexport function createS3ClientWithRegion(options: S3ClientOptions, newRegion: string): S3ClientResult {\n  return createS3Client({ ...options, region: newRegion });\n}\n```\n\n## Current Usage\nIn `setRegion()`:\n```typescript\nconst { client } = this.clientWithRegionFactory(this.clientOptions, region);\n```\n\n## Proposed Change\nRemove `clientWithRegionFactory` and just use `clientFactory`:\n```typescript\nsetRegion(region: string): void {\n  if (region !== this.currentRegion) {\n    this.currentRegion = region;\n    const { client } = this.clientFactory({ ...this.clientOptions, region });\n    this.client = client;\n  }\n}\n```\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (remove field, update setRegion)\n- src/adapters/s3/client-factory.ts (can keep or remove createS3ClientWithRegion)\n- src/adapters/s3-adapter.di.test.ts (update tests)\n\n## Impact\n- ~15 lines saved\n- Simpler DI interface\n- Low risk","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-11-25T16:15:12.215205183-06:00","updated_at":"2025-11-25T17:27:52.638521761-06:00","closed_at":"2025-11-25T17:27:52.638521761-06:00"}
{"id":"of-8qx","title":"Replace global AdapterRegistry singleton with context-based DI","description":"Global singleton getAdapterRegistry() creates hidden dependencies and testing difficulties. Add createAdapterRegistry() factory, resetAdapterRegistry() for tests, and create AdapterContext.tsx with AdapterProvider and useAdapter hook for React components. Keep backward-compatible default registry during migration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:22.466892462-06:00","updated_at":"2025-11-25T14:21:32.887885426-06:00","closed_at":"2025-11-25T14:21:32.887885426-06:00"}
{"id":"of-8vp","title":"Add download to local filesystem","description":"Download S3 objects to local directory","acceptance_criteria":"- 'd' downloads selected files\n- Prompt for destination path\n- Show download progress\n- Handle directory downloads recursively","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.324624-06:00","updated_at":"2025-11-17T19:01:32.492893-06:00","closed_at":"2025-11-17T19:01:32.492893-06:00"}
{"id":"of-8wdx","title":"P2-12: CLI commands for profile management (optional)","description":"Add CLI commands: of/g profile list, of profile add (interactive), of profile remove \u003cid\u003e, of profile show \u003cid\u003e (masked), of profile test \u003cid\u003e, of profile set-credential \u003cid\u003e. Est: 6 hours (can defer)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T20:55:37.790082-06:00","updated_at":"2025-11-27T12:24:45.217447-06:00","closed_at":"2025-11-27T12:24:45.217447-06:00"}
{"id":"of-8wvs","title":"P4H-2: Integration tests for cross-provider transfers","description":"Test S3 -\u003e Local, Local -\u003e S3, S3 -\u003e S3 (should use native copy if same provider instance, otherwise stream). Mock streams to verify backpressure handling. Est: 4 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:39.642833-06:00","updated_at":"2025-11-26T20:58:39.642833-06:00"}
{"id":"of-8yn","title":"Add entry deletion with 'dd'","description":"Delete entry at cursor or selection","acceptance_criteria":"- dd marks entry for deletion\n- Works on single entry or visual selection\n- Entry shown with strikethrough\n- Undo with u before save","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.325184-06:00","updated_at":"2025-11-24T23:13:00.606348-06:00","closed_at":"2025-11-24T23:13:00.606348-06:00","dependencies":[{"issue_id":"of-8yn","depends_on_id":"of-bga","type":"blocks","created_at":"2025-11-15T19:58:38.688033-06:00","created_by":"daemon"}]}
{"id":"of-90u","title":"Inject dependencies in S3Adapter constructor","description":"S3Adapter constructor hard-codes client creation via createS3Client(), making unit testing difficult. Add S3AdapterDependencies interface with optional clientFactory and logger. Default to existing functions but allow injection for testing. This enables unit tests without mocking AWS SDK modules.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:21.715082442-06:00","updated_at":"2025-11-25T13:50:52.390416969-06:00","closed_at":"2025-11-25T13:50:52.390416969-06:00"}
{"id":"of-92w4","title":"P7-12: Archive migration artifacts","description":"Create docs/archive/ directory. Move migration-related docs to archive. Move src/providers/types/mappers.ts to archive (historical reference). Keep for historical reference. Tag git commit as post-migration. Est: 1 hour","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T21:00:33.280689-06:00","updated_at":"2025-11-27T12:12:47.735461-06:00","closed_at":"2025-11-27T12:12:47.735461-06:00"}
{"id":"of-96pq","title":"P2-7: Implement per-provider credential resolvers","description":"Create src/providers/credentials/resolvers/ with s3-credential-resolver.ts, gcs-credential-resolver.ts, sftp-credential-resolver.ts, ftp-credential-resolver.ts, smb-credential-resolver.ts, gdrive-credential-resolver.ts. Each with provider-specific priority chains. Add factory function. Add unit tests. Est: 7 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:28.573394-06:00","updated_at":"2025-11-26T22:04:23.517761-06:00","closed_at":"2025-11-26T22:04:23.517761-06:00"}
{"id":"of-98b","title":"Create proper React help dialog component with keybinding elements","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T09:50:14.517553-06:00","updated_at":"2025-11-17T09:51:12.665151-06:00","closed_at":"2025-11-17T09:51:12.665151-06:00"}
{"id":"of-9igc","title":"P4F-1: Create LocalProvider class","description":"Create src/providers/local/local-provider.ts. Extend BaseStorageProvider. Constructor accepts LocalProfile (basePath only). Declare all filesystem capabilities. Useful for testing and as reference implementation. Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:00.531061-06:00","updated_at":"2025-11-26T20:58:00.531061-06:00"}
{"id":"of-9izo","title":"P2-11: Integration tests for ProfileManager","description":"Test full lifecycle: create→save→load→update→delete. Test persistence across ProfileManager instances. Test validation error scenarios. Test createProviderFromProfile integration. Test credential resolution chain. Test keychain storage with mocks. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:35.59919-06:00","updated_at":"2025-11-26T22:11:16.26908-06:00","closed_at":"2025-11-26T22:11:16.26908-06:00"}
{"id":"of-9ksg","title":"P1-3: Implement OperationResult types","description":"Create src/providers/types/result.ts with OperationStatus enum, OperationError interface, OperationResult\u003cT\u003e generic type, Result factory object with helpers (success, notFound, permissionDenied, unimplemented, connectionFailed, error), and isSuccess type guard. Add unit tests. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:35.838802-06:00","updated_at":"2025-11-26T21:17:07.451157-06:00","closed_at":"2025-11-26T21:17:07.451157-06:00"}
{"id":"of-9wkv","title":"P1-8: Implement prefixed provider types","description":"Create src/providers/types/entry.ts with ProviderEntryType enum, ProviderEntryMetadata interface, ProviderEntry interface. Create progress.ts with ProviderProgressEvent and ProviderProgressCallback. Create list.ts with ProviderListOptions and ProviderListResult. Export all from types/index.ts. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:49.244527-06:00","updated_at":"2025-11-26T21:21:57.595074-06:00","closed_at":"2025-11-26T21:21:57.595074-06:00"}
{"id":"of-9x5m","title":"P4C-3: Implement FTP connection lifecycle","description":"Implement connect() handling anonymous, username/password, and FTPS (secure: true or implicit). Set passive mode. Implement disconnect() and isConnected(). Add unit tests. Est: 3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:03.800533-06:00","updated_at":"2025-11-27T17:18:11.538731-06:00","closed_at":"2025-11-27T17:18:11.538731-06:00"}
{"id":"of-9zz","title":"Implement entry opening/navigation (Enter, -)","description":"Enter directories and navigate up with -","acceptance_criteria":"- Enter/Return opens directory or selects file\n- - (dash) navigates to parent\n- Path updates correctly\n- Buffer reloads on navigation","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.325733-06:00","updated_at":"2025-11-17T08:55:51.657998-06:00","closed_at":"2025-11-17T08:55:51.657998-06:00","dependencies":[{"issue_id":"of-9zz","depends_on_id":"of-7rr","type":"blocks","created_at":"2025-11-15T19:48:14.736727-06:00","created_by":"daemon"}]}
{"id":"of-a03","title":"Set up CI/CD pipeline (GitHub Actions)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:01:11.685502-06:00","updated_at":"2025-11-17T09:23:54.139606-06:00","closed_at":"2025-11-17T09:23:54.139606-06:00"}
{"id":"of-a1a","title":"Implement LocalStack integration tests","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:37:50.300583-06:00","updated_at":"2025-11-15T21:37:50.300583-06:00","closed_at":"2025-11-15T21:29:24.471936-06:00"}
{"id":"of-a4zk","title":"P5-4: Implement LegacyStorageAdapter","description":"Create src/contexts/LegacyStorageAdapter.ts implementing StorageContextValue interface. Wrap existing S3Adapter and AdapterContext. Maintain backward compatibility with all existing behavior. Add unit tests. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:06.474034-06:00","updated_at":"2025-11-27T09:10:44.218515-06:00","closed_at":"2025-11-27T09:10:44.218515-06:00"}
{"id":"of-aebc","title":"P5-13: Implement capability-based UI adaptation","description":"Create src/components/CapabilityGate.tsx. Update UI to hide/disable features based on capabilities. Hide copy button if no Copy capability, hide permissions column if no Permissions capability, hide versioning UI if no Versioning capability. Add visual indicators for unsupported operations. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:27.772523-06:00","updated_at":"2025-11-27T10:19:55.078904-06:00","closed_at":"2025-11-27T10:19:55.078904-06:00"}
{"id":"of-aes","title":"Remove deprecated global registry exports in v2","description":"## Problem\nThe registry.ts module exports deprecated global singleton functions that can lead to hidden state issues:\n- `getAdapterRegistry()` - line 116\n- `registerAdapter()` - line 161  \n- `getAdapter()` - line 170\n- `registerS3()` - line 179\n\nThese are marked @deprecated but still exported, creating potential for misuse. The recommended pattern is `createAdapterRegistry()` for explicit DI.\n\n## Implementation Plan\n\n### Phase 1: Audit Usage (Pre-removal)\n1. Search codebase for usage of deprecated functions\n2. Document any remaining usages\n3. Update any internal code still using deprecated functions\n\n### Phase 2: Add Runtime Warnings (v1.x)\nAdd console.warn on first call to deprecated functions:\n```typescript\nlet warnedGlobal = false;\nexport function getAdapterRegistry(): AdapterRegistry {\n  if (!warnedGlobal \u0026\u0026 process.env.NODE_ENV !== 'production') {\n    console.warn(\n      'getAdapterRegistry() is deprecated. Use createAdapterRegistry() for explicit DI.'\n    );\n    warnedGlobal = true;\n  }\n  // existing implementation\n}\n```\n\n### Phase 3: Remove Exports (v2.0)\nIn major version bump:\n1. Remove `getAdapterRegistry` export\n2. Remove `registerAdapter` export\n3. Remove `getAdapter` export  \n4. Remove `registerS3` export\n5. Keep internal `globalRegistry` for backwards compat if needed via opt-in\n\n### Alternative: Lazy Registration\nInstead of removing, make MockAdapter registration lazy:\n```typescript\nexport class AdapterRegistry {\n  private adapters: Map\u003cstring, Adapter\u003e = new Map();\n  private factories: Map\u003cstring, () =\u003e Adapter\u003e = new Map();\n\n  constructor() {\n    // Register factory instead of instance\n    this.factories.set('mock', () =\u003e new MockAdapter());\n  }\n\n  getAdapter(name: string): Adapter {\n    // Check instances first\n    let adapter = this.adapters.get(name);\n    if (adapter) return adapter;\n    \n    // Check factories\n    const factory = this.factories.get(name);\n    if (factory) {\n      adapter = factory();\n      this.adapters.set(name, adapter);\n      return adapter;\n    }\n    \n    throw new Error(`Adapter not found: ${name}`);\n  }\n}\n```\n\n## Files to Modify\n- src/adapters/registry.ts\n\n## Testing\n- Verify createAdapterRegistry() still works\n- Verify existing tests pass\n- Add deprecation warning tests (Phase 2)\n\n## Migration Guide (for CHANGELOG)\n```markdown\n### Breaking Changes (v2.0)\n- Removed `getAdapterRegistry()` - use `createAdapterRegistry()`\n- Removed `registerAdapter()` - use `registry.register()`\n- Removed `getAdapter()` - use `registry.getAdapter()`\n- Removed `registerS3()` - use `registry.registerS3()`\n```\n\n## Effort Estimate\nLow (30 minutes for Phase 2, additional time for Phase 3 in major release)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T14:32:40.053783149-06:00","updated_at":"2025-11-26T20:49:41.990701-06:00","closed_at":"2025-11-26T20:49:41.990701-06:00"}
{"id":"of-afd","title":"Write adapter interface tests","description":"Test MockAdapter and S3Adapter implementations","acceptance_criteria":"- Test all adapter methods\n- Test error handling\n- Test pagination\n- 80%+ code coverage","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.326303-06:00","updated_at":"2025-11-17T08:57:53.609987-06:00","closed_at":"2025-11-17T08:57:53.609987-06:00","dependencies":[{"issue_id":"of-afd","depends_on_id":"of-18l","type":"blocks","created_at":"2025-11-15T19:49:44.808419-06:00","created_by":"daemon"},{"issue_id":"of-afd","depends_on_id":"of-fi2","type":"parent-child","created_at":"2025-11-15T19:58:56.308974-06:00","created_by":"daemon"}]}
{"id":"of-ai7y","title":"P5-12: Update keyboard handlers","description":"Ensure keyboard operations use StorageContext. Update yy (copy), dd (delete), p (paste) handlers. Verify all keybindings work with new system. Test with both systems. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:25.012808-06:00","updated_at":"2025-11-27T10:39:28.643358-06:00","closed_at":"2025-11-27T10:39:28.643358-06:00"}
{"id":"of-aif","title":"Add upload from local filesystem","description":"Upload local files to S3","acceptance_criteria":"- 'u' opens upload dialog\n- File picker for local files\n- Show upload progress\n- Handle directory uploads","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.326847-06:00","updated_at":"2025-11-17T19:01:34.638077-06:00","closed_at":"2025-11-17T19:01:34.638077-06:00"}
{"id":"of-aiy7","title":"P5-17: Connection status indicator","description":"Create src/components/ConnectionStatus.tsx. Show connected/disconnected state for connection-oriented providers. Show reconnect button on disconnect. Integrate into status bar. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:37.529739-06:00","updated_at":"2025-11-27T10:22:09.775285-06:00","closed_at":"2025-11-27T10:22:09.775285-06:00"}
{"id":"of-am4","title":"Implement object tagging UI","description":"View and edit S3 object tags","acceptance_criteria":"- 't' opens tag editor\n- Show existing tags as key=value\n- Add/edit/delete tags\n- Save tags to S3","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.327348-06:00","updated_at":"2025-11-27T18:52:17.908835-06:00","closed_at":"2025-11-27T18:52:17.908835-06:00"}
{"id":"of-avq8","title":"Remove unused AdapterRegistry","description":"The AdapterRegistry (registry.ts) is not used in the main application. The app creates adapters directly in index.tsx and passes them to components.\n\n**Current usage**:\n- registry.ts: Defines AdapterRegistry class and createAdapterRegistry()\n- AdapterContext.tsx: Imports types and has optional registry support\n- No runtime usage in index.tsx or any UI components\n\n**Files to delete**:\n- src/adapters/registry.ts (136 lines)\n- src/adapters/registry.test.ts (199 lines)\n\n**Files to modify**:\n- src/contexts/AdapterContext.tsx: Remove registry import, AdapterRegistry type, registry prop, useAdapterRegistry hook\n- src/contexts/AdapterContext.test.tsx: Remove registry-related tests\n\n**Impact**:\n- Removes ~335 lines of unused code\n- Simplifies AdapterContext\n- No functionality change (feature was never used)\n\n**If we need multi-adapter support later**: Can re-add with a simpler design based on actual requirements.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-25T16:30:11.336790376-06:00","updated_at":"2025-11-25T17:21:18.750427048-06:00","closed_at":"2025-11-25T17:21:18.750427048-06:00"}
{"id":"of-axmz","title":"P1-1: Create provider types directory structure","description":"Create src/providers/ directory, src/providers/types/ subdirectory, and src/providers/index.ts with placeholder exports. Est: 0.5 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:29.685803-06:00","updated_at":"2025-11-26T21:17:05.037588-06:00","closed_at":"2025-11-26T21:17:05.037588-06:00"}
{"id":"of-ayj2","title":"P4D-3: Implement SMB connection lifecycle","description":"Implement connect() building UNC path from host+share, handling domain/workgroup and username/password (NTLM auth). Set autoCloseTimeout. Implement disconnect() and isConnected(). Add unit tests. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:21.30735-06:00","updated_at":"2025-11-26T20:57:21.30735-06:00"}
{"id":"of-b0cj","title":"Setup SFTP server in docker-compose for integration testing","description":"Add atmoz/sftp or similar SFTP server to docker-compose.yml for SFTP integration testing. Configure with test user credentials and SSH key auth. Document connection settings for tests. Link to P4B-7 SFTP integration tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T17:22:55.540362-06:00","updated_at":"2025-11-27T17:56:14.665072-06:00","closed_at":"2025-11-27T17:56:14.665072-06:00"}
{"id":"of-b0r","title":"Update documentation for bucket root view","description":"Update README and QUICKSTART with bucket root view feature. Document bucket navigation, metadata columns, and configuration changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T20:32:56.807137-06:00","updated_at":"2025-11-16T20:35:19.54502-06:00","closed_at":"2025-11-16T20:35:19.54502-06:00"}
{"id":"of-b10","title":"Implement real performance tests or remove stubs","description":"## Problem\nThe file useBufferState.perf.test.ts contains placeholder tests that don't actually test anything:\n\n```typescript\nit('handles cursor movement in O(1) time', () =\u003e {\n  expect(true).toBe(true);  // No actual test\n});\n```\n\nThis gives false confidence in performance characteristics and clutters the test suite.\n\n## Implementation Plan\n\n### Step 1: Audit Performance Test Stubs\nReview useBufferState.perf.test.ts to identify all placeholder tests.\n\n### Step 2: Decide: Implement or Remove\nFor each stub, decide whether to:\n- **Implement**: If the performance characteristic is critical\n- **Remove**: If the test isn't valuable\n\n### Step 3: Implement Real Performance Tests\nUse performance.now() or Bun's benchmarking:\n\n```typescript\n// src/hooks/useBufferState.perf.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useBufferState } from './useBufferState';\n\ndescribe('useBufferState Performance', () =\u003e {\n  const LARGE_ENTRY_COUNT = 10000;\n  const ITERATIONS = 1000;\n  const MAX_TIME_MS = 10; // Max time for operation\n\n  function createLargeEntryList(count: number): Entry[] {\n    return Array.from({ length: count }, (_, i) =\u003e ({\n      id: `entry-${i}`,\n      name: `file-${i}.txt`,\n      type: 'file' as const,\n      path: `/bucket/file-${i}.txt`,\n      size: 1024,\n      lastModified: new Date(),\n    }));\n  }\n\n  it('handles cursor movement in O(1) time with large lists', () =\u003e {\n    const entries = createLargeEntryList(LARGE_ENTRY_COUNT);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    const start = performance.now();\n    for (let i = 0; i \u003c ITERATIONS; i++) {\n      act(() =\u003e {\n        result.current.moveCursor(1);\n      });\n    }\n    const elapsed = performance.now() - start;\n    const avgTime = elapsed / ITERATIONS;\n\n    expect(avgTime).toBeLessThan(MAX_TIME_MS);\n    console.log(`Average cursor move time: ${avgTime.toFixed(3)}ms`);\n  });\n\n  it('handles selection toggle in O(1) time', () =\u003e {\n    const entries = createLargeEntryList(LARGE_ENTRY_COUNT);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    const start = performance.now();\n    for (let i = 0; i \u003c ITERATIONS; i++) {\n      act(() =\u003e {\n        result.current.toggleSelection(i % LARGE_ENTRY_COUNT);\n      });\n    }\n    const elapsed = performance.now() - start;\n    const avgTime = elapsed / ITERATIONS;\n\n    expect(avgTime).toBeLessThan(MAX_TIME_MS);\n  });\n\n  it('handles undo/redo without memory leaks', () =\u003e {\n    const entries = createLargeEntryList(100);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    // Perform many operations\n    for (let i = 0; i \u003c 1000; i++) {\n      act(() =\u003e {\n        result.current.moveCursor(1);\n        result.current.toggleSelection(i % 100);\n      });\n    }\n\n    // Check undo history is bounded\n    // This would require exposing undo history size or checking memory\n    expect(result.current.canUndo).toBe(true);\n  });\n\n  it('setEntries scales linearly with entry count', () =\u003e {\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    const times: number[] = [];\n    const sizes = [100, 1000, 5000, 10000];\n    \n    for (const size of sizes) {\n      const entries = createLargeEntryList(size);\n      const start = performance.now();\n      act(() =\u003e {\n        result.current.setEntries(entries);\n      });\n      times.push(performance.now() - start);\n    }\n\n    // Verify roughly linear scaling (10x entries should be ~10x time)\n    const ratio = times[3] / times[0];\n    expect(ratio).toBeLessThan(200); // Allow some variance\n    \n    console.log('setEntries scaling:', sizes.map((s, i) =\u003e `${s}: ${times[i].toFixed(2)}ms`));\n  });\n});\n```\n\n### Step 4: Add Bun Benchmarks (Optional)\nIf using Bun's built-in benchmarking:\n\n```typescript\n// src/hooks/useBufferState.bench.ts\nimport { bench, run } from 'mitata';\n\nbench('cursor movement', () =\u003e {\n  // benchmark implementation\n});\n\nawait run();\n```\n\n## Files to Modify\n- src/hooks/useBufferState.perf.test.ts (replace stubs with real tests)\n\n## Files to Create (Optional)\n- src/hooks/useBufferState.bench.ts (Bun benchmarks)\n\n## Testing\n- Run performance tests: `bun test useBufferState.perf`\n- Verify tests actually fail when performance degrades\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:05.500964-06:00","updated_at":"2025-11-24T22:26:59.625357-06:00","closed_at":"2025-11-24T22:26:59.625357-06:00"}
{"id":"of-b5re","title":"P4A-5: Implement GCSProvider advanced operations","description":"Implement copy() using file.copy(), move() as copy+delete, listContainers() using storage.getBuckets(), getPresignedUrl() using file.getSignedUrl(), downloadToLocal() and uploadFromLocal(). Add unit tests. Est: 4 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:28.810647-06:00","updated_at":"2025-11-27T17:08:28.680869-06:00","closed_at":"2025-11-27T17:08:28.680869-06:00"}
{"id":"of-b68","title":"Implement multi-pane layout (split view)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:01:09.579393-06:00","updated_at":"2025-11-17T12:16:25.736017-06:00","closed_at":"2025-11-17T12:16:25.736017-06:00"}
{"id":"of-bb5","title":"Create AdapterRegistry system","description":"Registry to manage multiple adapters and switch between them","acceptance_criteria":"- AdapterRegistry class to register adapters\n- getAdapter(name) method\n- Support for mock, s3, and future adapters","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.327922-06:00","updated_at":"2025-11-17T08:58:05.431368-06:00","closed_at":"2025-11-17T08:58:05.431368-06:00","dependencies":[{"issue_id":"of-bb5","depends_on_id":"of-w9f","type":"blocks","created_at":"2025-11-15T19:47:18.262862-06:00","created_by":"daemon"}]}
{"id":"of-bet","title":"Fix bucket selection endpoint mismatch","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-16T20:42:34.834192-06:00","updated_at":"2025-11-16T20:43:17.12341-06:00","closed_at":"2025-11-16T20:43:17.12341-06:00"}
{"id":"of-bga","title":"Implement change detection algorithm","description":"Compare original and edited buffer to detect changes","acceptance_criteria":"- Compare entry IDs between states\n- Detect creates (new IDs)\n- Detect deletes (missing IDs)\n- Detect renames (same ID, different name)\n- Detect moves (same ID, different position)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.328568-06:00","updated_at":"2025-11-24T23:08:18.720689-06:00","closed_at":"2025-11-24T23:08:18.720689-06:00","dependencies":[{"issue_id":"of-bga","depends_on_id":"of-2fk","type":"blocks","created_at":"2025-11-15T19:48:33.12001-06:00","created_by":"daemon"},{"issue_id":"of-bga","depends_on_id":"of-2pd","type":"blocks","created_at":"2025-11-15T19:58:03.139337-06:00","created_by":"daemon"},{"issue_id":"of-bga","depends_on_id":"of-807","type":"blocks","created_at":"2025-11-15T19:58:43.82301-06:00","created_by":"daemon"}]}
{"id":"of-bh2m","title":"Complete manual validation testing (LocalStack + Real AWS S3)","description":"Run LocalStack integration tests and complete real AWS S3 manual validation. See history/CUTOVER_VALIDATION_CHECKLIST.md for test cases. Required before cutover (of/g-jddt). Estimated: 2-3 hours.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T11:06:22.567805-06:00","updated_at":"2025-11-27T11:08:50.534891-06:00","closed_at":"2025-11-27T11:08:50.534891-06:00","dependencies":[{"issue_id":"of-bh2m","depends_on_id":"of-kd79","type":"discovered-from","created_at":"2025-11-27T11:06:22.569855-06:00","created_by":"daemon"},{"issue_id":"of-bh2m","depends_on_id":"of-jddt","type":"blocks","created_at":"2025-11-27T11:06:28.861311-06:00","created_by":"daemon"}]}
{"id":"of-bhb","title":"Add Justfile with basic development commands","description":"Create a Justfile with common development commands for building, running, testing, and managing the project","acceptance_criteria":"- just build: Compile TypeScript\n- just dev: Run in watch mode\n- just run: Execute the application\n- just clean: Remove build artifacts\n- just install: Install dependencies\n- just fmt: Format code (if applicable)\n- just test: Run tests (when available)","notes":"Created Justfile with build, dev, run, clean, install, check, fmt, test, lint, info, quick, reinstall, clean-all commands. All tested and working.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.329194-06:00","updated_at":"2025-11-15T21:40:13.329194-06:00","closed_at":"2025-11-16T02:31:03Z"}
{"id":"of-bkzr","title":"P4H-1: Create TransferManager service","description":"Create src/services/transfer-manager.ts. Implement transfer(source, dest, options) using source.provider.read() to get ReadableStream and dest.provider.write() to write. Handle progress event aggregation. Handle cancellation propagation. Add unit tests with mock providers and streams. Est: 6 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:37.015625-06:00","updated_at":"2025-11-26T20:58:37.015625-06:00"}
{"id":"of-bnay","title":"P7-8: Clean up dependencies","description":"Review package.json for unused dependencies. Remove any packages only used by legacy system. Run npm prune or equivalent. Update lock file. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:00:24.094057-06:00","updated_at":"2025-11-27T12:06:20.518488-06:00","closed_at":"2025-11-27T12:06:20.518488-06:00"}
{"id":"of-bod","title":"Operations \u0026 Change Tracking","description":"Implement change tracking, operation planning, and execution system","design":"Track buffer edits, detect creates/deletes/moves/copies, generate operation plan, show confirmation, execute on save.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.329776-06:00","updated_at":"2025-11-17T09:19:34.569936-06:00","closed_at":"2025-11-17T09:19:34.569936-06:00"}
{"id":"of-bqd","title":"Implement actions menu with 'g?'","description":"Show available actions in floating window","acceptance_criteria":"- g? shows actions menu\n- List all available keybindings\n- Grouped by category\n- Searchable/filterable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.330381-06:00","updated_at":"2025-11-17T09:24:43.434601-06:00","closed_at":"2025-11-17T09:24:43.434601-06:00"}
{"id":"of-bsr","title":"Migrate s3-explorer.tsx to use useKeyboardDispatcher","description":"Migrate s3-explorer.tsx from the current monolithic keyboard handler to the new action-based useKeyboardDispatcher system.\n\n## Current State\nThe keyboard handling infrastructure is complete:\n- useKeyboardDispatcher hook with action registration\n- keybindingDefaults.ts with key-to-action mappings\n- KeyAction type with semantic identifiers\n\n## Work Required\n1. Replace the large keyboardHandlerCallback in s3-explorer.tsx with action registrations\n2. Use registerActions() to wire up handlers for each action\n3. Remove dependency on useKeyboardEvents.ts for normal mode handling\n4. Keep useKeyboardEvents.ts for complex mode-specific logic (insert, edit, command modes) or migrate that too\n\n## Benefits\n- Cleaner separation of keybinding definitions from handlers\n- Easier to add/modify keybindings\n- Better testability\n- Single source of truth for keyboard handling\n\n## Dependencies\n- Depends on completed useKeyboardDispatcher infrastructure (done)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T23:56:09.642046-06:00","updated_at":"2025-11-25T00:03:08.016956-06:00","closed_at":"2025-11-25T00:03:08.016956-06:00"}
{"id":"of-btn","title":"S3 Buckets as Root View","description":"Transform the starting point of the application to display a list of all S3 buckets in the account as the root view, allowing users to navigate into specific buckets. This replaces the current requirement to specify a bucket upfront and enables bucket discovery and switching.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-16T20:32:45.980872-06:00","updated_at":"2025-11-17T09:15:18.025994-06:00","closed_at":"2025-11-17T09:15:18.025994-06:00","dependencies":[{"issue_id":"of-btn","depends_on_id":"of-1uh","type":"blocks","created_at":"2025-11-16T20:33:02.07478-06:00","created_by":"daemon"},{"issue_id":"of-btn","depends_on_id":"of-725","type":"blocks","created_at":"2025-11-16T20:33:02.125888-06:00","created_by":"daemon"}]}
{"id":"of-btp","title":"Implement copy operations (yy/p)","description":"Copy and paste entries","acceptance_criteria":"- yy yanks entry to clipboard\n- p pastes at cursor\n- Works with visual selection\n- Shows pending copy operation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.330902-06:00","updated_at":"2025-11-17T09:24:20.531945-06:00","closed_at":"2025-11-17T09:24:20.531945-06:00"}
{"id":"of-bv0k","title":"P5-15: Integration testing with feature flag","description":"Test full UI with USE_NEW_PROVIDER_SYSTEM=false (legacy). Test full UI with USE_NEW_PROVIDER_SYSTEM=true (new). Verify feature parity. Document any differences. Create test matrix. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:33.000502-06:00","updated_at":"2025-11-27T10:31:27.659447-06:00","closed_at":"2025-11-27T10:31:27.659447-06:00"}
{"id":"of-c2w","title":"Fix: Capital D must be pressed twice to open download dialog","description":"","notes":"Fixed - Capital D now detected on single press","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T19:24:32.160552-06:00","updated_at":"2025-11-17T19:27:46.22392-06:00","closed_at":"2025-11-17T19:27:46.223926-06:00"}
{"id":"of-c8sq","title":"Provider System: Phase 6 - Cutover","description":"Switch from legacy to new provider system as default. Includes pre-cutover validation, performance benchmarking, migration documentation, feature flag flip, monitoring/support, legacy deprecation, and removal timeline. Total: 22 hours, 7 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:58.646056-06:00","updated_at":"2025-11-27T12:15:14.034533-06:00","closed_at":"2025-11-27T12:15:14.034533-06:00"}
{"id":"of-ca3","title":"Install OpenTUI and core dependencies","description":"Add opentui, AWS SDK v3, and other core dependencies","acceptance_criteria":"- opentui installed\n- @aws-sdk/client-s3 installed\n- TypeScript and dev dependencies installed","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.331479-06:00","updated_at":"2025-11-15T22:48:38.427914-06:00","closed_at":"2025-11-15T21:43:26.098508-06:00","dependencies":[{"issue_id":"of-ca3","depends_on_id":"of-4op","type":"blocks","created_at":"2025-11-15T19:57:38.190904-06:00","created_by":"daemon"}]}
{"id":"of-cac","title":"Create BaseDialog component abstraction","description":"## Problem\nThe codebase has 6 dialog components that each implement their own:\n- Positioning and centering logic\n- Border/box styling\n- Keyboard event handling\n- Focus management\n\nThis leads to inconsistent dialog behavior and duplicated code.\n\n## Implementation Plan\n\n### Step 1: Analyze Existing Dialogs\nCurrent dialogs:\n- ConfirmationDialog - Yes/No prompts\n- HelpDialog - Keybinding help\n- ErrorDialog - Error messages\n- ProgressWindow - Operation progress\n- UploadDialog - File upload form\n- SortMenu - Sort options menu\n\n### Step 2: Design BaseDialog Component\n```typescript\n// src/ui/base-dialog-react.tsx\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface BaseDialogProps {\n  visible: boolean;\n  title?: string;\n  width?: number | string;\n  height?: number | string;\n  onClose?: () =\u003e void;\n  children: ReactNode;\n  footer?: ReactNode;\n  borderColor?: string;\n  // Keyboard handling delegated to parent or useKeyboardHandler\n}\n\nexport function BaseDialog({\n  visible,\n  title,\n  width = 60,\n  height,\n  onClose,\n  children,\n  footer,\n  borderColor = 'blue',\n}: BaseDialogProps) {\n  if (!visible) return null;\n  \n  return (\n    \u003cBox\n      position=\"absolute\"\n      top=\"50%\"\n      left=\"50%\"\n      transform=\"translate(-50%, -50%)\"\n      width={width}\n      height={height}\n      borderStyle=\"round\"\n      borderColor={borderColor}\n      flexDirection=\"column\"\n    \u003e\n      {title \u0026\u0026 (\n        \u003cBox borderBottom borderColor={borderColor} paddingX={1}\u003e\n          \u003cText bold\u003e{title}\u003c/Text\u003e\n        \u003c/Box\u003e\n      )}\n      \n      \u003cBox flexGrow={1} padding={1}\u003e\n        {children}\n      \u003c/Box\u003e\n      \n      {footer \u0026\u0026 (\n        \u003cBox borderTop borderColor={borderColor} paddingX={1}\u003e\n          {footer}\n        \u003c/Box\u003e\n      )}\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 3: Create Dialog Variants\n```typescript\n// Confirmation variant\nexport function ConfirmDialog({ \n  visible, \n  title, \n  message, \n  onConfirm, \n  onCancel \n}: ConfirmDialogProps) {\n  return (\n    \u003cBaseDialog\n      visible={visible}\n      title={title}\n      width={50}\n      onClose={onCancel}\n      footer={\n        \u003cBox justifyContent=\"space-between\"\u003e\n          \u003cText\u003e[Y]es\u003c/Text\u003e\n          \u003cText\u003e[N]o\u003c/Text\u003e\n        \u003c/Box\u003e\n      }\n    \u003e\n      \u003cText\u003e{message}\u003c/Text\u003e\n    \u003c/BaseDialog\u003e\n  );\n}\n\n// Error variant\nexport function ErrorDialog({ visible, message, onClose }: ErrorDialogProps) {\n  return (\n    \u003cBaseDialog\n      visible={visible}\n      title=\"Error\"\n      borderColor=\"red\"\n      onClose={onClose}\n      footer={\u003cText dimColor\u003ePress ESC to close\u003c/Text\u003e}\n    \u003e\n      \u003cText color=\"red\"\u003e{message}\u003c/Text\u003e\n    \u003c/BaseDialog\u003e\n  );\n}\n```\n\n### Step 4: Migrate Existing Dialogs\nFor each existing dialog:\n1. Identify unique functionality\n2. Refactor to use BaseDialog\n3. Move unique logic to content/footer sections\n4. Update tests\n\n### Step 5: Add Overlay Support\n```typescript\nexport function DialogOverlay({ children }: { children: ReactNode }) {\n  return (\n    \u003cBox\n      position=\"absolute\"\n      top={0}\n      left={0}\n      width=\"100%\"\n      height=\"100%\"\n      backgroundColor=\"rgba(0,0,0,0.5)\"\n    \u003e\n      {children}\n    \u003c/Box\u003e\n  );\n}\n```\n\n## Files to Create\n- src/ui/base-dialog-react.tsx\n- src/ui/base-dialog-react.test.tsx\n\n## Files to Modify\n- src/ui/confirmation-dialog-react.tsx\n- src/ui/error-dialog-react.tsx\n- src/ui/help-dialog-react.tsx\n- src/ui/upload-dialog-react.tsx\n- src/ui/sort-menu-react.tsx\n- src/ui/progress-window-react.tsx\n\n## Benefits\n- Consistent dialog appearance\n- Centralized positioning logic\n- Easier to add new dialog types\n- Reduced code duplication\n\n## Estimated Effort: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:02.712384-06:00","updated_at":"2025-11-24T22:16:27.103118-06:00","closed_at":"2025-11-24T22:16:27.103118-06:00"}
{"id":"of-cad","title":"Implement ACL and permissions viewer","description":"View and edit S3 object ACLs","acceptance_criteria":"- 'A' shows ACL viewer\n- Display current permissions\n- Edit ACLs (public-read, private, etc)\n- Show bucket policies","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.331991-06:00","updated_at":"2025-11-26T20:52:26.260142-06:00","closed_at":"2025-11-26T20:52:26.260142-06:00"}
{"id":"of-cd4","title":"Extract list operations from S3Adapter to dedicated module","description":"## Problem\nS3Adapter is ~1017 lines, making it harder to maintain and test. The list() method (lines 217-303) and listBuckets() method (lines 308-367) contain significant logic that can be extracted.\n\n## Implementation Plan\n\n### Step 1: Create list-operations.ts module\nCreate `src/adapters/s3/list-operations.ts` with:\n\n```typescript\n// Types\ninterface ListObjectsOptions {\n  client: S3Client;\n  bucket: string;\n  prefix: string;\n  delimiter?: string;\n  maxKeys?: number;\n  continuationToken?: string;\n  logger?: S3AdapterLogger;\n}\n\ninterface ListObjectsResult {\n  entries: Entry[];\n  continuationToken?: string;\n  hasMore: boolean;\n}\n\ninterface ListBucketsOptions {\n  client: S3Client;\n  logger?: S3AdapterLogger;\n}\n\n// Functions to extract\nexport async function listObjects(options: ListObjectsOptions): Promise\u003cListObjectsResult\u003e\nexport async function listBuckets(options: ListBucketsOptions): Promise\u003cBucketInfo[]\u003e\n```\n\n### Step 2: Extract list() logic\nMove lines 217-303 from s3-adapter.ts:\n- ListObjectsV2Command construction\n- Response parsing (CommonPrefixes, Contents)\n- Entry creation using parseCommonPrefixToEntry, parseS3ObjectToEntry\n- Sorting logic\n\n### Step 3: Extract listBuckets() logic  \nMove lines 308-367 from s3-adapter.ts:\n- ListBucketsCommand\n- GetBucketLocationCommand for each bucket\n- BucketInfo construction\n- Sorting by creation date\n\n### Step 4: Update S3Adapter\nReplace inline implementations with calls to extracted functions:\n```typescript\nasync list(path: string, options?: ListOptions): Promise\u003cListResult\u003e {\n  return listObjects({\n    client: this.client,\n    bucket: this.bucket!,\n    prefix: this.normalizePath(path, true),\n    delimiter: '/',\n    maxKeys: options?.limit,\n    continuationToken: options?.continuationToken,\n    logger: this.logger,\n  });\n}\n```\n\n### Step 5: Create tests\nCreate `src/adapters/s3/list-operations.test.ts`:\n- Test listObjects with mock S3Client\n- Test listBuckets with mock responses\n- Test pagination handling\n- Test error cases\n\n## Files to Create\n- src/adapters/s3/list-operations.ts\n- src/adapters/s3/list-operations.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce by ~150 lines)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- S3Adapter reduced from ~1017 to ~870 lines\n- List logic independently testable\n- Consistent with other extracted modules (copy-operations, move-operations)\n\n## Effort Estimate\nMedium (2-3 hours)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:31:29.909620225-06:00","updated_at":"2025-11-26T20:48:51.575586-06:00","closed_at":"2025-11-26T20:48:51.575586-06:00"}
{"id":"of-cdb","title":"Update navigation handlers for bucket selection","description":"Modify useNavigationHandlers hook to handle 'opening' (Enter key) a bucket entry, which switches the adapter's context to that bucket and loads its contents.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.58219-06:00","updated_at":"2025-11-17T09:12:21.109412-06:00","closed_at":"2025-11-17T09:12:21.109412-06:00"}
{"id":"of-cm0w","title":"P7-4: Remove legacy context code","description":"Delete src/contexts/AdapterContext.tsx. Delete LegacyStorageAdapter.ts. Remove legacy-related imports from all files. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:13.841908-06:00","updated_at":"2025-11-27T11:29:13.846493-06:00","closed_at":"2025-11-27T11:29:13.846493-06:00"}
{"id":"of-cnw0","title":"P1-9: Implement type mapper functions","description":"Create src/providers/types/mappers.ts with mapper functions for UI/legacy compatibility: toProviderEntry, fromProviderEntry, toProviderProgressEvent, fromProviderProgressEvent, toProviderListResult, fromProviderListResult. Add roundtrip unit tests. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:51.476626-06:00","updated_at":"2025-11-26T21:23:17.015421-06:00","closed_at":"2025-11-26T21:23:17.015421-06:00"}
{"id":"of-cub","title":"Create integration tests with LocalStack","description":"E2E tests using LocalStack for S3 simulation","acceptance_criteria":"- LocalStack setup in docker-compose\n- Integration test suite\n- Test full workflows (browse, create, delete, copy)\n- CI/CD pipeline integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.332575-06:00","updated_at":"2025-11-27T18:51:58.540071-06:00","closed_at":"2025-11-27T18:51:58.540071-06:00"}
{"id":"of-cwdd","title":"P6-3: Migration documentation","description":"Write user-facing migration guide. Document new profile configuration. Document any breaking changes. Create FAQ for common issues. Update README with new provider information. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:49.789546-06:00","updated_at":"2025-11-27T11:07:39.831833-06:00","closed_at":"2025-11-27T11:07:39.831833-06:00"}
{"id":"of-d1hz","title":"P4B-5: Implement SFTPProvider file operations","description":"Implement nativeMove() using sftp.rename(). Implement downloadToLocal() using sftp.fastGet(), uploadFromLocal() using sftp.fastPut(). Wire up progress callbacks. Add unit tests. Est: 3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:47.313234-06:00","updated_at":"2025-11-27T17:14:22.603837-06:00","closed_at":"2025-11-27T17:14:22.603837-06:00"}
{"id":"of-de3","title":"Help window empty - text rendering outside window bounds","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-17T09:28:14.508827-06:00","updated_at":"2025-11-17T09:41:56.248097-06:00","closed_at":"2025-11-17T09:41:56.248097-06:00"}
{"id":"of-dmhx","title":"P2-5: Implement credential provider chain architecture","description":"Create src/providers/credentials/ directory. Define Credentials interface, CredentialProvider interface, CredentialSource union type. Implement CredentialChain class that tries providers in priority order. Add unit tests. Export from credentials/index.ts. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:19.759302-06:00","updated_at":"2025-11-26T21:48:07.319384-06:00","closed_at":"2025-11-26T21:48:07.319384-06:00"}
{"id":"of-dss","title":"Standardize logging - replace console.error with logger","description":"Inconsistent error logging in adapter layer - some methods use console.error while others use logger. Audit s3-adapter.ts and sub-modules for console.* usage. Replace with structured logger calls including operation context. Improves debugging and log aggregation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T13:44:23.161471911-06:00","updated_at":"2025-11-25T16:37:54.855846391-06:00","closed_at":"2025-11-25T16:37:54.855846391-06:00"}
{"id":"of-dx4","title":"Add missing hook tests for useKeyboardEvents and useMultiPaneLayout","description":"## Problem\nCritical hooks lack dedicated test coverage:\n- useKeyboardEvents.ts (496 lines) - No tests\n- useMultiPaneLayout.ts - No tests\n- useNavigationHandlers.ts - Only 1 test file, likely incomplete\n\nThese hooks handle core functionality (keyboard input, layout, navigation) and changes could break the application silently.\n\n## Implementation Plan\n\n### Step 1: Create useKeyboardEvents Tests\n```typescript\n// src/hooks/useKeyboardEvents.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useKeyboardEvents } from './useKeyboardEvents';\nimport { EditMode } from '../types/edit-mode';\n\ndescribe('useKeyboardEvents', () =\u003e {\n  const mockBufferState = {\n    mode: EditMode.Normal,\n    cursor: 0,\n    entries: [{ id: '1', name: 'file.txt' }],\n    selection: new Set\u003cstring\u003e(),\n    // ... other required state\n  };\n\n  describe('Normal mode', () =\u003e {\n    it('handles j key for cursor down', () =\u003e {\n      const onCursorMove = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onCursorMove,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'j' });\n      });\n      \n      expect(onCursorMove).toHaveBeenCalledWith(1);\n    });\n\n    it('handles k key for cursor up', () =\u003e {\n      const onCursorMove = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, cursor: 1 },\n          onCursorMove,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'k' });\n      });\n      \n      expect(onCursorMove).toHaveBeenCalledWith(-1);\n    });\n\n    it('handles gg for jump to top', () =\u003e {\n      const onJumpTo = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onJumpTo,\n        })\n      );\n      \n      // First g\n      act(() =\u003e {\n        result.current.handleKey({ name: 'g' });\n      });\n      // Second g\n      act(() =\u003e {\n        result.current.handleKey({ name: 'g' });\n      });\n      \n      expect(onJumpTo).toHaveBeenCalledWith(0);\n    });\n\n    it('handles G for jump to bottom', () =\u003e {\n      const onJumpTo = jest.fn();\n      const entries = Array(10).fill({ id: '1', name: 'file.txt' });\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, entries },\n          onJumpTo,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'G', shift: true });\n      });\n      \n      expect(onJumpTo).toHaveBeenCalledWith(9);\n    });\n\n    it('handles space for selection toggle', () =\u003e {\n      const onToggleSelection = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onToggleSelection,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'space' });\n      });\n      \n      expect(onToggleSelection).toHaveBeenCalled();\n    });\n  });\n\n  describe('Visual mode', () =\u003e {\n    it('extends selection on cursor movement', () =\u003e {\n      const onExtendSelection = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Visual },\n          onExtendSelection,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'j' });\n      });\n      \n      expect(onExtendSelection).toHaveBeenCalled();\n    });\n\n    it('exits visual mode on escape', () =\u003e {\n      const onModeChange = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Visual },\n          onModeChange,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'escape' });\n      });\n      \n      expect(onModeChange).toHaveBeenCalledWith(EditMode.Normal);\n    });\n  });\n\n  describe('Search mode', () =\u003e {\n    it('adds characters to search query', () =\u003e {\n      const onSearchInput = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Search },\n          onSearchInput,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'a' });\n        result.current.handleKey({ name: 'b' });\n        result.current.handleKey({ name: 'c' });\n      });\n      \n      expect(onSearchInput).toHaveBeenCalledTimes(3);\n    });\n\n    it('exits search on escape', () =\u003e {\n      const onModeChange = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Search },\n          onModeChange,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'escape' });\n      });\n      \n      expect(onModeChange).toHaveBeenCalledWith(EditMode.Normal);\n    });\n  });\n});\n```\n\n### Step 2: Create useMultiPaneLayout Tests\n```typescript\n// src/hooks/useMultiPaneLayout.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useMultiPaneLayout } from './useMultiPaneLayout';\n\ndescribe('useMultiPaneLayout', () =\u003e {\n  it('starts with single pane', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    expect(result.current.panes).toHaveLength(1);\n    expect(result.current.activePane).toBe(0);\n  });\n\n  it('splits horizontally', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    expect(result.current.panes).toHaveLength(2);\n  });\n\n  it('splits vertically', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitVertical();\n    });\n    \n    expect(result.current.panes).toHaveLength(2);\n  });\n\n  it('navigates between panes', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    act(() =\u003e {\n      result.current.focusPane(1);\n    });\n    \n    expect(result.current.activePane).toBe(1);\n  });\n\n  it('closes pane and adjusts focus', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n      result.current.focusPane(1);\n    });\n    \n    act(() =\u003e {\n      result.current.closePane(1);\n    });\n    \n    expect(result.current.panes).toHaveLength(1);\n    expect(result.current.activePane).toBe(0);\n  });\n\n  it('calculates pane dimensions correctly', () =\u003e {\n    const { result } = renderHook(() =\u003e \n      useMultiPaneLayout({ width: 100, height: 50 })\n    );\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    // Each pane should be roughly half width\n    expect(result.current.getPaneDimensions(0).width).toBe(50);\n    expect(result.current.getPaneDimensions(1).width).toBe(50);\n  });\n});\n```\n\n### Step 3: Expand useNavigationHandlers Tests\nReview existing tests and add missing coverage for:\n- Directory navigation (enter/back)\n- Bucket switching\n- Path history (forward/back)\n- Error handling\n\n## Files to Create\n- src/hooks/useKeyboardEvents.test.ts\n- src/hooks/useMultiPaneLayout.test.ts\n\n## Files to Modify\n- src/hooks/useNavigationHandlers.test.ts (expand coverage)\n\n## Testing\n- Run: `bun test hooks`\n- Check coverage: `bun test --coverage`\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:06.23211-06:00","updated_at":"2025-11-24T22:43:01.22747-06:00","closed_at":"2025-11-24T22:43:01.22747-06:00"}
{"id":"of-dxi","title":"Add file preview pane for text/image files","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:01:09.970316-06:00","updated_at":"2025-11-17T13:22:43.497176-06:00","closed_at":"2025-11-17T13:22:43.497176-06:00"}
{"id":"of-dzau","title":"P2-8: Implement OS keychain integration (optional)","description":"Add keytar dependency. Create src/providers/credentials/keychain-provider.ts with KeychainCredentialProvider class. Handle cross-platform differences (macOS Keychain, Windows Credential Manager, Linux libsecret). Graceful degradation if keytar fails. Add unit tests with mocked keytar. Est: 3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:55:30.70054-06:00","updated_at":"2025-11-27T12:24:44.408111-06:00","closed_at":"2025-11-27T12:24:44.408111-06:00"}
{"id":"of-dzjd","title":"Integrate ProfileSelector into S3Explorer UI","description":"Wire up the existing ProfileSelector component into the main S3Explorer UI.\n\nLocation: Add to header or as a dialog accessible via keybinding (e.g., 'P' for profiles)\n\nRequirements:\n- Import ProfileSelector component \n- Add ProfileManager instance from StorageContext\n- Handle profile switching (call storage.switchProfile or similar)\n- Show/hide based on multi-provider feature flag\n- Add keybinding to toggle profile selector dialog\n- Update status bar when profile changes\n- Handle errors during profile switching\n\nFiles to modify:\n- src/ui/s3-explorer.tsx (add ProfileSelector)\n- src/ui/keybindings.ts (add profile selector keybinding)\n- src/contexts/StorageContext.tsx (may need switchProfile method)\n\nEst: 3-4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T12:37:00.379457-06:00","updated_at":"2025-11-27T12:47:35.255512-06:00","closed_at":"2025-11-27T12:47:35.255512-06:00"}
{"id":"of-e0x","title":"Add command palette with ':'","description":"Command input for advanced operations","acceptance_criteria":"- : opens command palette\n- Support :w (save), :q (quit), :cd (change directory)\n- Tab completion for commands\n- Command history with up/down arrows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.333142-06:00","updated_at":"2025-11-17T09:25:01.105729-06:00","closed_at":"2025-11-17T09:25:01.105729-06:00"}
{"id":"of-e2s","title":"Add gg/G motions for top/bottom","description":"Jump to top with gg, bottom with G","acceptance_criteria":"- gg moves to first entry\n- G moves to last entry\n- Works in normal mode","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.333901-06:00","updated_at":"2025-11-17T08:58:12.107842-06:00","closed_at":"2025-11-17T08:58:12.107842-06:00"}
{"id":"of-e57","title":"Implement sorting controls","description":"Sort entries by name, size, date, type","acceptance_criteria":"- 'o' opens sort menu\n- Sort by name, size, modified date, type\n- Ascending/descending toggle\n- Remember sort preference","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.334503-06:00","updated_at":"2025-11-17T19:44:31.278038-06:00","closed_at":"2025-11-17T19:44:31.278038-06:00"}
{"id":"of-ej6","title":"Consolidate progress state into useProgressState reducer hook","description":"## Problem\ns3-explorer.tsx has 8 separate useState calls for progress tracking:\n\n```typescript\nconst [showProgress, setShowProgress] = useState(false);\nconst [progressTitle, setProgressTitle] = useState('...');\nconst [progressDescription, setProgressDescription] = useState('...');\nconst [progressValue, setProgressValue] = useState(0);\nconst [progressCurrentFile, setProgressCurrentFile] = useState('');\nconst [progressCurrentNum, setProgressCurrentNum] = useState(0);\nconst [progressTotalNum, setProgressTotalNum] = useState(0);\nconst [progressCancellable, setProgressCancellable] = useState(true);\n```\n\nThis creates fragmented state updates and makes progress management error-prone.\n\n## Implementation Plan\n\n### Step 1: Define Progress State Types\n```typescript\n// src/types/progress.ts\nexport interface ProgressState {\n  visible: boolean;\n  title: string;\n  description: string;\n  value: number;           // 0-100 percentage\n  currentFile: string;\n  currentNum: number;\n  totalNum: number;\n  cancellable: boolean;\n  cancelled: boolean;\n}\n\nexport type ProgressAction =\n  | { type: 'SHOW'; payload: Partial\u003cProgressState\u003e }\n  | { type: 'UPDATE'; payload: Partial\u003cProgressState\u003e }\n  | { type: 'SET_FILE'; payload: { file: string; num: number } }\n  | { type: 'INCREMENT' }\n  | { type: 'CANCEL' }\n  | { type: 'HIDE' }\n  | { type: 'RESET' };\n```\n\n### Step 2: Create Progress Reducer\n```typescript\n// src/hooks/useProgressState.ts\nconst initialState: ProgressState = {\n  visible: false,\n  title: '',\n  description: '',\n  value: 0,\n  currentFile: '',\n  currentNum: 0,\n  totalNum: 0,\n  cancellable: true,\n  cancelled: false,\n};\n\nfunction progressReducer(state: ProgressState, action: ProgressAction): ProgressState {\n  switch (action.type) {\n    case 'SHOW':\n      return { ...initialState, visible: true, ...action.payload };\n    case 'UPDATE':\n      return { ...state, ...action.payload };\n    case 'SET_FILE':\n      return { \n        ...state, \n        currentFile: action.payload.file,\n        currentNum: action.payload.num,\n        value: state.totalNum \u003e 0 ? (action.payload.num / state.totalNum) * 100 : 0\n      };\n    case 'INCREMENT':\n      const newNum = state.currentNum + 1;\n      return {\n        ...state,\n        currentNum: newNum,\n        value: state.totalNum \u003e 0 ? (newNum / state.totalNum) * 100 : 0\n      };\n    case 'CANCEL':\n      return { ...state, cancelled: true };\n    case 'HIDE':\n      return { ...state, visible: false };\n    case 'RESET':\n      return initialState;\n    default:\n      return state;\n  }\n}\n```\n\n### Step 3: Create Hook with Helper Functions\n```typescript\nexport function useProgressState() {\n  const [state, dispatch] = useReducer(progressReducer, initialState);\n  \n  const showProgress = useCallback((options: {\n    title: string;\n    description?: string;\n    totalNum?: number;\n    cancellable?: boolean;\n  }) =\u003e {\n    dispatch({ type: 'SHOW', payload: options });\n  }, []);\n  \n  const updateFile = useCallback((file: string, num: number) =\u003e {\n    dispatch({ type: 'SET_FILE', payload: { file, num } });\n  }, []);\n  \n  const hideProgress = useCallback(() =\u003e {\n    dispatch({ type: 'HIDE' });\n  }, []);\n  \n  const cancelOperation = useCallback(() =\u003e {\n    dispatch({ type: 'CANCEL' });\n  }, []);\n  \n  return {\n    progress: state,\n    showProgress,\n    updateFile,\n    hideProgress,\n    cancelOperation,\n    dispatch,\n  };\n}\n```\n\n### Step 4: Update s3-explorer.tsx\nReplace 8 useState calls with single hook:\n\n```typescript\n// Before: 8 useState calls\n// After:\nconst { progress, showProgress, updateFile, hideProgress, cancelOperation } = useProgressState();\n```\n\n## Files to Create\n- src/types/progress.ts\n- src/hooks/useProgressState.ts\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (remove 8 useState, add hook import)\n\n## Testing\n- Unit tests for reducer (all action types)\n- Unit tests for hook helper functions\n- Integration test for progress flow\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:00.618708-06:00","updated_at":"2025-11-24T21:45:42.986925-06:00","closed_at":"2025-11-24T21:45:42.986925-06:00"}
{"id":"of-eoj8","title":"P7-2: Remove legacy adapter code","description":"Delete src/adapters/s3-adapter.ts, src/adapters/adapter.ts (old interfaces), related test files, src/adapters/s3/ subdirectory, src/adapters/mock-adapter.ts (replaced by MockStorageProvider). Est: 2 hours","notes":"BLOCKED: Tasks P7-2, P7-3, P7-4, and P7-5 are tightly coupled. The legacy adapter system is deeply integrated with S3Explorer, StorageContextProvider, and multiple hooks. These tasks should be consolidated into a single migration task or done as an atomic set. The adapter interface is used throughout the UI layer and cannot be removed without simultaneously updating all consumers to use the StorageContext interface. Recommend: Merge P7-2 through P7-5 into a single 'Remove legacy system' task and execute as atomic change.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:09.552301-06:00","updated_at":"2025-11-27T11:29:12.518941-06:00","closed_at":"2025-11-27T11:29:12.518941-06:00"}
{"id":"of-erul","title":"P4A-7: Update factory and exports for GCS","description":"Update createProvider() for gcs type. Export GCSProvider from index. Add documentation. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:32.369439-06:00","updated_at":"2025-11-27T17:09:27.736431-06:00","closed_at":"2025-11-27T17:09:27.736431-06:00"}
{"id":"of-evko","title":"Fix flaky test: S3Adapter DI 'should use injected client for list'","description":"Test in src/adapters/s3-adapter.di.test.ts passes locally but consistently fails in GitHub Actions CI. Currently skipped with it.skip(). Need to investigate the root cause - possibly related to constructor.name behavior or mock timing issues in CI environment.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-25T16:55:42.377216013-06:00","updated_at":"2025-11-27T16:52:49.949919-06:00","closed_at":"2025-11-27T16:52:49.949919-06:00"}
{"id":"of-f2fg","title":"P1-2: Implement Capability enum","description":"Create src/providers/types/capabilities.ts. Define all capabilities: List, Read, Write, Delete, Mkdir, Rmdir, Copy, Move, ServerSideCopy, Resume, Versioning, Metadata, Permissions, Symlinks, Hardlinks, PresignedUrls, BatchDelete, ExtendedAttrs, Containers, FileLocking, Delegations. Add JSDoc comments. Est: 1 hour","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:32.84533-06:00","updated_at":"2025-11-26T21:17:06.161037-06:00","closed_at":"2025-11-26T21:17:06.161037-06:00"}
{"id":"of-f3t","title":"Implement progress tracking for S3 operations","description":"Track upload/download progress for large operations","acceptance_criteria":"- Progress events for multipart uploads\n- Progress callbacks for long-running ops\n- Bytes transferred tracking","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.33512-06:00","updated_at":"2025-11-17T09:05:01.77409-06:00","closed_at":"2025-11-17T09:05:01.77409-06:00"}
{"id":"of-f5m","title":"Segregate Adapter interface into focused interfaces","description":"Current Adapter interface violates Interface Segregation Principle by mixing generic storage ops with S3-specific optional methods (?). Split into hierarchy: StorageAdapter → MutableStorageAdapter → TransferableStorageAdapter → BucketAwareAdapter. Add type guards for interface discrimination. Enables cleaner contracts and proper typing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:22.131795524-06:00","updated_at":"2025-11-25T13:57:35.279914511-06:00","closed_at":"2025-11-25T13:57:35.279914511-06:00"}
{"id":"of-f7s","title":"Add focus management for preview pane","description":"The preview pane currently has no focus mechanism. It's display-only with no way to receive keyboard input.\n\nRequired for preview pane scrolling (of/g-mwu):\n- Add focus state to track when preview pane is active vs file list\n- Add keybinding to toggle focus between file list and preview (e.g., Tab or Ctrl+w)\n- Visual indicator when preview pane has focus (e.g., border color change)\n- Ensure keyboard events route to the correct component based on focus\n\nThis is a prerequisite for implementing scrolling within the preview pane.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T12:50:38.320416534-06:00","updated_at":"2025-11-25T12:50:38.320416534-06:00","dependencies":[{"issue_id":"of-f7s","depends_on_id":"of-mwu","type":"blocks","created_at":"2025-11-25T12:50:41.574573267-06:00","created_by":"daemon"}]}
{"id":"of-f7v2","title":"P6-7: Create legacy removal timeline","description":"Announce deprecation timeline (suggest: 2-3 releases). Document removal date. Create tracking ticket for Phase 7. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:00:00.008335-06:00","updated_at":"2025-11-27T12:15:13.004676-06:00","closed_at":"2025-11-27T12:15:13.004676-06:00"}
{"id":"of-f88l","title":"Refactor S3Explorer: Extract useOperationExecutor hook","description":"Extract operation execution logic into a dedicated hook.\n\n**Current state**: Lines 731-876 in s3-explorer.tsx (createConfirmHandler and related).\n\n**Target**: Create useOperationExecutor hook (~120 lines) with:\n- execute(operations) method returning success count\n- cancel() method with AbortController\n- isRunning state\n- Progress tracking integration\n- Per-operation error handling\n- executeOperation helper for switch statement\n\n**Files to create**:\n- src/hooks/useOperationExecutor.ts\n- src/hooks/useOperationExecutor.test.ts\n\n**Migration**: Depends on useProgressState (existing) and useStatusMessage (new).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T16:24:55.501765962-06:00","updated_at":"2025-11-27T19:18:43.987021-06:00","closed_at":"2025-11-27T19:18:43.987021-06:00"}
{"id":"of-fcl7","title":"P4A-3: Implement GCS authentication","description":"Create src/providers/gcs/auth.ts. Implement authentication from profile: keyFilePath for service account JSON, useApplicationDefault for ADC, projectId handling. Add unit tests with mocked credentials. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:23.556401-06:00","updated_at":"2025-11-27T17:08:26.575452-06:00","closed_at":"2025-11-27T17:08:26.575452-06:00"}
{"id":"of-ffh","title":"Implement S3Adapter.move() method","description":"Move/rename objects in S3 (copy + delete)","acceptance_criteria":"- CopyObject to new location\n- DeleteObject from old location\n- Handle directory moves recursively\n- Preserve metadata during move","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.335756-06:00","updated_at":"2025-11-17T08:58:17.327837-06:00","closed_at":"2025-11-17T08:58:17.327837-06:00","dependencies":[{"issue_id":"of-ffh","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:36.690249-06:00","created_by":"daemon"},{"issue_id":"of-ffh","depends_on_id":"of-ret","type":"related","created_at":"2025-11-15T19:59:06.666307-06:00","created_by":"daemon"}]}
{"id":"of-fg4x","title":"P3-6: Update factory and integration for S3Provider","description":"Update createProvider() to instantiate S3Provider for s3 type. Wire up credential resolution from ProfileManager. Verify feature parity with direct usage. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:56:09.255227-06:00","updated_at":"2025-11-26T22:19:28.555202-06:00","closed_at":"2025-11-26T22:19:28.555202-06:00"}
{"id":"of-fi2","title":"Testing \u0026 Documentation","description":"Unit tests, integration tests, and user documentation","design":"Comprehensive testing strategy including adapter tests, UI tests, and E2E tests. User documentation with examples and configuration guides.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-11-15T21:40:13.33747-06:00","updated_at":"2025-11-17T09:16:57.682273-06:00"}
{"id":"of-fl2f","title":"P4D-2: Create SMBProvider class skeleton","description":"Create src/providers/smb/smb-provider.ts. Extend BaseStorageProvider. Constructor accepts SMBProfile. Declare capabilities (List, Read, Write, Delete, Mkdir, Rmdir, Move, Copy). Add connection state tracking. Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:18.933081-06:00","updated_at":"2025-11-26T20:57:18.933081-06:00"}
{"id":"of-fwdc","title":"P3-7: S3Provider integration tests","description":"Create comprehensive test suite for S3Provider. Test all operations against LocalStack or real S3. Verify stream handling (backpressure, memory usage). Document test setup. Est: 5 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:56:11.370263-06:00","updated_at":"2025-11-27T08:50:32.591184-06:00","closed_at":"2025-11-27T08:50:32.591184-06:00"}
{"id":"of-fwhu","title":"Provider System: Phase 4 - Additional Providers","description":"Add providers incrementally: GCS (17.5h), SFTP (19.5h), FTP (15.5h), SMB (18.5h), NFS (15h), Local (5h), Google Drive (34h), Transfer Manager (10h). Providers can be implemented in parallel and shipped incrementally. Total: 135 hours, 60 tickets.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-26T21:00:52.869364-06:00","updated_at":"2025-11-26T21:00:52.869364-06:00"}
{"id":"of-g088","title":"P7-11: Final testing","description":"Run full test suite. Manual testing of all features. Verify no dead code or broken imports. Verify no Provider prefixed types remain (except intentional ones). Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:30.851119-06:00","updated_at":"2025-11-27T11:54:46.676294-06:00","closed_at":"2025-11-27T11:54:46.676294-06:00"}
{"id":"of-gbl8","title":"Pending Operations Store - Global state for cross-directory file operations","description":"Implement a global Pending Operations Store that tracks file operations (deletes, moves, copies, renames, creates) across directory navigation. This replaces the current buffer-scoped deletedEntryIds approach with a URI-based store that works identically across all storage backends (S3, SFTP, GCS, local filesystem).\n\n**Problem**: When a user marks a file for deletion in directory /foo/, navigates to /bar/, and returns to /foo/, the deletion mark is lost because onLoadBuffer() fetches fresh entries and setEntries() replaces the buffer's entry array.\n\n**Solution**: Move pending change state from the view layer (useBufferState) to a domain/model layer concern that persists across navigation using an explicit operations log with URI-based entry identification.\n\nSee docs/PENDING_OPERATIONS_STORE.md for full design.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-29T10:15:48.90109-06:00","updated_at":"2025-11-29T10:34:47.277328-06:00","closed_at":"2025-11-29T10:34:47.277328-06:00"}
{"id":"of-gkrf","title":"Remove getActiveAwsProfile() - storage provider should expose active profile name instead","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T16:34:34.303117-06:00","updated_at":"2025-11-27T16:50:56.417975-06:00","closed_at":"2025-11-27T16:50:56.417975-06:00"}
{"id":"of-gn0o","title":"Refactor S3Explorer: Extract usePreview hook","description":"Extract preview loading and state management into a dedicated hook.\n\n**Current state**: Lines 132-135 (state), 1099-1157 (effect) in s3-explorer.tsx, plus isPreviewableFile helper.\n\n**Target**: Create usePreview hook (~100 lines) with:\n- Preview state: enabled, content, filename, isLoading, error\n- Methods: enable(), disable(), toggle()\n- Automatic content fetching with cancellation support\n- PREVIEWABLE_EXTENSIONS constant\n- MAX_PREVIEW_SIZE constant (100KB)\n\n**Files to create**:\n- src/hooks/usePreview.ts\n- src/hooks/usePreview.test.ts\n\n**Migration**: Isolated, clear boundaries. Depends on useStatusMessage for messaging.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T16:24:54.30149459-06:00","updated_at":"2025-11-27T19:13:41.360392-06:00","closed_at":"2025-11-27T19:13:41.360392-06:00"}
{"id":"of-gnm","title":"Write change detection tests","description":"Test operation planning and change detection logic","acceptance_criteria":"- Test create/delete/move/copy detection\n- Test edge cases (same name different location)\n- Test operation ordering","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.338216-06:00","updated_at":"2025-11-27T12:26:22.589407-06:00","closed_at":"2025-11-27T12:26:22.589407-06:00","dependencies":[{"issue_id":"of-gnm","depends_on_id":"of-bga","type":"blocks","created_at":"2025-11-15T19:49:46.923482-06:00","created_by":"daemon"},{"issue_id":"of-gnm","depends_on_id":"of-fi2","type":"parent-child","created_at":"2025-11-15T19:58:57.049971-06:00","created_by":"daemon"}]}
{"id":"of-gqj3","title":"P4E-7: Update factory and exports for NFS","description":"Update createProvider() for nfs type. Export NFSProvider from index. Document OS mount requirement. Add example mount commands for Linux/macOS. Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:54.494537-06:00","updated_at":"2025-11-26T20:57:54.494537-06:00"}
{"id":"of-h8qj","title":"P4E-1: Design NFS provider OS mount approach","description":"Document that NFS provider uses OS-level mounts. User must mount NFS share before using provider. Provider uses standard fs module on mounted path. Create design doc for mount detection. Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:39.127846-06:00","updated_at":"2025-11-26T20:57:39.127846-06:00"}
{"id":"of-hdro","title":"Create pending-operations.ts type definitions","description":"Create src/types/pending-operations.ts with enhanced types:\n\n- StorageUri type (string alias for URI-based entry identification)\n- PendingOperationType union: 'delete' | 'move' | 'copy' | 'rename' | 'create'\n- BasePendingOperation interface with id, type, createdAt\n- PendingDelete: uri, entry\n- PendingMove: sourceUri, destUri, entry\n- PendingCopy: sourceUri, destUri, entry  \n- PendingRename: uri, entry, newName\n- PendingCreate: uri, entryType, name\n- PendingOperation union type\n- ClipboardState: entries, sourceUris, operation ('cut'|'copy'), timestamp\n- EntryVisualState: isDeleted, isMovedAway, isMovedHere, isCopiedHere, isRenamed, isCreated, newName?, moveDestination?\n\nThis replaces/extends the basic PendingOperation in src/types/dialog.ts","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-29T10:16:07.358091-06:00","updated_at":"2025-11-29T10:35:46.306993-06:00","closed_at":"2025-11-29T10:35:46.306993-06:00","dependencies":[{"issue_id":"of-hdro","depends_on_id":"of-gbl8","type":"blocks","created_at":"2025-11-29T10:19:12.403631-06:00","created_by":"daemon"}]}
{"id":"of-hi6","title":"Add root view unit tests","description":"Write tests for bucket listing, metadata retrieval, bucket switching, and root navigation. Test with MockAdapter and S3Adapter.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.716914-06:00","updated_at":"2025-11-17T09:00:39.166748-06:00","closed_at":"2025-11-17T09:00:39.166748-06:00"}
{"id":"of-hmwc","title":"P5-3: Implement feature flag system","description":"Create src/utils/feature-flags.ts. Define USE_NEW_PROVIDER_SYSTEM flag. Read from environment variable OPEN_S3_USE_PROVIDERS=true and config file as fallback. Add helper isNewProviderSystemEnabled(). Add unit tests. Est: 1 hour","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:04.111657-06:00","updated_at":"2025-11-27T09:07:35.243581-06:00","closed_at":"2025-11-27T09:07:35.243581-06:00"}
{"id":"of-hn3","title":"Define error handling types","description":"Create custom error types for adapter operations","acceptance_criteria":"- AdapterError base class\n- NotFoundError, PermissionError, NetworkError subclasses\n- Error serialization for display","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.3388-06:00","updated_at":"2025-11-17T08:58:26.34385-06:00","closed_at":"2025-11-17T08:58:26.34385-06:00"}
{"id":"of-hng6","title":"P4D-6: Implement SMB container operations","description":"Implement listContainers() to list available shares if possible. Implement setContainer()/getContainer() to switch shares. Note: may require reconnection when switching shares. Add unit tests. Est: 2 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:29.047482-06:00","updated_at":"2025-11-26T20:57:29.047482-06:00"}
{"id":"of-hpi0","title":"Comprehensive README and documentation rewrite","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T12:12:19.537476-06:00","updated_at":"2025-11-27T12:16:29.699767-06:00","closed_at":"2025-11-27T12:16:29.699767-06:00"}
{"id":"of-i2ud","title":"P4B-7: SFTP integration tests","description":"Create integration test suite (requires SFTP server or Docker container). Test connection with different auth methods. Test full workflow. Document test setup. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:51.116214-06:00","updated_at":"2025-11-26T20:56:51.116214-06:00"}
{"id":"of-i4uj","title":"Evaluate flattening adapter interface hierarchy","description":"## Context\nThe current adapter interface hierarchy has 4 levels:\n\n```\nReadableStorageAdapter       (list, getMetadata, exists, read)\n    └── MutableStorageAdapter    (+ create, delete, move, copy)\n          └── TransferableStorageAdapter  (+ downloadToLocal, uploadFromLocal)\n                └── BucketAwareAdapter     (+ getBucketEntries, setBucket, setRegion)\n```\n\n## Question to Evaluate\nIs this hierarchy over-engineered for the current use case?\n\nCurrent adapters:\n- S3Adapter: implements BucketAwareAdapter (full hierarchy)\n- MockAdapter: implements Adapter (MutableStorageAdapter + optional bucket methods)\n\n## Potential Simplification\nIf no consumers actually use the intermediate interfaces separately:\n\n```typescript\n// Simplified: Just two interfaces\nexport interface StorageAdapter {\n  readonly name: string;\n  // Read operations\n  list(path: string, options?: ListOptions): Promise\u003cListResult\u003e;\n  getMetadata(path: string): Promise\u003cEntry\u003e;\n  exists(path: string): Promise\u003cboolean\u003e;\n  read(path: string, options?: OperationOptions): Promise\u003cBuffer\u003e;\n  // Write operations\n  create(path: string, type: EntryType, content?: Buffer | string, options?: OperationOptions): Promise\u003cvoid\u003e;\n  delete(path: string, recursive?: boolean, options?: OperationOptions): Promise\u003cvoid\u003e;\n  move(source: string, destination: string, options?: OperationOptions): Promise\u003cvoid\u003e;\n  copy(source: string, destination: string, options?: OperationOptions): Promise\u003cvoid\u003e;\n}\n\nexport interface CloudStorageAdapter extends StorageAdapter {\n  // Transfer operations\n  downloadToLocal(remotePath: string, localPath: string, recursive?: boolean, options?: OperationOptions): Promise\u003cvoid\u003e;\n  uploadFromLocal(localPath: string, remotePath: string, recursive?: boolean, options?: OperationOptions): Promise\u003cvoid\u003e;\n  // Bucket operations\n  getBucketEntries(): Promise\u003cEntry[]\u003e;\n  setBucket(bucket: string): void;\n  setRegion(region: string): void;\n}\n```\n\n## Evaluation Criteria\n1. Are ReadableStorageAdapter or TransferableStorageAdapter used independently anywhere?\n2. Are there plans for read-only adapters or adapters without transfer support?\n3. Does the granular ISP provide real value, or is it premature abstraction?\n\n## Investigation Steps\n```bash\n# Check usage of each interface\nrg 'ReadableStorageAdapter' --type ts src/\nrg 'MutableStorageAdapter' --type ts src/\nrg 'TransferableStorageAdapter' --type ts src/\nrg 'BucketAwareAdapter' --type ts src/\n\n# Check type guard usage\nrg 'isMutableAdapter|isTransferableAdapter|isBucketAwareAdapter' --type ts src/\n```\n\n## Decision\n- If interfaces are used: Keep hierarchy (ISP compliance has value)\n- If not used: Simplify to 2 interfaces, remove 3 type guards, save ~60 lines\n\n## Risk\n- Medium: This is a breaking change if external consumers depend on specific interfaces\n- Document decision rationale either way\n\n## Note\nThis is an evaluation task, not necessarily an action item. The current design is correct per SOLID principles - the question is whether the complexity is justified for this codebase.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T16:15:16.160434916-06:00","updated_at":"2025-11-26T20:52:26.257806-06:00","closed_at":"2025-11-26T20:52:26.257806-06:00"}
{"id":"of-i71p","title":"P7-10: Update all documentation","description":"Update README.md. Update any architecture docs. Remove references to legacy system. Remove references to Provider prefix convention. Update code comments. Update JSDoc. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:00:28.49473-06:00","updated_at":"2025-11-27T12:12:24.537133-06:00","closed_at":"2025-11-27T12:12:24.537133-06:00"}
{"id":"of-i9v","title":"Implement bucket context navigation (back to root)","description":"Allow pressing 'h' or Backspace from inside a bucket to go back to the root bucket listing. Implement breadcrumb navigation up the hierarchy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.67319-06:00","updated_at":"2025-11-17T09:09:13.402753-06:00","closed_at":"2025-11-17T09:09:13.402753-06:00"}
{"id":"of-ih4t","title":"P4G-3: Create path-to-ID resolution layer with caching","description":"Create src/providers/gdrive/path-resolver.ts. Implement resolvePath(path): Promise\u003cstring\u003e returning file ID. Implement path segment walking with Drive API queries. Add LRU cache with configurable TTL. Handle cache invalidation on mutations. Handle edge cases: duplicate names, trashed files. Add unit tests. Est: 6 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:15.681405-06:00","updated_at":"2025-11-26T20:58:15.681405-06:00"}
{"id":"of-ii1","title":"Alert user about pending changes when quitting","description":"When user presses 'q' to quit, check if there are entries marked for deletion (or other pending changes). If so, show a confirmation dialog warning about unsaved changes before exiting. This prevents accidentally losing work.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-24T23:30:45.851219-06:00","updated_at":"2025-11-25T14:26:00.643564148-06:00","closed_at":"2025-11-25T14:26:00.643564148-06:00"}
{"id":"of-iip6","title":"Create pending-operations-store.ts implementation","description":"Create src/stores/pending-operations-store.ts (new directory):\n\nState:\n- operations: PendingOperation[]\n- clipboard: ClipboardState | null\n- undoStack: PendingOperation[][]\n- redoStack: PendingOperation[][]\n- listeners: Set\u003c() =\u003e void\u003e\n\nState Access methods:\n- getOperations(): Get all pending operations\n- getOperationsForPath(path): Get operations affecting a path\n- getClipboard(): Get clipboard state\n- hasPendingChanges(): Check if any pending changes\n- getPendingCount(): Count of operations\n\nVisual State methods:\n- getEntryState(uri): Compute EntryVisualState for an entry\n- getVirtualEntries(path): Get entries that appear due to moves/copies/creates\n\nMutation methods:\n- markForDeletion(uri, entry)\n- unmarkForDeletion(uri)\n- toggleDeletion(uri, entry)\n- rename(uri, entry, newName)\n- create(parentPath, name, entryType)\n\nClipboard methods:\n- cut(entries, uris)\n- copy(entries, uris)\n- paste(destPath)\n- clearClipboard()\n\nUndo/Redo:\n- undo(), redo(), canUndo(), canRedo()\n\nExecution:\n- execute(adapter, onProgress?): Execute all operations\n- discard(): Clear all operations\n- removeOperation(id): Remove specific operation\n\nSubscription:\n- subscribe(listener): For React useSyncExternalStore","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-29T10:16:31.110593-06:00","updated_at":"2025-11-29T10:35:55.582031-06:00","closed_at":"2025-11-29T10:35:55.582031-06:00","dependencies":[{"issue_id":"of-iip6","depends_on_id":"of-hdro","type":"blocks","created_at":"2025-11-29T10:19:12.529061-06:00","created_by":"daemon"},{"issue_id":"of-iip6","depends_on_id":"of-zy1x","type":"blocks","created_at":"2025-11-29T10:19:12.5556-06:00","created_by":"daemon"}]}
{"id":"of-ike","title":"Lowercase 'u' should not trigger upload dialog, only uppercase 'U'","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-17T21:45:04.033316-06:00","updated_at":"2025-11-17T21:51:06.234321-06:00","closed_at":"2025-11-17T21:51:06.234321-06:00"}
{"id":"of-ithr","title":"P4C-7: Update factory and exports for FTP","description":"Update createProvider() for ftp type. Export FTPProvider from index. Add documentation. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:11.169851-06:00","updated_at":"2025-11-27T17:19:02.445345-06:00","closed_at":"2025-11-27T17:19:02.445345-06:00"}
{"id":"of-izp4","title":"P4A-2: Create GCSProvider class skeleton","description":"Create src/providers/gcs/gcs-provider.ts. Extend BaseStorageProvider. Constructor accepts GCSProfile. Declare capabilities (List, Read, Write, Delete, Mkdir, Copy, Move, ServerSideCopy, Versioning, Metadata, PresignedUrls, BatchDelete, Containers). Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:21.017817-06:00","updated_at":"2025-11-27T17:08:19.351972-06:00","closed_at":"2025-11-27T17:08:19.351972-06:00"}
{"id":"of-j39","title":"Research OpenTUI docs for proper dialog/box content rendering","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T09:35:35.361919-06:00","updated_at":"2025-11-17T09:37:15.964019-06:00","closed_at":"2025-11-17T09:37:15.964019-06:00"}
{"id":"of-j4vm","title":"P4A-1: Add @google-cloud/storage dependency","description":"Add @google-cloud/storage to package.json. Add @types/google-cloud__storage if needed. Verify installation and basic import. Est: 0.5 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:18.107443-06:00","updated_at":"2025-11-27T17:04:48.537602-06:00","closed_at":"2025-11-27T17:04:48.537602-06:00"}
{"id":"of-jddt","title":"P6-4: Flip feature flag default","description":"Change USE_NEW_PROVIDER_SYSTEM default from false to true. Update environment variable documentation. Add OPEN_S3_USE_LEGACY=true escape hatch for rollback. Commit with clear message about cutover. Est: 1 hour","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:52.45494-06:00","updated_at":"2025-11-27T11:12:34.277296-06:00","closed_at":"2025-11-27T11:12:34.277296-06:00"}
{"id":"of-je68","title":"P6-2: Performance benchmarking","description":"Create benchmark script comparing legacy vs new system. Measure: list latency, read throughput, write throughput, memory usage, connection overhead. Document results. Ensure no significant regression (target: \u003c5% slower). Create tickets to address any regressions before cutover. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:47.68041-06:00","updated_at":"2025-11-27T11:07:20.91223-06:00","closed_at":"2025-11-27T11:07:20.91223-06:00"}
{"id":"of-jnqe","title":"P4E-5: Implement NFSProvider advanced operations","description":"Implement nativeMove() using fs.rename(), nativeCopy() using fs.copyFile(), setPermissions() using fs.chmod(), readSymlink() using fs.readlink(), hardlink creation using fs.link(), downloadToLocal()/uploadFromLocal() using streams. Add unit tests. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:50.291707-06:00","updated_at":"2025-11-26T20:57:50.291707-06:00"}
{"id":"of-jv7","title":"Add syntax highlighting for entry types","description":"Color code directories, files, and special entries","acceptance_criteria":"- Directories shown in blue/bold\n- Files shown in default color\n- Cursor line highlighted\n- Selection shown with different background","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.339349-06:00","updated_at":"2025-11-17T08:58:36.299938-06:00","closed_at":"2025-11-17T08:58:36.299938-06:00","dependencies":[{"issue_id":"of-jv7","depends_on_id":"of-0sv","type":"blocks","created_at":"2025-11-15T19:58:21.730483-06:00","created_by":"daemon"}]}
{"id":"of-k14z","title":"P6-6: Mark legacy code as deprecated","description":"Add @deprecated JSDoc comments to S3Adapter. Add @deprecated comments to old AdapterContext. Add console warnings when legacy system is used. Update imports to show deprecation in IDE. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:59:57.882738-06:00","updated_at":"2025-11-27T12:15:11.995773-06:00","closed_at":"2025-11-27T12:15:11.995773-06:00"}
{"id":"of-k1rl","title":"P4C-1: Add basic-ftp dependency","description":"Add basic-ftp to package.json (modern, Promise-based FTP client). Verify installation. Est: 0.5 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:58.676965-06:00","updated_at":"2025-11-27T17:15:50.211709-06:00","closed_at":"2025-11-27T17:15:50.211709-06:00"}
{"id":"of-k3nm","title":"Integrate ConnectionStatus into S3Explorer header","description":"Wire up the existing ConnectionStatus component to show connection state in the UI.\n\nLocation: Header right side (near profile/region display)\n\nRequirements:\n- Import ConnectionStatus component\n- Add to header-react.tsx or s3-explorer-layout.tsx\n- Only show for connection-oriented providers (SFTP, FTP, SMB, NFS, etc.)\n- Show connected/disconnected/connecting states\n- Add reconnect button for disconnected state\n- Use 'badge' variant for compact display\n\nFiles to modify:\n- src/ui/header-react.tsx (add ConnectionStatus to header)\n- src/ui/s3-explorer-layout.tsx (may need layout adjustment)\n\nEst: 1-2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T12:37:07.327968-06:00","updated_at":"2025-11-27T16:56:36.483345-06:00","closed_at":"2025-11-27T16:56:36.483345-06:00"}
{"id":"of-k7sv","title":"P5-7: Create useStorage hook","description":"Create src/hooks/useStorage.ts. Provide typed access to StorageContext. Add convenience hooks: useStorageList(), useStorageNavigation(), useStorageOperations(), useStorageCapabilities(). Add unit tests. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:14.153179-06:00","updated_at":"2025-11-27T10:01:16.785246-06:00","closed_at":"2025-11-27T10:01:16.785246-06:00"}
{"id":"of-kd79","title":"P6-1: Pre-cutover validation checklist","description":"Create comprehensive test checklist covering all features. Test S3 operations: list, read, write, delete, copy, move, mkdir. Test bucket switching. Test upload/download with progress. Test preview pane. Test keyboard shortcuts. Test error scenarios. Test with real AWS S3 (not just LocalStack). Document any behavioral differences. Get sign-off. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:44.777353-06:00","updated_at":"2025-11-27T11:06:16.562298-06:00","closed_at":"2025-11-27T11:06:16.562298-06:00"}
{"id":"of-kgsf","title":"Provider System: Phase 0 - Prerequisites \u0026 Inventory","description":"Before starting implementation, audit existing code and establish infrastructure. Phase includes type audits, UI adapter usage analysis, test infrastructure setup, logging standards, and dependency documentation. Total: 10 hours, 5 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:40.77977-06:00","updated_at":"2025-11-27T12:23:22.599874-06:00","closed_at":"2025-11-27T12:23:22.599874-06:00"}
{"id":"of-kquk","title":"P4D-1: Add @marsaud/smb2 dependency","description":"Add @marsaud/smb2 to package.json. Consider @awo00/smb2 for TypeScript support. Document library limitations (no encryption, no Kerberos). Est: 0.5 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:17.008371-06:00","updated_at":"2025-11-26T20:57:17.008371-06:00"}
{"id":"of-kzcc","title":"P4G-4: Create GoogleDriveProvider class and core operations","description":"Create src/providers/gdrive/gdrive-provider.ts. Extend BaseStorageProvider. Declare capabilities. Implement list() using files.list() with path resolution, read() using files.get() with alt=media, write() using files.create()/files.update(), delete(), mkdir() with folder MIME type, getMetadata() and exists(). Map Drive API errors to OperationResult. Add unit tests. Est: 8 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:19.470443-06:00","updated_at":"2025-11-26T20:58:19.470443-06:00"}
{"id":"of-l6s","title":"Implement lazy MockAdapter registration in registry","description":"MockAdapter is always instantiated in AdapterRegistry constructor even in production. Add factories Map alongside adapters Map. Register factory for mock adapter, instantiate lazily on first getAdapter('mock') call. Minor optimization to avoid unnecessary object creation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T13:44:22.792070961-06:00","updated_at":"2025-11-25T16:03:08.866098418-06:00","closed_at":"2025-11-25T16:03:08.866098418-06:00"}
{"id":"of-lfx5","title":"P7-7: Relocate provider types to canonical locations","description":"Move src/providers/types/entry.ts to src/types/entry.ts. Move src/providers/types/progress.ts to src/types/progress.ts. Move src/providers/types/list.ts to src/types/list.ts. Keep provider-specific types in src/providers/types/ (capabilities, result, profile, cancellation). Update all imports. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:22.076429-06:00","updated_at":"2025-11-27T11:54:16.454567-06:00","closed_at":"2025-11-27T11:54:16.454567-06:00"}
{"id":"of-lsw","title":"Add refresh/reload functionality with 'r' keybind for current bucket or folder","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:44:43.774466-06:00","updated_at":"2025-11-17T21:47:47.23791-06:00","closed_at":"2025-11-17T21:47:47.237914-06:00"}
{"id":"of-mdc","title":"Split s3-explorer.tsx god component into focused components","description":"## Problem\ns3-explorer.tsx is 1132 lines and handles too many concerns:\n- 20+ useState calls\n- All dialog state management\n- Progress tracking\n- Navigation logic\n- Operation execution\n- Keyboard dispatch registration\n\nThis god component violates single responsibility principle and makes the codebase hard to maintain.\n\n## Implementation Plan\n\n### Step 1: Create S3ExplorerContainer (4-6 hours)\nExtract state management into a container component:\n\n```typescript\n// src/ui/s3-explorer-container.tsx\nexport function S3ExplorerContainer({ adapter, initialBucket, initialPath }: Props) {\n  // Move all useState calls here\n  // Use new useDialogState and useProgressState hooks\n  // Pass state down to layout component\n  return \u003cS3ExplorerLayout {...state} {...handlers} /\u003e\n}\n```\n\n### Step 2: Create S3ExplorerLayout (~150 lines)\nPure presentational component:\n\n```typescript\n// src/ui/s3-explorer-layout.tsx\nexport function S3ExplorerLayout({ \n  bufferState, \n  dialogs, \n  progress,\n  onNavigate,\n  onOperation \n}: Props) {\n  return (\n    \u003cBox flexDirection=\"column\"\u003e\n      \u003cHeader ... /\u003e\n      \u003cPane ... /\u003e\n      \u003cStatusBar ... /\u003e\n    \u003c/Box\u003e\n  )\n}\n```\n\n### Step 3: Create S3ExplorerDialogs (~100 lines)\nDialog orchestration component:\n\n```typescript\n// src/ui/s3-explorer-dialogs.tsx\nexport function S3ExplorerDialogs({ state, dispatch }: Props) {\n  return (\n    \u003c\u003e\n      {state.confirm.visible \u0026\u0026 \u003cConfirmationDialog ... /\u003e}\n      {state.help.visible \u0026\u0026 \u003cHelpDialog ... /\u003e}\n      {state.error.visible \u0026\u0026 \u003cErrorDialog ... /\u003e}\n      {state.upload.visible \u0026\u0026 \u003cUploadDialog ... /\u003e}\n      {state.sort.visible \u0026\u0026 \u003cSortMenu ... /\u003e}\n      {state.progress.visible \u0026\u0026 \u003cProgressWindow ... /\u003e}\n    \u003c/\u003e\n  )\n}\n```\n\n### Step 4: Update s3-explorer.tsx\nRefactor main export to use new components:\n\n```typescript\n// src/ui/s3-explorer.tsx (simplified)\nexport function S3Explorer(props: Props) {\n  return (\n    \u003cKeyboardProvider\u003e\n      \u003cS3ExplorerContainer {...props} /\u003e\n    \u003c/KeyboardProvider\u003e\n  )\n}\n```\n\n## Files to Create\n- src/ui/s3-explorer-container.tsx\n- src/ui/s3-explorer-layout.tsx\n- src/ui/s3-explorer-dialogs.tsx\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (reduce from 1132 to ~50 lines)\n\n## Dependencies\n- Depends on: of/g-ej6 (useProgressState), of-vzm (useDialogState)\n- Blocked by: None (can start with inline state, then refactor)\n\n## Testing\n- Ensure all existing integration tests pass\n- Add unit tests for each new component\n- Verify keyboard handling still works across components\n\n## Estimated Effort: 4-6 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:00.007524-06:00","updated_at":"2025-11-24T21:09:18.353769-06:00","closed_at":"2025-11-24T21:09:18.353769-06:00"}
{"id":"of-mdyy","title":"P5-5: Implement ProviderStorageAdapter","description":"Create src/contexts/ProviderStorageAdapter.ts implementing StorageContextValue interface. Wrap StorageProvider from new provider system. Map OperationResult to UI-friendly errors. Handle capability checking for UI features. Add unit tests. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:09.043427-06:00","updated_at":"2025-11-27T09:52:41.450789-06:00","closed_at":"2025-11-27T09:52:41.450789-06:00"}
{"id":"of-muvk","title":"Integrate CapabilityGate component into UI","description":"The CapabilityGate component and related utilities (RequiresCapability, DisabledIfMissing, useHasCapability, useHasAllCapabilities, useHasAnyCapability) in src/components/CapabilityGate.tsx are fully implemented and tested but never used in the application.\n\nThese should be integrated into the UI to:\n- Hide/disable copy operations when provider doesn't support Copy capability\n- Hide/disable versioning UI when provider doesn't support Versioning\n- Gate other provider-specific features appropriately\n\nSee code review notes:\n- The 'disable' and 'show-disabled' behaviors are currently identical - may need differentiation\n- Children aren't actually disabled in disabled mode - may need context or cloneElement approach","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-27T21:09:35.41359-06:00","updated_at":"2025-11-27T21:09:41.766461-06:00"}
{"id":"of-mwu","title":"Add scrolling support within preview pane","description":"Currently the preview pane shows file content but there's no way to scroll within it to view content that extends beyond the visible area.\n\nFeature request:\n- Allow scrolling up/down within the preview pane when it has focus\n- Show scroll indicators (e.g., line numbers, percentage, or scroll bar)\n- Support vim-style navigation (j/k, Ctrl+d/u, gg/G) when preview is focused\n- Consider adding a keybinding to toggle focus between file list and preview pane","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-25T12:49:38.006059526-06:00","updated_at":"2025-11-25T12:49:38.006059526-06:00"}
{"id":"of-n11t","title":"Remove deprecated Adapter type alias","description":"## Problem\nadapter.ts contains a deprecated `Adapter` type alias (lines 259-309) that may not be needed:\n\n```typescript\n/**\n * @deprecated Use specific interfaces (ReadableStorageAdapter, MutableStorageAdapter,\n * TransferableStorageAdapter, BucketAwareAdapter) for better type safety.\n */\nexport interface Adapter extends MutableStorageAdapter {\n  downloadToLocal?(...): Promise\u003cvoid\u003e;\n  uploadFromLocal?(...): Promise\u003cvoid\u003e;\n  getBucketEntries?(): Promise\u003cEntry[]\u003e;\n  setBucket?(bucket: string): void;\n  setRegion?(region: string): void;\n}\n```\n\nThis is ~50 lines of deprecated code that adds maintenance burden.\n\n## Pre-work Required\nBefore removing, verify usage:\n\n```bash\n# Check internal usage\nrg 'Adapter[^A-Za-z]' --type ts src/\n\n# Check if exported and potentially used externally\nrg 'export.*Adapter' src/adapters/\n```\n\n## Files to Check\n- src/adapters/registry.ts (imports Adapter)\n- src/adapters/mock-adapter.ts (implements Adapter)\n- src/contexts/AdapterContext.tsx (uses Adapter)\n- Any external consumers\n\n## Action\n1. If only used internally: migrate usages to specific interfaces, then delete\n2. If used externally: keep for now, or plan breaking change\n\n## Migration Path\n```typescript\n// Before\nconst adapter: Adapter = ...;\n\n// After (choose appropriate interface)\nconst adapter: MutableStorageAdapter = ...;\n// or\nconst adapter: BucketAwareAdapter = ...;\n```\n\n## Impact\n- ~50 lines saved\n- Cleaner API surface\n- Risk depends on external usage","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-11-25T16:15:14.586876242-06:00","updated_at":"2025-11-26T20:52:26.25882-06:00","closed_at":"2025-11-26T20:52:26.25882-06:00"}
{"id":"of-nab","title":"Add storage class transition actions","description":"Change object storage class (STANDARD to GLACIER, etc)","acceptance_criteria":"- 'S' opens storage class menu\n- List available classes\n- Confirm transition\n- Show cost implications","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.339893-06:00","updated_at":"2025-11-27T18:54:29.379907-06:00","closed_at":"2025-11-27T18:54:29.379907-06:00"}
{"id":"of-nfiq","title":"P4B-8: Update factory and exports for SFTP","description":"Update createProvider() for sftp type. Export SFTPProvider from index. Add documentation. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:52.473485-06:00","updated_at":"2025-11-27T17:15:19.753974-06:00","closed_at":"2025-11-27T17:15:19.753974-06:00"}
{"id":"of-nnjj","title":"Download operation silently fails - no error shown to user","description":"Download (Shift+D) confirmation dialog not appearing. Could be: 1) hasCapability(Download) returning false (GCS was missing this - now fixed), 2) showConfirm not triggering dialog state change, 3) Dialog render condition issue. User reports no status message either, suggesting the handler may not be running at all or returning early silently.","status":"in_progress","priority":0,"issue_type":"bug","created_at":"2025-11-27T17:28:17.094405-06:00","updated_at":"2025-11-27T17:31:06.247732-06:00"}
{"id":"of-nnw7","title":"P1-10: Implement cancellation token support","description":"Create src/providers/types/cancellation.ts with ProviderCancellationToken interface (isCancelled, onCancel), ProviderCancellationTokenSource. Add cancellationToken to all operation options. Integrate with existing ProgressState.cancelled pattern. Add unit tests. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:54.327812-06:00","updated_at":"2025-11-26T21:24:33.14365-06:00","closed_at":"2025-11-26T21:24:33.14365-06:00"}
{"id":"of-o1m","title":"Wire up AdapterProvider in index.tsx","description":"AdapterContext was created but not integrated. Wrap App with AdapterProvider in index.tsx so components can use useAdapter() hook instead of prop drilling. Update S3Explorer to optionally use context if no adapter prop provided.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:24:33.233189626-06:00","updated_at":"2025-11-25T14:25:46.313043311-06:00","closed_at":"2025-11-25T14:25:46.313043311-06:00"}
{"id":"of-o5d3","title":"P0-4: Establish logging standards for providers","description":"Document existing logger usage in src/utils/logger.ts. Decide if providers use existing logger or provider-specific logging. Create logging interface for providers if different. Document log levels. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:54:06.462186-06:00","updated_at":"2025-11-27T12:23:17.064104-06:00","closed_at":"2025-11-27T12:23:17.064104-06:00"}
{"id":"of-o7u5","title":"Combine profile and provider fields in header to 'profile: \u003cname\u003e(\u003cprovidertype\u003e)' on right side","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T16:31:23.237349-06:00","updated_at":"2025-11-27T16:37:29.686822-06:00","closed_at":"2025-11-27T16:37:29.686822-06:00"}
{"id":"of-odrr","title":"Add CapabilityGate to operation buttons/menus","description":"Use CapabilityGate component to conditionally show/enable UI elements based on provider capabilities.\n\nApply to:\n- Upload button/dialog (requires Capability.Upload)\n- Download button (requires Capability.Download)  \n- Delete operations (requires Capability.Delete)\n- Copy/Move operations (requires Capability.Copy)\n- Metadata operations (requires Capability.Metadata)\n- Any other capability-dependent features\n\nBehavior:\n- Use 'disable' behavior for common operations (show but gray out)\n- Use 'hide' behavior for advanced features\n- Show tooltips explaining why disabled\n\nFiles to modify:\n- src/ui/s3-explorer.tsx (wrap operation handlers)\n- src/ui/s3-explorer-dialogs.tsx (wrap dialogs)\n- src/ui/keybindings.ts (may need capability checks)\n\nEst: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T12:37:12.891392-06:00","updated_at":"2025-11-27T17:02:28.198138-06:00","closed_at":"2025-11-27T17:02:28.198138-06:00"}
{"id":"of-of37","title":"P7-3: Remove legacy types","description":"Delete src/types/entry.ts (replaced by provider types), src/types/progress.ts (replaced by provider types), type mapper functions from src/providers/types/mappers.ts. Update all imports that referenced legacy types. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:11.757009-06:00","updated_at":"2025-11-27T11:29:13.119896-06:00","closed_at":"2025-11-27T11:29:13.119896-06:00"}
{"id":"of-og7c","title":"Refactor S3Explorer: Extract useStatusMessage hook","description":"Extract status bar state management into a dedicated hook.\n\n**Current state**: Lines 104-106 in s3-explorer.tsx plus scattered setStatusMessage/setStatusMessageColor calls throughout.\n\n**Target**: Create useStatusMessage hook (~60 lines) with:\n- Semantic methods: showSuccess(), showError(), showWarning(), showInfo(), clear()\n- Computed isError property\n- Consolidate CatppuccinMocha color usage\n\n**Files to create**:\n- src/hooks/useStatusMessage.ts\n- src/hooks/useStatusMessage.test.ts\n\n**Migration**: Low risk, no dependencies on other new hooks. Can be done first.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T16:24:53.654877586-06:00","updated_at":"2025-11-27T19:11:48.714428-06:00","closed_at":"2025-11-27T19:11:48.714428-06:00"}
{"id":"of-oinf","title":"P3-5: Implement S3Provider advanced operations and error mapping","description":"Implement getMetadata() mapping S3 metadata to Entry.metadata. Implement getPresignedUrl(). Implement setMetadata() via copy-replace. Implement mapS3Error() to map AWS SDK errors to OperationResult status codes. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:56:06.995205-06:00","updated_at":"2025-11-26T22:19:27.361822-06:00","closed_at":"2025-11-26T22:19:27.361822-06:00"}
{"id":"of-on7","title":"Add versioning support","description":"View and manage object versions for providers that support versioning. Uses the Capability.Versioning flag to determine availability. When supported, 'V' shows version history for the selected object, allowing users to view, restore, or delete specific versions.","acceptance_criteria":"- 'V' shows version history for object\n- List all versions with dates\n- Restore previous version\n- Delete specific version","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.340401-06:00","updated_at":"2025-11-27T18:53:49.652358-06:00"}
{"id":"of-one","title":"Show 0 bytes for empty files instead of hyphens","description":"Currently empty files (0 bytes) show a hyphen '-' for size, which is the same as folders. This makes it hard to distinguish empty files from directories at a glance. Change the display to show '0B' or '0 bytes' for files with size 0, while keeping the hyphen for directories which don't have a meaningful size.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-24T23:46:05.064248-06:00","updated_at":"2025-11-25T12:27:42.067237084-06:00","closed_at":"2025-11-25T12:27:42.067237084-06:00"}
{"id":"of-ouy","title":"Consolidate keyboard handling into single useKeyboardDispatcher hook","description":"## Problem\nKeyboard handling is scattered across multiple files:\n- s3-explorer.tsx (global dispatcher, ~200 lines)\n- useKeyboardEvents.ts (mode-specific handlers, 496 lines)\n- useKeybindings.ts (registry abstraction, 158 lines)\n- ui/keybindings.ts (default bindings, 306 lines)\n\n## Progress\n\n### Completed\n1. Added KeyAction type with semantic action identifiers\n2. Created useKeyboardDispatcher hook with:\n   - Action handler registration\n   - Multi-key sequence support (gg, dd, yy, g?)\n   - Mode-aware keybinding resolution\n   - Text input mode handling\n   - Dialog blocking support\n3. Created keybindingDefaults.ts with key-to-action mappings\n4. Added comprehensive tests (33 tests)\n\n### Remaining\n- Migrate s3-explorer.tsx to use new action-based system\n- Mark old hooks for deprecation\n\n## Files Created\n- src/hooks/useKeyboardDispatcher.ts\n- src/hooks/keybindingDefaults.ts\n- src/hooks/useKeyboardDispatcher.test.ts\n- src/types/keyboard.ts (updated with KeyAction type)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:04.790212-06:00","updated_at":"2025-11-24T23:56:14.47577-06:00","closed_at":"2025-11-24T23:56:14.47577-06:00"}
{"id":"of-oxq","title":"Create progress adapter factory to reduce callback duplication","description":"## Problem\nThe S3Adapter has repeated progress callback adapter patterns across multiple methods (lines 633-644, 712-723, 927-936, 1002-1011). This violates DRY and makes the code harder to maintain.\n\n### Current Pattern (repeated 4+ times)\n```typescript\nonProgress: options?.onProgress\n  ? (moved, total, currentKey) =\u003e {\n      options.onProgress!({\n        operation: 'Moving objects',\n        bytesTransferred: moved,\n        totalBytes: total,\n        percentage: Math.round((moved / total) * 100),\n        currentFile: currentKey,\n      });\n    }\n  : undefined,\n```\n\n## Implementation Plan\n\n### Step 1: Create progress-adapter.ts module\nCreate `src/adapters/s3/progress-adapter.ts`:\n\n```typescript\nimport { ProgressCallback, ProgressEvent } from '../adapter.js';\n\n/**\n * Callback type for internal S3 operations (count-based)\n */\nexport type OperationProgressCallback = (\n  count: number,\n  total: number,\n  currentItem: string\n) =\u003e void;\n\n/**\n * Callback type for byte-based progress\n */\nexport type ByteProgressCallback = (\n  bytesTransferred: number,\n  totalBytes: number,\n  currentFile: string\n) =\u003e void;\n\n/**\n * Create a progress adapter that converts internal progress to ProgressEvent\n * \n * @param operation - Operation name for the progress event\n * @param onProgress - External progress callback (optional)\n * @returns Internal progress callback or undefined\n */\nexport function createProgressAdapter(\n  operation: string,\n  onProgress?: ProgressCallback\n): OperationProgressCallback | undefined {\n  if (!onProgress) return undefined;\n  \n  return (count: number, total: number, currentItem: string) =\u003e {\n    onProgress({\n      operation,\n      bytesTransferred: count,\n      totalBytes: total,\n      percentage: total \u003e 0 ? Math.round((count / total) * 100) : 0,\n      currentFile: currentItem,\n    });\n  };\n}\n\n/**\n * Create a byte-based progress adapter\n */\nexport function createByteProgressAdapter(\n  operation: string,\n  onProgress?: ProgressCallback\n): ByteProgressCallback | undefined {\n  if (!onProgress) return undefined;\n  \n  return (bytesTransferred: number, totalBytes: number, currentFile: string) =\u003e {\n    onProgress({\n      operation,\n      bytesTransferred,\n      totalBytes,\n      percentage: totalBytes \u003e 0 ? Math.round((bytesTransferred / totalBytes) * 100) : 0,\n      currentFile,\n    });\n  };\n}\n```\n\n### Step 2: Update S3Adapter to use factory\nReplace repeated patterns:\n\n```typescript\n// Before\nonProgress: options?.onProgress\n  ? (moved, total, currentKey) =\u003e {\n      options.onProgress!({\n        operation: 'Moving objects',\n        bytesTransferred: moved,\n        totalBytes: total,\n        percentage: Math.round((moved / total) * 100),\n        currentFile: currentKey,\n      });\n    }\n  : undefined,\n\n// After\nonProgress: createProgressAdapter('Moving objects', options?.onProgress),\n```\n\n### Step 3: Update affected methods\n- moveDirectory() - line 633-644\n- copyDirectory() - line 712-723  \n- downloadDirectoryToLocal() - line 927-936\n- uploadDirectoryToS3() - line 1002-1011\n\n### Step 4: Create tests\nCreate `src/adapters/s3/progress-adapter.test.ts`:\n- Test createProgressAdapter returns undefined when no callback\n- Test createProgressAdapter transforms progress correctly\n- Test percentage calculation edge cases (0 total, large numbers)\n- Test createByteProgressAdapter\n\n## Files to Create\n- src/adapters/s3/progress-adapter.ts\n- src/adapters/s3/progress-adapter.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (simplify 4 progress patterns)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- DRY: Single source of truth for progress adaptation\n- Testable: Progress logic can be unit tested\n- Cleaner: S3Adapter methods become more readable\n- Consistent: All operations use same progress format\n\n## Effort Estimate\nLow (1 hour)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:32:19.624692221-06:00","updated_at":"2025-11-26T20:49:41.989942-06:00","closed_at":"2025-11-26T20:49:41.989942-06:00"}
{"id":"of-oy5","title":"UI Layer \u0026 Buffer System","description":"Build the OpenTUI-based UI layer with buffer editing capabilities","design":"Following oil.nvim's buffer-as-editor pattern. Display entries as editable buffer, track changes, show confirmation before commit.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.340986-06:00","updated_at":"2025-11-17T08:50:09.763963-06:00","closed_at":"2025-11-17T08:50:09.763963-06:00"}
{"id":"of-oyrr","title":"P7-6: Remove Provider prefix from types","description":"Rename all prefixed types to final names: ProviderEntry→Entry, ProviderEntryType→EntryType, ProviderEntryMetadata→EntryMetadata, ProviderProgressEvent→ProgressEvent, ProviderProgressCallback→ProgressCallback, ProviderListOptions→ListOptions, ProviderListResult→ListResult, ProviderCancellationToken→CancellationToken. Update all imports. Run TypeScript compiler to verify. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:19.485061-06:00","updated_at":"2025-11-27T11:51:39.551771-06:00","closed_at":"2025-11-27T11:51:39.551771-06:00"}
{"id":"of-p351","title":"Add comprehensive tests for pending-operations-store","description":"Create src/stores/pending-operations-store.test.ts:\n\nState mutation tests:\n- markForDeletion adds PendingDelete operation\n- unmarkForDeletion removes the operation\n- toggleDeletion alternates between mark/unmark\n- rename replaces existing rename for same URI\n- create adds PendingCreate operation\n\nClipboard tests:\n- cut stores entries with 'cut' operation type\n- copy stores entries with 'copy' operation type  \n- paste creates PendingMove for cut items\n- paste creates PendingCopy for copy items\n- paste clears clipboard after cut (not copy)\n\nVisual state tests:\n- getEntryState returns correct flags for each operation type\n- getEntryState handles multiple operations on same entry\n- getVirtualEntries returns entries for moves/copies/creates\n\nUndo/redo tests:\n- undo restores previous state\n- redo restores undone state\n- actions clear redo stack\n- canUndo/canRedo reflect stack state\n\nExecution tests:\n- execute calls adapter methods in correct order (creates first, deletes last)\n- execute clears operations on success\n- execute keeps failed operations\n- onProgress callback receives correct indices\n\nSubscription tests:\n- subscribe notifies on state changes\n- unsubscribe stops notifications","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:16:40.275086-06:00","updated_at":"2025-11-29T10:20:42.793645-06:00","dependencies":[{"issue_id":"of-p351","depends_on_id":"of-iip6","type":"blocks","created_at":"2025-11-29T10:18:53.989996-06:00","created_by":"daemon"}]}
{"id":"of-p76q","title":"Set up typescript-eslint with CI/CD and justfile integration","description":"## Problem\nProject lacks static analysis beyond TypeScript type checking. Currently only has Prettier for formatting.\n\n## Scope\n1. **Install typescript-eslint dependencies**\n   - eslint\n   - @typescript-eslint/parser\n   - @typescript-eslint/eslint-plugin\n   - eslint-config-prettier (to avoid conflicts)\n\n2. **Create eslint.config.js** (flat config format)\n   - Enable recommended TypeScript rules\n   - Add rules for code quality (no-console, no-explicit-any, unused-vars, etc.)\n   - Configure for React/JSX support\n\n3. **Update package.json scripts**\n   - Add `lint` script\n   - Add `lint:fix` script\n\n4. **Update justfile**\n   - Add lint recipe\n   - Add lint-fix recipe\n   - Update any check/ci recipes to include linting\n\n5. **Update CI/CD (.github/workflows/lint.yml)**\n   - Add ESLint step to lint workflow\n   - Ensure it runs on PRs and pushes\n\n## Benefits\n- Catch bugs early (unused variables, implicit any, etc.)\n- Enforce consistent code patterns\n- Could have caught the console.error issue fixed in of/g-dss\n- Better IDE integration with real-time feedback","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T16:40:40.995498327-06:00","updated_at":"2025-11-25T16:40:40.995498327-06:00"}
{"id":"of-p8b","title":"Set up testing framework (Jest/Vitest)","description":"Configure testing framework and test utilities","acceptance_criteria":"- Jest or Vitest configured\n- Test script in package.json\n- Test utilities for mocking","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.341584-06:00","updated_at":"2025-11-27T12:26:40.639701-06:00","closed_at":"2025-11-27T12:26:40.639701-06:00","dependencies":[{"issue_id":"of-p8b","depends_on_id":"of-fi2","type":"parent-child","created_at":"2025-11-15T19:58:55.573439-06:00","created_by":"daemon"},{"issue_id":"of-p8b","depends_on_id":"of-afd","type":"blocks","created_at":"2025-11-15T19:58:59.226771-06:00","created_by":"daemon"},{"issue_id":"of-p8b","depends_on_id":"of-gnm","type":"blocks","created_at":"2025-11-15T19:58:59.865964-06:00","created_by":"daemon"}]}
{"id":"of-pai","title":"Implement column system for entry display","description":"Configurable columns for icon, name, size, modified date","acceptance_criteria":"- Column interface with render function\n- IconColumn, NameColumn, SizeColumn, DateColumn\n- Configurable column order and visibility","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.34214-06:00","updated_at":"2025-11-17T08:58:48.033675-06:00","closed_at":"2025-11-17T08:58:48.033675-06:00","dependencies":[{"issue_id":"of-pai","depends_on_id":"of-0sv","type":"blocks","created_at":"2025-11-15T19:58:21.206917-06:00","created_by":"daemon"}]}
{"id":"of-pcy","title":"Implement presigned URL generation","description":"Generate temporary download URLs for objects","acceptance_criteria":"- 'U' generates presigned URL\n- Configurable expiration time\n- Copy URL to clipboard\n- Show URL in dialog","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.342645-06:00","updated_at":"2025-11-27T18:51:40.774322-06:00","closed_at":"2025-11-27T18:51:40.774322-06:00"}
{"id":"of-pdh","title":"Create AdapterOperation types","description":"Define operation types for create, delete, move, copy actions","acceptance_criteria":"- Operation union type (CreateOp, DeleteOp, MoveOp, CopyOp)\n- Each operation has type discriminator\n- Includes source and destination paths","notes":"Created AdapterOperation union type with CreateOp, DeleteOp, MoveOp, CopyOp. Includes OperationPlan type.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.343224-06:00","updated_at":"2025-11-15T21:40:13.343224-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-pdh","depends_on_id":"of-w9f","type":"blocks","created_at":"2025-11-15T19:47:13.916562-06:00","created_by":"daemon"},{"issue_id":"of-pdh","depends_on_id":"of-2pd","type":"blocks","created_at":"2025-11-15T19:57:58.627863-06:00","created_by":"daemon"},{"issue_id":"of-pdh","depends_on_id":"of-ret","type":"blocks","created_at":"2025-11-15T19:57:59.02133-06:00","created_by":"daemon"}]}
{"id":"of-piml","title":"P3-1: Port S3Adapter logic to S3Provider","description":"Create src/providers/s3/s3-provider.ts. Copy relevant logic from S3Adapter. Update method signatures to match StorageProvider (use Streams). Implement implicit directory handling in list(). Use S3Profile for configuration. Est: 6 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:57.033776-06:00","updated_at":"2025-11-26T22:19:22.169381-06:00","closed_at":"2025-11-26T22:19:22.169381-06:00"}
{"id":"of-pkl9","title":"P4E-6: NFS integration tests","description":"Create integration test suite. Test with actual NFS mount if available. Test with local filesystem as fallback (note in docs). Document test setup (how to create NFS mount for testing). Est: 2 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:52.473308-06:00","updated_at":"2025-11-26T20:57:52.473308-06:00"}
{"id":"of-plt4","title":"Update confirmation dialogs for pending operations","description":"Enhance confirmation dialogs to show all pending operations:\n\n1. Update save confirmation dialog:\n   - Show grouped operations by type (Deletes, Moves, Copies, Renames, Creates)\n   - Show count of each operation type\n   - Allow reviewing individual operations before executing\n\n2. Add operation preview:\n   - Show source → destination for moves/copies\n   - Show oldName → newName for renames\n   - Use color coding matching the buffer view\n\n3. Handle partial failures:\n   - Show which operations succeeded/failed\n   - Option to retry failed operations\n   - Option to discard failed operations","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-29T10:17:36.717952-06:00","updated_at":"2025-11-29T10:20:42.984297-06:00","dependencies":[{"issue_id":"of-plt4","depends_on_id":"of-svlp","type":"blocks","created_at":"2025-11-29T10:19:05.566797-06:00","created_by":"daemon"}]}
{"id":"of-pp2","title":"Add interactive file upload dialog with file browser","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:10:37.60808-06:00","updated_at":"2025-11-17T21:52:35.50404-06:00","closed_at":"2025-11-17T21:52:35.50404-06:00"}
{"id":"of-q4po","title":"P7-5: Remove feature flag system","description":"Delete src/utils/feature-flags.ts. Remove all feature flag checks from codebase. Remove environment variable handling. Simplify StorageContext to only use new system. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:00:16.066658-06:00","updated_at":"2025-11-27T11:29:14.509554-06:00","closed_at":"2025-11-27T11:29:14.509554-06:00"}
{"id":"of-qf0","title":"Split S3Adapter into focused modules","description":"## Problem\ns3-adapter.ts is 1455 lines and handles multiple concerns:\n- S3 client configuration\n- Basic CRUD operations (list, get, put, delete)\n- Multipart upload logic\n- Error transformation\n- Progress tracking\n\nThis makes the file difficult to navigate and test individual concerns.\n\n## Implementation Plan\n\n### Step 1: Extract S3 Client Factory\n```typescript\n// src/adapters/s3/client-factory.ts\nimport { S3Client, S3ClientConfig } from '@aws-sdk/client-s3';\n\nexport interface S3ClientOptions {\n  region?: string;\n  endpoint?: string;\n  credentials?: {\n    accessKeyId: string;\n    secretAccessKey: string;\n  };\n  profile?: string;\n}\n\nexport function createS3Client(options: S3ClientOptions): S3Client {\n  const config: S3ClientConfig = {\n    region: options.region || 'us-east-1',\n  };\n  \n  if (options.endpoint) {\n    config.endpoint = options.endpoint;\n    config.forcePathStyle = true;\n  }\n  \n  if (options.credentials) {\n    config.credentials = options.credentials;\n  }\n  \n  return new S3Client(config);\n}\n```\n\n### Step 2: Extract Error Handling\n```typescript\n// src/adapters/s3/errors.ts\nimport { S3ServiceException } from '@aws-sdk/client-s3';\n\nexport class S3OperationError extends Error {\n  constructor(\n    message: string,\n    public readonly code: string,\n    public readonly statusCode?: number,\n    public readonly cause?: Error\n  ) {\n    super(message);\n    this.name = 'S3OperationError';\n  }\n}\n\nexport function parseS3Error(error: unknown): S3OperationError {\n  if (error instanceof S3ServiceException) {\n    return new S3OperationError(\n      error.message,\n      error.name,\n      error.$metadata.httpStatusCode,\n      error\n    );\n  }\n  \n  if (error instanceof Error) {\n    return new S3OperationError(error.message, 'UnknownError', undefined, error);\n  }\n  \n  return new S3OperationError(String(error), 'UnknownError');\n}\n\nexport function isNotFoundError(error: unknown): boolean {\n  return error instanceof S3OperationError \u0026\u0026 \n    (error.code === 'NoSuchKey' || error.code === 'NotFound');\n}\n```\n\n### Step 3: Extract Multipart Upload Logic\n```typescript\n// src/adapters/s3/multipart-upload.ts\nimport { \n  CreateMultipartUploadCommand,\n  UploadPartCommand,\n  CompleteMultipartUploadCommand,\n  AbortMultipartUploadCommand,\n} from '@aws-sdk/client-s3';\n\nexport const MULTIPART_THRESHOLD = 5 * 1024 * 1024; // 5MB\nexport const PART_SIZE = 5 * 1024 * 1024;\n\nexport interface MultipartUploadOptions {\n  bucket: string;\n  key: string;\n  body: Buffer;\n  contentType?: string;\n  onProgress?: (uploaded: number, total: number) =\u003e void;\n}\n\nexport class MultipartUploader {\n  constructor(private client: S3Client) {}\n  \n  async upload(options: MultipartUploadOptions): Promise\u003cvoid\u003e {\n    const { bucket, key, body } = options;\n    const totalParts = Math.ceil(body.length / PART_SIZE);\n    \n    // Create multipart upload\n    const { UploadId } = await this.client.send(\n      new CreateMultipartUploadCommand({\n        Bucket: bucket,\n        Key: key,\n        ContentType: options.contentType,\n      })\n    );\n    \n    try {\n      const parts = await this.uploadParts(bucket, key, UploadId!, body, options.onProgress);\n      await this.completeUpload(bucket, key, UploadId!, parts);\n    } catch (error) {\n      await this.abortUpload(bucket, key, UploadId!);\n      throw error;\n    }\n  }\n  \n  // ... private methods\n}\n```\n\n### Step 4: Extract List Operations\n```typescript\n// src/adapters/s3/list-operations.ts\nimport { ListObjectsV2Command, ListBucketsCommand } from '@aws-sdk/client-s3';\n\nexport async function listObjects(\n  client: S3Client,\n  bucket: string,\n  prefix: string,\n  options?: { delimiter?: string; maxKeys?: number }\n): Promise\u003cListResult\u003e {\n  // Implementation\n}\n\nexport async function listBuckets(client: S3Client): Promise\u003cBucketEntry[]\u003e {\n  // Implementation\n}\n```\n\n### Step 5: Refactor S3Adapter\n```typescript\n// src/adapters/s3-adapter.ts (simplified)\nimport { createS3Client } from './s3/client-factory';\nimport { MultipartUploader, MULTIPART_THRESHOLD } from './s3/multipart-upload';\nimport { listObjects, listBuckets } from './s3/list-operations';\nimport { parseS3Error } from './s3/errors';\n\nexport class S3Adapter implements Adapter {\n  private client: S3Client;\n  private uploader: MultipartUploader;\n  \n  constructor(options: S3AdapterOptions) {\n    this.client = createS3Client(options);\n    this.uploader = new MultipartUploader(this.client);\n  }\n  \n  async list(path: string, options?: ListOptions): Promise\u003cListResult\u003e {\n    return listObjects(this.client, this.bucket, path, options);\n  }\n  \n  async create(path: string, type: EntryType, content?: Buffer): Promise\u003cvoid\u003e {\n    if (content \u0026\u0026 content.length \u003e MULTIPART_THRESHOLD) {\n      return this.uploader.upload({ bucket: this.bucket, key: path, body: content });\n    }\n    // Simple put\n  }\n  \n  // Other methods delegate to extracted modules\n}\n```\n\n## New File Structure\n```\nsrc/adapters/\n├── adapter.ts              # Interface (unchanged)\n├── s3-adapter.ts           # Main adapter (~300 lines)\n├── s3/\n│   ├── client-factory.ts   # S3 client creation (~50 lines)\n│   ├── errors.ts           # Error handling (~80 lines)\n│   ├── multipart-upload.ts # Multipart logic (~200 lines)\n│   ├── list-operations.ts  # List operations (~150 lines)\n│   └── index.ts            # Barrel export\n├── mock-adapter.ts         # (unchanged)\n└── registry.ts             # (unchanged)\n```\n\n## Files to Create\n- src/adapters/s3/client-factory.ts\n- src/adapters/s3/errors.ts\n- src/adapters/s3/multipart-upload.ts\n- src/adapters/s3/list-operations.ts\n- src/adapters/s3/index.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce from 1455 to ~300 lines)\n\n## Testing\n- Add unit tests for each extracted module\n- Ensure existing S3 adapter tests still pass\n- Add tests for multipart upload edge cases\n\n## Estimated Effort: 3-4 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:03.332921-06:00","updated_at":"2025-11-25T12:57:01.143893095-06:00","closed_at":"2025-11-25T12:57:01.143893095-06:00"}
{"id":"of-qfej","title":"Implement profile loading at startup","description":"Load and use saved profiles at application startup instead of always creating a CLI profile.\n\nCurrent behavior:\n- App always creates 'cli-s3-profile' from CLI args\n- Ignores any saved profiles in ~/.config/of/g/profiles.json\n- User can't persist profile selections\n\nNeeded behavior:\n1. Create FileProfileManager instance at startup\n2. Check if user has saved profiles\n3. If profiles exist:\n   - Load the 'default' or last-used profile\n   - Use CLI args to override profile settings if provided\n4. If no profiles exist:\n   - Create profile from CLI args\n   - Optionally save as 'default' profile\n5. Pass ProfileManager to StorageContextProvider for profile switching\n\nFiles to modify:\n- src/index.tsx (initialize ProfileManager, load profile)\n- src/contexts/StorageContextProvider.tsx (accept ProfileManager prop)\n- src/contexts/StorageContext.tsx (add switchProfile method)\n\nBenefits:\n- Users can save favorite profiles\n- Profiles persist across sessions\n- CLI args still work as overrides\n- Enables profile switching UI\n\nEst: 4-5 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T12:39:48.343827-06:00","updated_at":"2025-11-27T18:47:43.150014-06:00","closed_at":"2025-11-27T18:47:43.150014-06:00","dependencies":[{"issue_id":"of-qfej","depends_on_id":"of-ucr6","type":"blocks","created_at":"2025-11-27T12:40:12.601384-06:00","created_by":"daemon"},{"issue_id":"of-qfej","depends_on_id":"of-sjdr","type":"blocks","created_at":"2025-11-27T12:40:16.343161-06:00","created_by":"daemon"}]}
{"id":"of-qfo","title":"Create progress window for long operations","description":"Progress indicator for async S3 operations","acceptance_criteria":"- ProgressWindow shows operation status\n- Progress bar for completion percentage\n- Current operation description\n- Cancellable operations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.34382-06:00","updated_at":"2025-11-17T21:06:54.084381-06:00","closed_at":"2025-11-17T21:06:54.084381-06:00"}
{"id":"of-qje","title":"Add hidden files toggle","description":"Show/hide hidden files (dot-prefixed)","acceptance_criteria":"- 'H' toggles hidden files visibility\n- Hidden files shown with dimmed color\n- Setting persisted across sessions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.344368-06:00","updated_at":"2025-11-17T19:45:04.804248-06:00","closed_at":"2025-11-17T19:45:04.804248-06:00"}
{"id":"of-qjlp","title":"P4F-3: Update factory and exports for Local","description":"Add local to ProviderType. Update createProvider() for local type. Export LocalProvider. Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:04.462082-06:00","updated_at":"2025-11-26T20:58:04.462082-06:00"}
{"id":"of-qnc9","title":"P2-4: Implement FileProfileManager class","description":"Implement FileProfileManager class implementing ProfileManager. Load profiles on construction, implement all CRUD operations, integrate validation, implement createProviderFromProfile with credential resolution. Add unit tests. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:14.944986-06:00","updated_at":"2025-11-26T21:43:50.976171-06:00","closed_at":"2025-11-26T21:43:50.976171-06:00"}
{"id":"of-qxm7","title":"P3-4: Implement S3Provider transfer operations","description":"Implement copy() with native S3 copy. Implement downloadToLocal() with stream to file. Implement uploadFromLocal() with stream from file. Handle progress events for all transfers. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:56:04.30799-06:00","updated_at":"2025-11-26T22:19:25.930606-06:00","closed_at":"2025-11-26T22:19:25.930606-06:00"}
{"id":"of-r144","title":"GCSProvider downloadToLocal not creating parent directories for single files","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-27T17:26:05.774537-06:00","updated_at":"2025-11-27T17:30:13.858229-06:00","closed_at":"2025-11-27T17:30:13.858229-06:00"}
{"id":"of-r580","title":"P4E-4: Implement NFSProvider core operations","description":"Implement list() using fs.readdir() with withFileTypes, read() using fs.readFile(), write() using fs.writeFile(), delete() using fs.unlink()/fs.rmdir(), mkdir() using fs.mkdir(), getMetadata() using fs.stat(), exists() using fs.access(). Map fs errors to OperationResult. Add unit tests. Est: 4 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:47.82942-06:00","updated_at":"2025-11-26T20:57:47.82942-06:00"}
{"id":"of-r58d","title":"P5-9: Update PreviewPane component","description":"Replace direct adapter usage with useStorage hook. Use read() from context for file preview. Handle errors via context error state. Test with both systems. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:18.65743-06:00","updated_at":"2025-11-27T10:09:21.239546-06:00","closed_at":"2025-11-27T10:09:21.239546-06:00"}
{"id":"of-r87u","title":"Add integration tests for pending operations across navigation","description":"Create integration tests to verify the core bug fix:\n\nTest scenarios:\n1. Mark file in dir A, navigate to B, return to A - verify mark persists\n2. Cut file from A, navigate to B, paste - verify move operation created\n3. Multiple marks in different directories - all persist\n4. Undo/redo across navigation\n5. Execute operations and verify adapter calls\n6. Discard operations clears all marks\n\nThese tests validate the primary goal: pending changes survive directory navigation.\n\nLocation: src/integration/pending-operations.test.ts or similar","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:17:43.694948-06:00","updated_at":"2025-11-29T10:20:43.007751-06:00","dependencies":[{"issue_id":"of-r87u","depends_on_id":"of-waoq","type":"blocks","created_at":"2025-11-29T10:19:05.615861-06:00","created_by":"daemon"}]}
{"id":"of-razz","title":"Create usePendingOperations React hook","description":"Create src/hooks/usePendingOperations.ts:\n\nUses useSyncExternalStore to subscribe to the singleton store.\nWraps store methods with scheme/bucket context for URI building.\n\nHook signature:\nusePendingOperations(scheme: StorageScheme, bucket?: string, adapter?: MutableStorageAdapter)\n\nReturns:\n- operations: PendingOperation[]\n- hasPendingChanges: boolean\n- pendingCount: number\n- clipboard: ClipboardState | null\n- getEntryState(entry): EntryVisualState\n- getVirtualEntries(path): Entry[]\n- markForDeletion(entry)\n- unmarkForDeletion(entry)\n- toggleDeletion(entry)\n- rename(entry, newName)\n- create(parentPath, name, entryType)\n- cut(entries)\n- copy(entries)\n- paste(destPath)\n- clearClipboard()\n- undo(), redo(), canUndo, canRedo\n- execute(): Promise\u003cPendingOperation[]\u003e\n- discard()\n\nKey implementation details:\n- Singleton store instance (or React Context)\n- useCallback for memoized action wrappers\n- toUri helper that uses entryToUri with current scheme/bucket","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:16:50.369527-06:00","updated_at":"2025-11-29T10:20:42.817517-06:00","dependencies":[{"issue_id":"of-razz","depends_on_id":"of-iip6","type":"blocks","created_at":"2025-11-29T10:19:12.609109-06:00","created_by":"daemon"}]}
{"id":"of-ret","title":"Execute operations through adapter","description":"Execute confirmed operations via adapter interface","acceptance_criteria":"- Execute each operation sequentially\n- Show progress for each operation\n- Handle errors and rollback if needed\n- Reload buffer after success","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.344944-06:00","updated_at":"2025-11-17T08:50:06.912812-06:00","closed_at":"2025-11-17T08:50:06.912812-06:00","dependencies":[{"issue_id":"of-ret","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:48:44.281589-06:00","created_by":"daemon"},{"issue_id":"of-ret","depends_on_id":"of-18l","type":"blocks","created_at":"2025-11-15T19:58:43.089486-06:00","created_by":"daemon"}]}
{"id":"of-rp4v","title":"P1-4: Implement Profile types","description":"Create src/providers/types/profile.ts with ProviderType union, BaseProfile interface, and provider-specific profiles: S3Profile, GCSProfile, SFTPProfile, FTPProfile, NFSProfile, SMBProfile, GoogleDriveProfile with all config fields. Define Profile union type. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:38.597147-06:00","updated_at":"2025-11-26T21:17:08.59661-06:00","closed_at":"2025-11-26T21:17:08.59661-06:00"}
{"id":"of-rtb","title":"Extract copy operations to s3/copy-operations.ts","description":"Extract copy operations from S3Adapter. Functions: copyObject(), copyDirectory(). Currently in S3Adapter.copySingleFile() and copyDirectory() methods. ~120 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:27.973657707-06:00","updated_at":"2025-11-25T13:26:01.571164185-06:00","closed_at":"2025-11-25T13:26:01.571164185-06:00"}
{"id":"of-rtoy","title":"P4B-3: Implement SFTP connection lifecycle","description":"Implement connect() handling password, key-based, and ssh-agent auth. Implement disconnect() and isConnected(). Add connection timeout handling. Return OperationResult with connection errors. Add unit tests with mocked ssh2. Est: 4 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:42.703766-06:00","updated_at":"2025-11-27T17:14:19.02737-06:00","closed_at":"2025-11-27T17:14:19.02737-06:00"}
{"id":"of-rvn","title":"Cannot find module '@smithy/core/protocols' - missing dependency","description":"Running `bun run src/index.ts` fails with: Cannot find module '@smithy/core/protocols' from bun cache. This indicates missing or incorrectly installed dependencies.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T21:37:50.301309-06:00","updated_at":"2025-11-15T21:37:50.301309-06:00","closed_at":"2025-11-15T21:24:37.926392-06:00"}
{"id":"of-rvz1","title":"Refactor S3Explorer: Slim down main component","description":"Slim down s3-explorer.tsx to pure orchestration.\n\n**Current state**: 1288 lines with 7 distinct responsibilities.\n\n**Target**: ~200 lines that only:\n- Resolves adapter from props/context\n- Initializes all hooks\n- Wires hooks together\n- Builds props for S3ExplorerLayout\n- Renders S3ExplorerLayout\n\n**Additional files to create**:\n- src/ui/dialog-state-builder.ts (~100 lines) - Extract DialogsState object construction\n\n**Migration**: Final step after all hooks are extracted. Verify all functionality still works.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T16:24:57.42384939-06:00","updated_at":"2025-11-27T19:19:37.06536-06:00","dependencies":[{"issue_id":"of-rvz1","depends_on_id":"of-36z7","type":"blocks","created_at":"2025-11-25T16:27:19.426723192-06:00","created_by":"daemon"},{"issue_id":"of-rvz1","depends_on_id":"of-f88l","type":"blocks","created_at":"2025-11-25T16:27:19.441712088-06:00","created_by":"daemon"},{"issue_id":"of-rvz1","depends_on_id":"of-vp7e","type":"blocks","created_at":"2025-11-25T16:27:19.455840681-06:00","created_by":"daemon"},{"issue_id":"of-rvz1","depends_on_id":"of-1zws","type":"blocks","created_at":"2025-11-25T16:27:19.470522424-06:00","created_by":"daemon"}]}
{"id":"of-s80f","title":"Add unit tests for storage-uri utilities","description":"Create src/utils/storage-uri.test.ts with comprehensive tests:\n\n- buildUri: Test all scheme types (s3, gcs, sftp, file, mock)\n- parseUri: Test parsing each URI format, handle edge cases\n- getParentUri: Test nested paths, root paths, empty paths\n- entryToUri: Test with different Entry types\n- isUriInPath: Test immediate children, nested paths, different buckets\n- Error handling for invalid URIs","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T10:16:19.916769-06:00","updated_at":"2025-11-29T10:35:55.609082-06:00","closed_at":"2025-11-29T10:35:55.609082-06:00","dependencies":[{"issue_id":"of-s80f","depends_on_id":"of-zy1x","type":"blocks","created_at":"2025-11-29T10:18:54.038374-06:00","created_by":"daemon"}]}
{"id":"of-scbn","title":"P5-1: Audit current UI adapter usage","description":"Search codebase for all S3Adapter imports and usages. Document all UI components that directly use adapter. List all adapter methods called from UI. Identify any adapter-specific assumptions in UI code. Create migration checklist. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:58:57.871149-06:00","updated_at":"2025-11-27T09:04:46.80941-06:00","closed_at":"2025-11-27T09:04:46.80941-06:00"}
{"id":"of-sdpu","title":"P4C-5: Implement FTPProvider file operations","description":"Implement nativeMove() using client.rename(). Implement downloadToLocal() using client.downloadTo(), uploadFromLocal() using client.uploadFrom(). Wire up progress callbacks via client.trackProgress(). Add unit tests. Est: 3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:07.896567-06:00","updated_at":"2025-11-27T17:18:14.830773-06:00","closed_at":"2025-11-27T17:18:14.830773-06:00"}
{"id":"of-ser","title":"Implement basic cursor movement (j/k)","description":"Up/down navigation with j/k keys and arrow keys","acceptance_criteria":"- j moves cursor down, k moves up\n- Arrow keys work too\n- Cursor wraps at top/bottom\n- Visual feedback on cursor position","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.345585-06:00","updated_at":"2025-11-24T23:15:42.52578-06:00","closed_at":"2025-11-24T23:15:42.52578-06:00","dependencies":[{"issue_id":"of-ser","depends_on_id":"of-807","type":"blocks","created_at":"2025-11-15T19:48:12.437395-06:00","created_by":"daemon"},{"issue_id":"of-ser","depends_on_id":"of-9zz","type":"blocks","created_at":"2025-11-15T19:58:32.308391-06:00","created_by":"daemon"},{"issue_id":"of-ser","depends_on_id":"of-e2s","type":"blocks","created_at":"2025-11-15T19:58:33.087349-06:00","created_by":"daemon"},{"issue_id":"of-ser","depends_on_id":"of-2h3","type":"blocks","created_at":"2025-11-15T19:58:33.822746-06:00","created_by":"daemon"},{"issue_id":"of-ser","depends_on_id":"of-ycl","type":"blocks","created_at":"2025-11-15T19:58:35.985669-06:00","created_by":"daemon"}]}
{"id":"of-sgr2","title":"P4G-7: Implement rate limiting and error handling for Google Drive","description":"Implement exponential backoff for rate limit errors (403, 429). Map Google Drive error codes to OperationResult statuses. Handle quota exceeded, auth failures, not found. Add retry logic with configurable max attempts. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:27.769169-06:00","updated_at":"2025-11-26T20:58:27.769169-06:00"}
{"id":"of-siq","title":"Add S3-specific columns (storage class, ETag)","description":"Display S3 metadata in additional columns","acceptance_criteria":"- StorageClassColumn shows STANDARD/GLACIER/etc\n- ETagColumn shows object ETag\n- ContentTypeColumn shows MIME type\n- Toggleable column visibility","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.346127-06:00","updated_at":"2025-11-17T19:46:10.142531-06:00","closed_at":"2025-11-17T19:46:10.142531-06:00","dependencies":[{"issue_id":"of-siq","depends_on_id":"of-pai","type":"blocks","created_at":"2025-11-15T19:49:18.272475-06:00","created_by":"daemon"}]}
{"id":"of-sjdr","title":"Add profile save/edit UI dialog","description":"Create UI for saving and editing profiles so users can persist their configurations.\n\nCurrent state:\n- ProfileSelector shows existing profiles but can't create/edit them\n- No way to save current session as a profile\n- Users must manually edit JSON files\n\nRequirements:\n1. Create ProfileEditDialog component (similar to other dialogs)\n2. Add keybinding to open dialog (e.g., 'Shift+P' for profile management)\n3. Support two modes:\n   - Save current session as new profile\n   - Edit existing profile\n4. Form fields based on provider type:\n   - Profile name/display name\n   - Provider type (S3, SFTP, etc.)\n   - Provider-specific config (region, endpoint, credentials, etc.)\n   - Mark as default profile checkbox\n5. Validation before save\n6. Success/error feedback\n7. Integration with ProfileManager for save operations\n\nDialog flow:\n1. User presses 'Shift+P' or menu option\n2. Dialog shows current profile settings (pre-filled)\n3. User edits fields\n4. Press 's' to save, 'Escape' to cancel\n5. Profile saved to ~/.config/of/g/profiles.json\n\nFiles to create:\n- src/ui/profile-edit-dialog-react.tsx (new dialog component)\n\nFiles to modify:\n- src/ui/s3-explorer.tsx (add dialog state and keybinding)\n- src/ui/s3-explorer-dialogs.tsx (add to DialogsState)\n- src/ui/keybindings.ts (add profile edit keybinding)\n\nDependencies:\n- Requires: Profile loading at startup (to have ProfileManager)\n\nEst: 6-7 hours","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-27T12:40:11.373852-06:00","updated_at":"2025-11-27T16:54:25.243687-06:00"}
{"id":"of-smx","title":"Implement bucket listing and switching","description":"List all buckets and switch between them","acceptance_criteria":"- :buckets command lists all buckets\n- :bucket \u003cname\u003e switches to bucket\n- Root view shows bucket list\n- Bucket metadata shown (region, creation date)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.346676-06:00","updated_at":"2025-11-17T09:15:07.053649-06:00","closed_at":"2025-11-17T09:15:07.053649-06:00"}
{"id":"of-ssg","title":"Add color scheme customization in config","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:37:50.302091-06:00","updated_at":"2025-11-15T21:37:50.302091-06:00","closed_at":"2025-11-15T21:30:14.170803-06:00"}
{"id":"of-stji","title":"P4C-6: FTP integration tests","description":"Create integration test suite (requires FTP server or Docker). Test anonymous and authenticated access. Test FTPS. Document test setup. Est: 2 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:09.843053-06:00","updated_at":"2025-11-26T20:57:09.843053-06:00"}
{"id":"of-svlp","title":"Integrate usePendingOperations into file-explorer.tsx","description":"Update src/ui/file-explorer.tsx to use the new hook:\n\n1. Add usePendingOperations hook call with current scheme/bucket/adapter\n\n2. Update action handlers:\n   - entry:delete -\u003e pendingOps.toggleDeletion(entry)\n   - entry:copy -\u003e pendingOps.copy(selected)\n   - entry:paste -\u003e pendingOps.paste(currentPath)\n   - buffer:save -\u003e pendingOps.execute() then refresh\n\n3. Pass pendingOps to BufferView for entry rendering\n\n4. Update status bar to show pending operation count\n\n5. Handle execute() results (show failed operations)","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:17:02.55885-06:00","updated_at":"2025-11-29T10:20:42.86557-06:00","dependencies":[{"issue_id":"of-svlp","depends_on_id":"of-razz","type":"blocks","created_at":"2025-11-29T10:19:00.248815-06:00","created_by":"daemon"}]}
{"id":"of-t3s","title":"Add React error boundaries for graceful error handling","description":"## Problem\nThe application has no error boundaries. If a component throws during render:\n- The entire application crashes\n- User loses their work/context\n- No helpful error message is shown\n- Terminal may be left in bad state\n\n## Implementation Plan\n\n### Step 1: Create Error Boundary Component\n```typescript\n// src/ui/error-boundary-react.tsx\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) =\u003e void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component\u003cProps, State\u003e {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Log to file or external service\n    console.error('Error caught by boundary:', error);\n    console.error('Component stack:', errorInfo.componentStack);\n    \n    this.props.onError?.(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n      \n      return (\n        \u003cBox\n          flexDirection=\"column\"\n          padding={1}\n          borderStyle=\"round\"\n          borderColor=\"red\"\n        \u003e\n          \u003cText color=\"red\" bold\u003eSomething went wrong\u003c/Text\u003e\n          \u003cText color=\"gray\"\u003e{this.state.error?.message}\u003c/Text\u003e\n          \u003cBox marginTop={1}\u003e\n            \u003cText dimColor\u003ePress 'q' to quit or 'r' to retry\u003c/Text\u003e\n          \u003c/Box\u003e\n        \u003c/Box\u003e\n      );\n    }\n\n    return this.props.children;\n  }\n}\n```\n\n### Step 2: Create Specialized Boundaries\n```typescript\n// Boundary for pane content (allows other panes to continue)\nexport function PaneErrorBoundary({ children, paneId }: { children: ReactNode; paneId: number }) {\n  return (\n    \u003cErrorBoundary\n      fallback={\n        \u003cBox padding={1}\u003e\n          \u003cText color=\"red\"\u003ePane {paneId} encountered an error\u003c/Text\u003e\n          \u003cText dimColor\u003ePress 'c' to close this pane\u003c/Text\u003e\n        \u003c/Box\u003e\n      }\n      onError={(error) =\u003e {\n        // Could log pane-specific context\n        console.error(`Pane ${paneId} error:`, error);\n      }}\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n\n// Boundary for dialogs (closes dialog on error)\nexport function DialogErrorBoundary({ \n  children, \n  onClose \n}: { \n  children: ReactNode; \n  onClose: () =\u003e void;\n}) {\n  return (\n    \u003cErrorBoundary\n      onError={() =\u003e {\n        // Auto-close dialog on error\n        onClose();\n      }}\n      fallback={null}\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n```\n\n### Step 3: Create Recovery Mechanisms\n```typescript\n// src/ui/error-recovery.tsx\ninterface RecoverableErrorBoundaryProps {\n  children: ReactNode;\n  onReset?: () =\u003e void;\n}\n\nexport function RecoverableErrorBoundary({ \n  children, \n  onReset \n}: RecoverableErrorBoundaryProps) {\n  const [key, setKey] = useState(0);\n  \n  const handleRetry = useCallback(() =\u003e {\n    onReset?.();\n    setKey(k =\u003e k + 1);\n  }, [onReset]);\n  \n  return (\n    \u003cErrorBoundary\n      key={key}\n      fallback={\n        \u003cErrorFallbackWithRetry onRetry={handleRetry} /\u003e\n      }\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n\nfunction ErrorFallbackWithRetry({ onRetry }: { onRetry: () =\u003e void }) {\n  useInput((input) =\u003e {\n    if (input === 'r') {\n      onRetry();\n    }\n  });\n  \n  return (\n    \u003cBox flexDirection=\"column\" padding={1}\u003e\n      \u003cText color=\"red\"\u003eAn error occurred\u003c/Text\u003e\n      \u003cText dimColor\u003ePress 'r' to retry\u003c/Text\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 4: Wrap Application\n```typescript\n// src/index.tsx\nfunction App() {\n  return (\n    \u003cErrorBoundary\n      onError={(error, info) =\u003e {\n        // Log fatal error\n        logger.error('Fatal error', { error, componentStack: info.componentStack });\n      }}\n      fallback={\u003cFatalErrorScreen /\u003e}\n    \u003e\n      \u003cKeyboardProvider\u003e\n        \u003cS3Explorer ... /\u003e\n      \u003c/KeyboardProvider\u003e\n    \u003c/ErrorBoundary\u003e\n  );\n}\n```\n\n### Step 5: Wrap Individual Components\n```typescript\n// src/ui/s3-explorer.tsx\nfunction S3Explorer() {\n  return (\n    \u003cBox flexDirection=\"column\"\u003e\n      \u003cErrorBoundary fallback={\u003cText color=\"red\"\u003eHeader error\u003c/Text\u003e}\u003e\n        \u003cHeader /\u003e\n      \u003c/ErrorBoundary\u003e\n      \n      \u003cPaneErrorBoundary paneId={0}\u003e\n        \u003cPane ... /\u003e\n      \u003c/PaneErrorBoundary\u003e\n      \n      \u003cErrorBoundary fallback={null}\u003e\n        \u003cStatusBar /\u003e\n      \u003c/ErrorBoundary\u003e\n      \n      \u003cDialogErrorBoundary onClose={closeDialog}\u003e\n        \u003cS3ExplorerDialogs ... /\u003e\n      \u003c/DialogErrorBoundary\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n## Files to Create\n- src/ui/error-boundary-react.tsx\n- src/ui/error-boundary-react.test.tsx\n\n## Files to Modify\n- src/index.tsx (wrap App)\n- src/ui/s3-explorer.tsx (wrap components)\n- src/ui/pane-react.tsx (wrap content)\n\n## Testing\n- Test boundary catches errors\n- Test fallback renders\n- Test recovery mechanism\n- Test error logging\n\n## Estimated Effort: 1-2 hours","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T18:03:07.732939-06:00","updated_at":"2025-11-24T18:06:53.244161-06:00"}
{"id":"of-t9gl","title":"P2-3: Implement profile validation","description":"Create src/providers/services/profile-validator.ts with validators for base profile, S3, SFTP, FTP, GCS, NFS, SMB, GoogleDrive profiles. Validate required fields per provider type. Add unit tests for all validators. Est: 5 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:11.365617-06:00","updated_at":"2025-11-26T21:39:30.382762-06:00","closed_at":"2025-11-26T21:39:30.382762-06:00"}
{"id":"of-tcii","title":"P0-5: Document dependency additions","description":"Create docs/PROVIDER_DEPENDENCIES.md. List all new dependencies by phase with versions. Document peer dependencies and version constraints. Note dependencies with native bindings (keytar). Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:54:07.670274-06:00","updated_at":"2025-11-27T12:23:18.606295-06:00","closed_at":"2025-11-27T12:23:18.606295-06:00"}
{"id":"of-tdz4","title":"P2-10: Add profile import/export utilities","description":"Implement exportProfiles(profiles, includeSensitive): string, importProfiles(json): Profile[]. Validate imported profiles. Handle merge vs replace. Strip sensitive data by default on export. Add unit tests. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:55:33.095842-06:00","updated_at":"2025-11-27T12:24:43.490981-06:00","closed_at":"2025-11-27T12:24:43.490981-06:00"}
{"id":"of-tkl5","title":"P2-1: Define ProfileManager interface","description":"Create src/providers/services/profile-manager.ts with ProfileManager interface (listProfiles, getProfile, saveProfile, deleteProfile, validateProfile, createProviderFromProfile). Define ValidationError type. Export from providers index. Est: 1 hour","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:04.20356-06:00","updated_at":"2025-11-26T21:31:25.013196-06:00","closed_at":"2025-11-26T21:31:25.013196-06:00"}
{"id":"of-tqwp","title":"P4G-2: Implement OAuth flow with local callback server","description":"Create src/providers/gdrive/auth.ts. Implement browser-based OAuth consent flow. Create local HTTP server for OAuth callback. Handle token storage and refresh. Support service account authentication as alternative. Add unit tests with mocked OAuth. Est: 4 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:12.094428-06:00","updated_at":"2025-11-26T20:58:12.094428-06:00"}
{"id":"of-txk","title":"Core Architecture \u0026 Adapter System","description":"Implement the adapter pattern for pluggable backends and core abstractions","design":"Adapter interface will define operations (list, get metadata, create, delete, move, copy). Allows testing with mock adapter before S3 integration.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.347235-06:00","updated_at":"2025-11-17T08:50:14.228505-06:00","closed_at":"2025-11-17T08:50:14.228505-06:00"}
{"id":"of-ucr6","title":"Implement profile switching in StorageContext","description":"Add profile switching capability to StorageContext so users can change providers at runtime.\n\nCurrent state:\n- Provider is set once at startup\n- No way to switch providers without restarting app\n- ProfileSelector component exists but can't actually switch profiles\n\nRequirements:\n1. Add ProfileManager to StorageContextProvider\n2. Add switchProfile(profileId: string) method to StorageContext\n3. Handle provider lifecycle:\n   - Disconnect from old provider\n   - Load new profile via ProfileManager\n   - Create new provider instance\n   - Connect to new provider\n   - Reload current path/bucket\n4. Update UI state during switch (loading indicator)\n5. Handle errors gracefully (fallback to old provider)\n6. Emit events/callbacks when profile changes\n\nAPI:\n```typescript\ninterface StorageContextValue {\n  // ... existing methods\n  switchProfile(profileId: string): Promise\u003cvoid\u003e;\n  currentProfile?: Profile;\n  profileManager?: ProfileManager;\n}\n```\n\nFiles to modify:\n- src/contexts/StorageContext.tsx (add switchProfile to interface)\n- src/contexts/StorageContextProvider.tsx (implement profile switching)\n- src/contexts/ProviderStorageAdapter.ts (handle provider swap)\n\nDependencies:\n- Requires: Profile loading at startup (to have ProfileManager instance)\n\nEst: 5-6 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T12:39:55.586192-06:00","updated_at":"2025-11-27T13:02:34.182409-06:00","closed_at":"2025-11-27T13:02:34.182409-06:00"}
{"id":"of-ukgc","title":"P0-1: Audit existing types and interfaces","description":"Document all types in src/types/entry.ts and src/adapters/adapter.ts. Create mapping table for existing type to new provider type with Provider prefix. Types to map: Entry→ProviderEntry, EntryType→ProviderEntryType, etc. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:54:02.756991-06:00","updated_at":"2025-11-26T21:11:01.718476-06:00","closed_at":"2025-11-26T21:11:01.718476-06:00"}
{"id":"of-umk","title":"Sort keybind missing from help menu","description":"The sort keybind (s or S) is not shown in the help menu (?). Users cannot discover the sort functionality through the help system.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-25T13:23:18.289640514-06:00","updated_at":"2025-11-25T14:39:20.34580012-06:00","closed_at":"2025-11-25T14:39:20.34580012-06:00"}
{"id":"of-urh","title":"Update help dialog with complete keybinding list","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T09:44:12.384717-06:00","updated_at":"2025-11-17T09:45:04.159069-06:00","closed_at":"2025-11-17T09:45:04.159069-06:00"}
{"id":"of-uyq","title":"Implement S3Adapter.copy() method","description":"Copy objects within or between buckets","acceptance_criteria":"- CopyObject command\n- Handle cross-bucket copies\n- Handle directory copies recursively\n- Preserve metadata during copy","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.347778-06:00","updated_at":"2025-11-17T08:59:15.433778-06:00","closed_at":"2025-11-17T08:59:15.433778-06:00","dependencies":[{"issue_id":"of-uyq","depends_on_id":"of-38p","type":"blocks","created_at":"2025-11-15T19:47:38.44888-06:00","created_by":"daemon"},{"issue_id":"of-uyq","depends_on_id":"of-ret","type":"related","created_at":"2025-11-15T19:59:07.33769-06:00","created_by":"daemon"}]}
{"id":"of-uza7","title":"P4G-5: Implement Shared Drive support","description":"Implement listContainers() returning My Drive + Shared Drives. Implement setContainer()/getContainer() for drive switching. Handle supportsAllDrives and includeItemsFromAllDrives params. Update path resolution for shared drive context. Add unit tests. Est: 4 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:58:22.410137-06:00","updated_at":"2025-11-26T20:58:22.410137-06:00"}
{"id":"of-v2gy","title":"Provider System: Phase 7 - Cleanup \u0026 Prefix Removal","description":"Remove legacy code and finalize naming. Includes validation, legacy adapter removal, legacy type removal, legacy context removal, feature flag removal, Provider prefix removal, type relocation, dependency cleanup, reorganization, documentation update, final testing, and archive. Total: 23 hours, 12 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:01:01.263252-06:00","updated_at":"2025-11-27T12:12:54.179963-06:00","closed_at":"2025-11-27T12:12:54.179963-06:00"}
{"id":"of-v34c","title":"P7-9: Consolidate and reorganize","description":"Evaluate final directory structure: Option A keep src/providers/ for provider implementations, Option B rename to src/storage/ for clarity. Update all imports. Ensure consistent directory structure. Est: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:00:26.260566-06:00","updated_at":"2025-11-27T12:11:25.185694-06:00","closed_at":"2025-11-27T12:11:25.185694-06:00"}
{"id":"of-vf3v","title":"P2-6: Implement portable encrypted config file","description":"Create src/providers/credentials/config-encryption.ts. Use Node crypto.scryptSync for key derivation, add tweetnacl for NaCl secretbox encryption. Implement encryptConfig, decryptConfig, isEncrypted. Support rclone-style encrypted storage. Add --encrypt-config CLI flag. Add unit tests. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:25.700767-06:00","updated_at":"2025-11-26T21:52:33.984397-06:00","closed_at":"2025-11-26T21:52:33.984397-06:00"}
{"id":"of-vkck","title":"Epic: S3Explorer Component Decomposition","description":"Refactor the monolithic s3-explorer.tsx (1288 lines) into focused, testable hooks. The current component handles 7 distinct responsibilities: status messaging, preview state, operation execution, action handlers, dialog keyboard handling, data initialization, and dialog state assembly. This epic tracks extracting each into dedicated hooks to improve maintainability, testability, and code organization.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-25T16:25:04.122808097-06:00","updated_at":"2025-11-27T19:08:02.712221-06:00","dependencies":[{"issue_id":"of-vkck","depends_on_id":"of-gn0o","type":"blocks","created_at":"2025-11-25T16:25:34.973806584-06:00","created_by":"daemon"},{"issue_id":"of-vkck","depends_on_id":"of-36z7","type":"blocks","created_at":"2025-11-25T16:25:35.546534655-06:00","created_by":"daemon"},{"issue_id":"of-vkck","depends_on_id":"of-f88l","type":"blocks","created_at":"2025-11-25T16:25:36.250352806-06:00","created_by":"daemon"},{"issue_id":"of-vkck","depends_on_id":"of-vp7e","type":"blocks","created_at":"2025-11-25T16:25:36.804764508-06:00","created_by":"daemon"},{"issue_id":"of-vkck","depends_on_id":"of-1zws","type":"blocks","created_at":"2025-11-25T16:25:37.432535691-06:00","created_by":"daemon"},{"issue_id":"of-vkck","depends_on_id":"of-rvz1","type":"blocks","created_at":"2025-11-25T16:25:38.004392808-06:00","created_by":"daemon"}]}
{"id":"of-vnlm","title":"P4E-3: Implement mount point validation","description":"Create src/providers/nfs/mount-utils.ts. Implement isMountPoint(path): Promise\u003cboolean\u003e and getMountInfo(path): MountInfo|null. Detect if path is actually an NFS mount (parse /proc/mounts on Linux, mount output on macOS). Add warning if path does not appear to be NFS mount. Add unit tests. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:45.474316-06:00","updated_at":"2025-11-26T20:57:45.474316-06:00"}
{"id":"of-vp7e","title":"Refactor S3Explorer: Extract useExplorerActions hook","description":"Extract action handler definitions into a dedicated hook.\n\n**Current state**: Lines 239-719 in s3-explorer.tsx (massive actionHandlers object in useEffect).\n\n**Target**: Create useExplorerActions hook (~300 lines) with:\n- Organized action groups: navigation, entry operations, mode changes, buffer operations, input handlers\n- Helper functions: handleCommandConfirm, handleInsertConfirm, handleEditConfirm\n- Returns ActionHandlerMap type\n- Proper memoization with useMemo/useCallback\n\n**Files to create**:\n- src/hooks/useExplorerActions.ts\n- src/hooks/useExplorerActions.test.ts\n\n**Migration**: Largest extraction. Depends on useStatusMessage, usePreview, useDialogState. Should be done after other hooks are extracted.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T16:24:56.133486823-06:00","updated_at":"2025-11-27T19:19:35.241219-06:00","dependencies":[{"issue_id":"of-vp7e","depends_on_id":"of-gn0o","type":"blocks","created_at":"2025-11-25T16:27:15.218800955-06:00","created_by":"daemon"}]}
{"id":"of-vyj3","title":"P4A-4: Implement GCSProvider core operations","description":"Implement list() using bucket.getFiles(), read() using file.download(), write() using file.save(), delete() using file.delete(), mkdir() (empty object with trailing /), getMetadata() using file.getMetadata(), exists() using file.exists(). Map GCS errors to OperationResult. Add unit tests. Est: 6 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:26.526508-06:00","updated_at":"2025-11-27T17:08:27.363436-06:00","closed_at":"2025-11-27T17:08:27.363436-06:00"}
{"id":"of-vz4s","title":"P4D-5: Implement SMBProvider file operations","description":"Implement nativeMove() using smb.rename(). Implement copy() as read+write (no native SMB copy in library). Implement downloadToLocal() and uploadFromLocal() using streams. Add unit tests. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:26.835252-06:00","updated_at":"2025-11-26T20:57:26.835252-06:00"}
{"id":"of-vzm","title":"Consolidate dialog state into useDialogState reducer hook","description":"## Problem\ns3-explorer.tsx manages 6+ dialogs with separate boolean states:\n\n```typescript\nconst [showConfirmDialog, setShowConfirmDialog] = useState(false);\nconst [showHelpDialog, setShowHelpDialog] = useState(false);\nconst [showSortMenu, setShowSortMenu] = useState(false);\nconst [showUploadDialog, setShowUploadDialog] = useState(false);\nconst [errorMessage, setErrorMessage] = useState\u003cstring | null\u003e(null);\n// Plus confirmation dialog payload state\n```\n\nMultiple dialogs can conflict, and state management is scattered.\n\n## Implementation Plan\n\n### Step 1: Define Dialog State Types\n```typescript\n// src/types/dialog.ts\nexport type DialogType = 'confirm' | 'help' | 'sort' | 'upload' | 'error' | 'progress' | null;\n\nexport interface ConfirmDialogPayload {\n  title: string;\n  message: string;\n  confirmLabel?: string;\n  cancelLabel?: string;\n  onConfirm: () =\u003e void;\n  onCancel?: () =\u003e void;\n}\n\nexport interface ErrorDialogPayload {\n  message: string;\n  details?: string;\n}\n\nexport interface DialogState {\n  activeDialog: DialogType;\n  confirm: ConfirmDialogPayload | null;\n  error: ErrorDialogPayload | null;\n  // Other dialogs have no payload (help, sort)\n}\n\nexport type DialogAction =\n  | { type: 'SHOW_CONFIRM'; payload: ConfirmDialogPayload }\n  | { type: 'SHOW_HELP' }\n  | { type: 'SHOW_SORT' }\n  | { type: 'SHOW_UPLOAD' }\n  | { type: 'SHOW_ERROR'; payload: ErrorDialogPayload }\n  | { type: 'CLOSE' }\n  | { type: 'CLOSE_ALL' };\n```\n\n### Step 2: Create Dialog Reducer\n```typescript\n// src/hooks/useDialogState.ts\nconst initialState: DialogState = {\n  activeDialog: null,\n  confirm: null,\n  error: null,\n};\n\nfunction dialogReducer(state: DialogState, action: DialogAction): DialogState {\n  switch (action.type) {\n    case 'SHOW_CONFIRM':\n      return { ...state, activeDialog: 'confirm', confirm: action.payload };\n    case 'SHOW_HELP':\n      return { ...state, activeDialog: 'help' };\n    case 'SHOW_SORT':\n      return { ...state, activeDialog: 'sort' };\n    case 'SHOW_UPLOAD':\n      return { ...state, activeDialog: 'upload' };\n    case 'SHOW_ERROR':\n      return { ...state, activeDialog: 'error', error: action.payload };\n    case 'CLOSE':\n    case 'CLOSE_ALL':\n      return initialState;\n    default:\n      return state;\n  }\n}\n```\n\n### Step 3: Create Hook with Helper Functions\n```typescript\nexport function useDialogState() {\n  const [state, dispatch] = useReducer(dialogReducer, initialState);\n  \n  const showConfirm = useCallback((payload: ConfirmDialogPayload) =\u003e {\n    dispatch({ type: 'SHOW_CONFIRM', payload });\n  }, []);\n  \n  const showError = useCallback((message: string, details?: string) =\u003e {\n    dispatch({ type: 'SHOW_ERROR', payload: { message, details } });\n  }, []);\n  \n  const showHelp = useCallback(() =\u003e dispatch({ type: 'SHOW_HELP' }), []);\n  const showSort = useCallback(() =\u003e dispatch({ type: 'SHOW_SORT' }), []);\n  const showUpload = useCallback(() =\u003e dispatch({ type: 'SHOW_UPLOAD' }), []);\n  const closeDialog = useCallback(() =\u003e dispatch({ type: 'CLOSE' }), []);\n  \n  // Computed properties\n  const isDialogOpen = state.activeDialog !== null;\n  const isConfirmOpen = state.activeDialog === 'confirm';\n  const isHelpOpen = state.activeDialog === 'help';\n  // etc.\n  \n  return {\n    dialog: state,\n    isDialogOpen,\n    showConfirm,\n    showError,\n    showHelp,\n    showSort,\n    showUpload,\n    closeDialog,\n    dispatch,\n  };\n}\n```\n\n### Step 4: Update s3-explorer.tsx\n```typescript\n// Before: Multiple useState + handlers\n// After:\nconst { \n  dialog, \n  isDialogOpen,\n  showConfirm, \n  showError, \n  closeDialog \n} = useDialogState();\n```\n\n## Files to Create\n- src/types/dialog.ts\n- src/hooks/useDialogState.ts\n- src/hooks/useDialogState.test.ts\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (remove dialog useState calls)\n\n## Benefits\n- Only one dialog can be active at a time (prevents conflicts)\n- Centralized dialog management\n- Easy to add new dialog types\n- Testable reducer logic\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:01.393424-06:00","updated_at":"2025-11-24T22:06:48.015411-06:00","closed_at":"2025-11-24T22:06:48.015411-06:00"}
{"id":"of-w0k","title":"Advanced UI Features","description":"Floating windows, preview windows, and enhanced UI components","design":"Modal dialogs for confirmations, floating windows for actions, preview pane for file contents.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-15T21:40:13.348328-06:00","updated_at":"2025-11-27T18:49:50.199776-06:00","closed_at":"2025-11-27T18:49:50.199776-06:00"}
{"id":"of-w4y","title":"Implement bucket root view initialization","description":"Modify application startup to detect if no specific bucket is configured and initialize the buffer with the bucket listing. Track current location as 'root' with special handling.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.537701-06:00","updated_at":"2025-11-16T20:41:16.385465-06:00","closed_at":"2025-11-16T20:41:16.385465-06:00","dependencies":[{"issue_id":"of-w4y","depends_on_id":"of-82y","type":"blocks","created_at":"2025-11-16T20:33:02.373467-06:00","created_by":"daemon"}]}
{"id":"of-w9f","title":"Initialize Node.js/TypeScript project","description":"Set up package.json, tsconfig.json, and basic project structure","acceptance_criteria":"- package.json with name, version, scripts\n- tsconfig.json with strict mode enabled\n- Basic folder structure (src/, dist/)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.348897-06:00","updated_at":"2025-11-15T21:40:13.348897-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-w9f","depends_on_id":"of-ca3","type":"blocks","created_at":"2025-11-15T19:57:37.471168-06:00","created_by":"daemon"},{"issue_id":"of-w9f","depends_on_id":"of-7j6","type":"blocks","created_at":"2025-11-15T19:57:38.707542-06:00","created_by":"daemon"}]}
{"id":"of-waoq","title":"Remove old deletion tracking from useBufferState and buffer-reducer","description":"Clean up old buffer-scoped deletion tracking:\n\nFrom src/hooks/useBufferState.ts remove:\n- deletedEntryIds: Set\u003cstring\u003e state\n- markForDeletion() \n- unmarkForDeletion()\n- isMarkedForDeletion()\n- getMarkedForDeletion()\n- clearDeletionMarks()\n\nFrom src/hooks/buffer-reducer.ts remove:\n- MARK_FOR_DELETION action\n- UNMARK_FOR_DELETION action  \n- CLEAR_DELETION_MARKS action\n- deletedEntryIds from BufferState and BufferSnapshot\n\nNote: Keep buffer-level undo/redo for cursor/entries. Pending operations now have their own undo stack.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:17:16.563321-06:00","updated_at":"2025-11-29T10:20:42.937276-06:00","dependencies":[{"issue_id":"of-waoq","depends_on_id":"of-svlp","type":"blocks","created_at":"2025-11-29T10:19:00.395802-06:00","created_by":"daemon"},{"issue_id":"of-waoq","depends_on_id":"of-3g85","type":"blocks","created_at":"2025-11-29T10:19:00.444855-06:00","created_by":"daemon"}]}
{"id":"of-wbnv","title":"P5-10: Update HeaderBar component","description":"Replace direct adapter usage with useStorage hook. Update bucket/container selector to use context. Handle providers without containers (hide selector). Test with both systems. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:20.591754-06:00","updated_at":"2025-11-27T10:12:44.768829-06:00","closed_at":"2025-11-27T10:12:44.768829-06:00"}
{"id":"of-wco","title":"Create preview pane component","description":"Side panel to show file preview or metadata","acceptance_criteria":"- PreviewPane component\n- Shows file content or metadata\n- Syntax highlighting for text files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.34944-06:00","updated_at":"2025-11-17T20:37:51.996682-06:00","closed_at":"2025-11-17T20:37:51.996682-06:00"}
{"id":"of-wd0a","title":"P5-6: Create unified StorageProvider React context","description":"Implement StorageContextProvider component. Based on feature flag, use Legacy or Provider adapter. Provide context value to children. Handle provider lifecycle (connect/disconnect). Handle errors and loading states. Add unit tests. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:11.899805-06:00","updated_at":"2025-11-27T09:56:31.924167-06:00","closed_at":"2025-11-27T09:56:31.924167-06:00"}
{"id":"of-wg6","title":"Create user documentation","description":"Write comprehensive user guide with examples","acceptance_criteria":"- Installation guide\n- Quick start tutorial\n- Keybinding reference\n- Configuration examples\n- Troubleshooting section","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.350055-06:00","updated_at":"2025-11-17T09:16:57.723436-06:00","dependencies":[{"issue_id":"of-wg6","depends_on_id":"of-fi2","type":"parent-child","created_at":"2025-11-15T19:58:57.765926-06:00","created_by":"daemon"}]}
{"id":"of-wnn1","title":"Provider System: Phase 5 - UI Abstraction Layer","description":"Create UI adapter supporting both legacy and new provider systems. Includes StorageContext, feature flags, LegacyStorageAdapter, ProviderStorageAdapter, useStorage hook, component updates (BufferView, PreviewPane, HeaderBar, dialogs, keyboard handlers), capability-based UI adaptation, error handling, profile selector, and connection status indicator. Total: 45 hours, 17 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:56.244011-06:00","updated_at":"2025-11-27T12:22:07.795628-06:00","closed_at":"2025-11-27T12:22:07.795628-06:00"}
{"id":"of-wokv","title":"P5-2: Design StorageContext interface","description":"Create src/contexts/StorageContext.tsx. Define StorageContextValue interface with state (provider, currentPath, entries, isLoading, error) and actions (navigate, refresh, read, write, delete, copy, move, mkdir, download, upload, hasCapability, switchProvider, disconnect). Document interface. Est: 2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:59:01.332546-06:00","updated_at":"2025-11-27T09:05:52.365334-06:00","closed_at":"2025-11-27T09:05:52.365334-06:00"}
{"id":"of-wp4x","title":"P4D-7: SMB integration tests","description":"Create integration test suite (requires Samba server or Windows share). Test against Samba (Linux) and Windows Server if possible. Document test setup. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:30.935205-06:00","updated_at":"2025-11-26T20:57:30.935205-06:00"}
{"id":"of-wu6","title":"Add undo/redo for buffer edits","description":"Undo buffer changes before save","acceptance_criteria":"- u undoes last buffer edit\n- Ctrl+R redos\n- Undo stack cleared after save\n- Shows undo history","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.350619-06:00","updated_at":"2025-11-17T19:49:11.112014-06:00","closed_at":"2025-11-17T19:49:11.112014-06:00"}
{"id":"of-wzn","title":"Add loading and error states to UI","description":"Show loading spinners and error messages in UI","acceptance_criteria":"- Loading spinner during async operations\n- Error messages displayed in StatusBar\n- Retry mechanism for failed operations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.351171-06:00","updated_at":"2025-11-17T08:59:31.611911-06:00","closed_at":"2025-11-17T08:59:31.611911-06:00"}
{"id":"of-xaz","title":"Add undo/redo support for operations","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-15T21:01:12.05022-06:00","updated_at":"2025-11-15T21:32:30.001546-06:00","closed_at":"2025-11-15T21:32:30.001546-06:00"}
{"id":"of-xm4x","title":"Consolidate progress reporting helpers across S3 modules","description":"## Problem\nProgress reporting logic is duplicated across multiple files with slightly different patterns:\n\n### Pattern 1: Inline in s3-adapter.ts (create method)\n```typescript\nif (options?.onProgress) {\n  options.onProgress({\n    operation: 'Creating directory',\n    bytesTransferred: 0,\n    totalBytes: 0,\n    percentage: 0,\n    currentFile: path,\n  });\n}\n// ... do work ...\nif (options?.onProgress) {\n  options.onProgress({\n    operation: 'Created directory',\n    bytesTransferred: 0,\n    totalBytes: 0,\n    percentage: 100,\n    currentFile: path,\n  });\n}\n```\n\n### Pattern 2: In read-operations.ts (internal helper)\n```typescript\nfunction reportProgress(\n  onProgress: ProgressCallback | undefined,\n  operation: string,\n  bytesTransferred: number,\n  totalBytes: number,\n  currentFile: string\n): void {\n  if (onProgress) {\n    onProgress({\n      operation,\n      bytesTransferred,\n      totalBytes,\n      percentage: calculatePercentage(bytesTransferred, totalBytes),\n      currentFile,\n    });\n  }\n}\n```\n\n### Pattern 3: In progress-adapter.ts (for batch operations)\n```typescript\nexport function createProgressAdapter(\n  operation: string,\n  onProgress?: ProgressCallback\n): OperationProgressCallback | undefined { ... }\n```\n\n## Proposed Change\nConsolidate into progress-adapter.ts:\n\n```typescript\n// progress-adapter.ts\n\n// Helper for simple progress reporting\nexport function reportProgress(\n  onProgress: ProgressCallback | undefined,\n  operation: string,\n  bytesTransferred: number,\n  totalBytes: number,\n  currentFile: string\n): void {\n  onProgress?.({\n    operation,\n    bytesTransferred,\n    totalBytes,\n    percentage: totalBytes \u003e 0 ? Math.round((bytesTransferred / totalBytes) * 100) : (bytesTransferred \u003e 0 ? 100 : 0),\n    currentFile,\n  });\n}\n\n// Existing: Adapter for batch operations (count-based)\nexport function createProgressAdapter(...): OperationProgressCallback | undefined { ... }\n```\n\nThen use throughout:\n```typescript\n// In s3-adapter.ts\nimport { reportProgress } from './s3/progress-adapter.js';\n\nreportProgress(options?.onProgress, 'Creating directory', 0, 0, path);\n// ... do work ...\nreportProgress(options?.onProgress, 'Created directory', 0, 0, path);\n```\n\n## Files to Modify\n- src/adapters/s3/progress-adapter.ts (add reportProgress)\n- src/adapters/s3/read-operations.ts (use shared helper or keep internal)\n- src/adapters/s3-adapter.ts (use reportProgress)\n- src/adapters/s3/transfer-operations.ts (use reportProgress)\n\n## Impact\n- ~30 lines saved\n- Consistent progress reporting\n- Single place to modify progress behavior\n- Low risk","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-25T16:15:15.518969383-06:00","updated_at":"2025-11-27T12:19:00.79957-06:00","closed_at":"2025-11-27T12:19:00.79957-06:00"}
{"id":"of-xwcv","title":"P4C-4: Implement FTPProvider core operations","description":"Implement list() using client.list(), read() using client.downloadTo() with Buffer stream, write() using client.uploadFrom(), delete() using client.remove(), mkdir() using client.ensureDir(), getMetadata() using client.list() for single file, exists(). Map FTP errors to OperationResult. Add unit tests. Est: 5 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:06.526883-06:00","updated_at":"2025-11-27T17:18:13.138727-06:00","closed_at":"2025-11-27T17:18:13.138727-06:00"}
{"id":"of-xxq","title":"Create basic OpenTUI application shell","description":"Set up CliRenderer and basic application structure","acceptance_criteria":"- CliRenderer initialized\n- Basic event loop running\n- Clean exit on Ctrl+C","notes":"Created S3Explorer class with CliRenderer. Basic event loop with keyboard handlers. Displays bucket entries from MockAdapter.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.35177-06:00","updated_at":"2025-11-15T21:40:13.35177-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"of-xxq","depends_on_id":"of-ca3","type":"blocks","created_at":"2025-11-15T19:47:48.873793-06:00","created_by":"daemon"},{"issue_id":"of-xxq","depends_on_id":"of-0sv","type":"blocks","created_at":"2025-11-15T19:58:17.680425-06:00","created_by":"daemon"},{"issue_id":"of-xxq","depends_on_id":"of-ziy","type":"blocks","created_at":"2025-11-15T19:58:18.404067-06:00","created_by":"daemon"}]}
{"id":"of-y31i","title":"Update useDialogHandlers to use new pending operations store","description":"Update src/hooks/useDialogHandlers.ts:\n\nCurrently converts deletion marks to PendingOperation[] on save.\nAfter migration, it should use the global pending operations store instead.\n\nChanges needed:\n- Remove code that reads from bufferState.getMarkedForDeletion()\n- Use pendingOps.execute() for the save confirmation flow\n- Update confirmation dialog to show operations from the store\n- Handle failed operations in the dialog flow","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-29T10:17:23.244252-06:00","updated_at":"2025-11-29T10:20:42.913877-06:00","dependencies":[{"issue_id":"of-y31i","depends_on_id":"of-razz","type":"blocks","created_at":"2025-11-29T10:19:00.347259-06:00","created_by":"daemon"}]}
{"id":"of-ybag","title":"P4A-6: GCS integration tests","description":"Create integration test suite (requires GCS emulator or real bucket). Test full workflow. Document test setup. Est: 3 hours","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:56:30.597971-06:00","updated_at":"2025-11-26T20:56:30.597971-06:00"}
{"id":"of-ycl","title":"Add mode system (normal/visual/edit)","description":"Track and switch between different modes","acceptance_criteria":"- Mode enum (Normal, Visual, Edit)\n- Mode state tracked in app\n- Different keybindings per mode\n- Status bar shows current mode","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.35236-06:00","updated_at":"2025-11-24T23:15:31.953369-06:00","closed_at":"2025-11-24T23:15:31.953369-06:00","dependencies":[{"issue_id":"of-ycl","depends_on_id":"of-04c","type":"blocks","created_at":"2025-11-15T19:58:34.583172-06:00","created_by":"daemon"},{"issue_id":"of-ycl","depends_on_id":"of-2cx","type":"blocks","created_at":"2025-11-15T19:58:35.317243-06:00","created_by":"daemon"}]}
{"id":"of-ypfd","title":"P4E-2: Create NFSProvider class skeleton","description":"Create src/providers/nfs/nfs-provider.ts. Extend BaseStorageProvider. Constructor accepts NFSProfile with mountPoint as required config. Declare capabilities (List, Read, Write, Delete, Mkdir, Rmdir, Move, Copy, Permissions, Symlinks, Hardlinks). Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:42.302475-06:00","updated_at":"2025-11-26T20:57:42.302475-06:00"}
{"id":"of-yq77","title":"P4D-8: Update factory and exports for SMB","description":"Update createProvider() for smb type. Export SMBProvider from index. Document limitations (no encryption, NTLM only). Est: 1 hour","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:32.470976-06:00","updated_at":"2025-11-26T20:57:32.470976-06:00"}
{"id":"of-yyl","title":"Add entry creation with 'i' key","description":"Insert new entry at cursor position","acceptance_criteria":"- i inserts new empty entry\n- User can type entry name\n- Tab completion for names\n- Enter confirms, ESC cancels","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.352941-06:00","updated_at":"2025-11-24T23:14:46.813147-06:00","closed_at":"2025-11-24T23:14:46.813147-06:00","dependencies":[{"issue_id":"of-yyl","depends_on_id":"of-bga","type":"blocks","created_at":"2025-11-15T19:58:38.113221-06:00","created_by":"daemon"}]}
{"id":"of-yz1y","title":"Provider System: Phase 2 - Profile Manager \u0026 Credentials","description":"Profile and credential management for providers. Includes ProfileManager interface, storage utilities, validation, FileProfileManager, credential provider chain, encrypted config, per-provider credential resolvers, OS keychain integration, sensitive data handling, import/export, and optional CLI commands. Total: 38-44 hours, 12 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:46.715328-06:00","updated_at":"2025-11-27T12:24:47.941829-06:00","closed_at":"2025-11-27T12:24:47.941829-06:00"}
{"id":"of-yz9","title":"Extract transfer operations to s3/transfer-operations.ts","description":"Extract local filesystem transfer operations from S3Adapter. Functions: downloadFileToLocal(), downloadDirectoryToLocal(), uploadFileFromLocal(), uploadDirectoryFromLocal(). Currently in S3Adapter download/upload methods. ~150 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:33.070356693-06:00","updated_at":"2025-11-25T13:31:41.186003836-06:00","closed_at":"2025-11-25T13:31:41.186003836-06:00"}
{"id":"of-z71b","title":"P2-2: Implement profile storage utilities","description":"Create src/providers/services/profile-storage.ts with getConfigDir() (platform-aware), getProfilesPath(), loadProfilesFromDisk(), saveProfilesToDisk(). Handle missing directory, corrupted JSON. Add unit tests with temp directories. Est: 3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:06.993047-06:00","updated_at":"2025-11-26T21:35:15.907528-06:00","closed_at":"2025-11-26T21:35:15.907528-06:00"}
{"id":"of-z75a","title":"P4C-2: Create FTPProvider class skeleton","description":"Create src/providers/ftp/ftp-provider.ts. Extend BaseStorageProvider. Constructor accepts FTPProfile. Declare capabilities (List, Read, Write, Delete, Mkdir, Rmdir, Move). Add connection state tracking. Est: 1 hour","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T20:57:01.342056-06:00","updated_at":"2025-11-27T17:18:09.734897-06:00","closed_at":"2025-11-27T17:18:09.734897-06:00"}
{"id":"of-z9p","title":"Remove debug console.error logs added during development","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T10:58:37.888681-06:00","updated_at":"2025-11-17T10:59:12.679608-06:00","closed_at":"2025-11-17T10:59:12.679608-06:00"}
{"id":"of-zb6","title":"S3 Backend Implementation","description":"Implement the S3 adapter with async operations, authentication, and S3-specific features","design":"Use AWS SDK v3 for S3 operations. Handle virtual directories, prefixes, pagination, versioning, and metadata.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.354768-06:00","updated_at":"2025-11-17T09:05:06.854628-06:00","closed_at":"2025-11-17T09:05:06.854628-06:00"}
{"id":"of-zeg","title":"Extract batch operations to s3/batch-operations.ts","description":"Extract common batch/pagination operations from S3Adapter. Functions: listAllObjects(), batchDeleteObjects(). Pagination pattern is duplicated in delete(), moveDirectory(), copyDirectory(), downloadDirectoryToLocal(). ~100 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:25.661482926-06:00","updated_at":"2025-11-25T13:21:53.21465873-06:00","closed_at":"2025-11-25T13:21:53.21465873-06:00"}
{"id":"of-zflv","title":"P3-2: Port S3Adapter tests to S3Provider","description":"Port existing S3Adapter tests to S3Provider tests. Ensure 1:1 feature parity. Update test assertions for new OperationResult pattern. Est: 4 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T20:55:59.082631-06:00","updated_at":"2025-11-26T22:19:23.513663-06:00","closed_at":"2025-11-26T22:19:23.513663-06:00"}
{"id":"of-zi0","title":"Navigation \u0026 Selection System","description":"Implement navigation controls, selection modes, and multi-selection","design":"Vim-style keybindings for navigation. Support visual mode for multi-selection. Track cursor position and selection state.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.355355-06:00","updated_at":"2025-11-17T09:20:15.962306-06:00","closed_at":"2025-11-17T09:20:15.962306-06:00"}
{"id":"of-zigu","title":"Provider System: Phase 1 - Foundation Types \u0026 Interfaces","description":"Create new types and interfaces in src/providers/ directory parallel to existing code. Includes Capability enum, OperationResult types, Profile types, StorageProvider interface, BaseStorageProvider abstract class, provider factory, prefixed types, type mappers, and cancellation support. Total: 22.5 hours, 11 tickets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:00:43.502915-06:00","updated_at":"2025-11-27T12:23:24.669719-06:00","closed_at":"2025-11-27T12:23:24.669719-06:00"}
{"id":"of-ziy","title":"Create StatusBar component","description":"Show current path, mode, and status messages","acceptance_criteria":"- StatusBar shows current bucket/prefix\n- Shows current mode (normal, visual, edit)\n- Shows error/info messages","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.355881-06:00","updated_at":"2025-11-17T08:59:15.47577-06:00","closed_at":"2025-11-17T08:59:15.47577-06:00"}
{"id":"of-zjz","title":"Extract read operations from S3Adapter to dedicated module","description":"## Problem\nS3Adapter's read() method (lines 749-869) is ~120 lines with complex stream handling logic. This can be extracted to a dedicated module for better testability and maintainability.\n\n## Implementation Plan\n\n### Step 1: Create read-operations.ts module\nCreate `src/adapters/s3/read-operations.ts` with:\n\n```typescript\ninterface ReadObjectOptions {\n  client: S3Client;\n  bucket: string;\n  key: string;\n  onProgress?: ProgressCallback;\n  logger?: S3AdapterLogger;\n}\n\nexport async function readObject(options: ReadObjectOptions): Promise\u003cBuffer\u003e\n```\n\n### Step 2: Extract read() logic\nMove lines 749-869 from s3-adapter.ts:\n- HeadObjectCommand for file size\n- GetObjectCommand for content\n- Stream handling (Buffer, ReadableStream, Node.js stream)\n- Progress reporting during download\n- Buffer concatenation\n\n### Step 3: Update S3Adapter\nReplace inline implementation:\n```typescript\nasync read(path: string, options?: OperationOptions): Promise\u003cBuffer\u003e {\n  return readObject({\n    client: this.client,\n    bucket: this.bucket!,\n    key: this.normalizePath(path),\n    onProgress: options?.onProgress,\n    logger: this.logger,\n  });\n}\n```\n\n### Step 4: Create tests\nCreate `src/adapters/s3/read-operations.test.ts`:\n- Test with Buffer body\n- Test with ReadableStream body\n- Test with Node.js stream body\n- Test progress callback invocation\n- Test error handling\n\n## Files to Create\n- src/adapters/s3/read-operations.ts\n- src/adapters/s3/read-operations.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce by ~120 lines)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- S3Adapter reduced by ~120 lines\n- Stream handling logic independently testable\n- Consistent module structure\n\n## Effort Estimate\nMedium (1-2 hours)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:31:54.441963698-06:00","updated_at":"2025-11-26T20:49:41.988957-06:00","closed_at":"2025-11-26T20:49:41.988957-06:00"}
{"id":"of-zvdx","title":"Setup GCS emulator in docker-compose for integration testing","description":"Add fake-gcs-server to docker-compose.yml for GCS integration testing. Configure with persistent storage. Document connection settings for tests. Link to P4A-6 GCS integration tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T17:22:28.726165-06:00","updated_at":"2025-11-27T17:47:40.60936-06:00","closed_at":"2025-11-27T17:47:40.60936-06:00"}
{"id":"of-zwbt","title":"P7-CONSOLIDATED: Remove legacy adapter system (atomic migration)","description":"Consolidated task replacing P7-2 through P7-5. Must be done atomically because the adapter types are deeply integrated throughout the codebase.\n\n**Scope:**\n1. Delete src/adapters/adapter.ts, s3-adapter.ts, mock-adapter.ts (and tests)\n2. Delete src/contexts/AdapterContext.tsx, LegacyStorageAdapter.ts (and tests)  \n3. Update S3Explorer to use StorageContext instead of Adapter\n4. Update StorageContextProvider to remove legacy adapter support\n5. Update hooks (useAsyncOperations, usePreview) to use provider types\n6. Remove feature flag system (isNewProviderSystemEnabled is now always true)\n7. Delete/update tests that use legacy adapters\n8. Keep src/adapters/s3/ helpers (used by S3Provider)\n\n**Key insight:** The Adapter interface is used by S3Explorer, which passes adapter methods throughout the UI. The StorageContextValue interface provides similar methods but they cannot coexist without significant complexity.\n\n**Estimate:** 4-6 hours (consolidating original 8+ hours across P7-2,3,4,5)\n\n**Dependencies:** None - this IS the migration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-27T11:29:07.284627-06:00","updated_at":"2025-11-27T11:44:13.860368-06:00","closed_at":"2025-11-27T11:44:13.860368-06:00"}
{"id":"of-zy1x","title":"Create storage-uri.ts utilities","description":"Create src/utils/storage-uri.ts with URI building/parsing utilities:\n\n- StorageScheme type: 's3' | 'sftp' | 'gcs' | 'file' | 'mock'\n- ParsedUri interface: scheme, bucket?, host?, port?, path, name\n- buildUri(scheme, bucket, path): Build URI like 's3://bucket/path/file.txt'\n- parseUri(uri): Parse URI into components\n- getParentUri(uri): Get parent directory URI\n- entryToUri(entry, scheme, bucket?): Build URI for an Entry\n- isUriInPath(uri, directoryPath, scheme, bucket?): Check if URI is within a directory\n\nURI formats:\n- s3://bucket-name/path/to/file.txt\n- gcs://bucket-name/path/to/file.txt\n- sftp://host:port/path/to/file.txt\n- file:///local/path/to/file.txt","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-29T10:16:14.925177-06:00","updated_at":"2025-11-29T10:35:46.333165-06:00","closed_at":"2025-11-29T10:35:46.333165-06:00","dependencies":[{"issue_id":"of-zy1x","depends_on_id":"of-gbl8","type":"blocks","created_at":"2025-11-29T10:19:12.454943-06:00","created_by":"daemon"}]}
