{"id":"open-s3-014","title":"Show \u003cempty\u003e indicator in grey for empty buckets/folders","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T19:07:52.728743-06:00","updated_at":"2025-11-17T19:09:23.960262-06:00","closed_at":"2025-11-17T19:09:23.960262-06:00"}
{"id":"open-s3-04c","title":"Implement visual mode selection (v)","description":"Visual mode for selecting multiple entries","acceptance_criteria":"- v enters visual mode\n- j/k extends selection\n- ESC exits visual mode\n- Selection shown with highlighting","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T19:48:18.581386-06:00","updated_at":"2025-11-24T23:15:09.036786-06:00","closed_at":"2025-11-24T23:15:09.036786-06:00","dependencies":[{"issue_id":"open-s3-04c","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:18.582383-06:00","created_by":"daemon"},{"issue_id":"open-s3-04c","depends_on_id":"open-s3-yyl","type":"blocks","created_at":"2025-11-15T19:58:36.704172-06:00","created_by":"daemon"},{"issue_id":"open-s3-04c","depends_on_id":"open-s3-8yn","type":"blocks","created_at":"2025-11-15T19:58:37.399603-06:00","created_by":"daemon"}]}
{"id":"open-s3-0br","title":"Expand formatSize helper to support large file sizes (GB, TB)","description":"The formatSize function in src/ui/buffer-view-react.tsx only handles sizes up to MB. It should be expanded to handle GB and TB for large files.\n\nCurrent implementation:\n- Returns 'XB' for bytes\n- Returns 'X.XKB' for kilobytes  \n- Returns 'X.XMB' for megabytes\n- No support for GB or TB\n\nShould add:\n- GB support for files \u003e= 1GB\n- TB support for files \u003e= 1TB\n\nConsider consolidating with formatBytes in src/utils/file-browser.ts which already has GB support.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T12:30:43.095352176-06:00","updated_at":"2025-11-25T12:32:32.495114249-06:00","closed_at":"2025-11-25T12:32:32.495114249-06:00","dependencies":[{"issue_id":"open-s3-0br","depends_on_id":"open-s3-one","type":"discovered-from","created_at":"2025-11-25T12:30:43.096287203-06:00","created_by":"daemon"}]}
{"id":"open-s3-0fg","title":"Set up AWS SDK S3 client configuration","description":"Configure S3Client with credentials, region, and options","acceptance_criteria":"- S3Client initialized with proper config\n- Support for environment variables and AWS profiles\n- Configurable endpoint for LocalStack/MinIO","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T19:47:25.952227-06:00","updated_at":"2025-11-17T08:59:50.230091-06:00","closed_at":"2025-11-17T08:59:50.230091-06:00","dependencies":[{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:25.953196-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-ca3","type":"blocks","created_at":"2025-11-15T19:47:25.953742-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-6g8","type":"blocks","created_at":"2025-11-15T19:58:09.094564-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-7y0","type":"blocks","created_at":"2025-11-15T19:58:09.845146-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-8f8","type":"blocks","created_at":"2025-11-15T19:58:10.613494-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-2c9","type":"blocks","created_at":"2025-11-15T19:58:11.404687-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-ffh","type":"blocks","created_at":"2025-11-15T19:58:12.074142-06:00","created_by":"daemon"},{"issue_id":"open-s3-0fg","depends_on_id":"open-s3-uyq","type":"blocks","created_at":"2025-11-15T19:58:12.83761-06:00","created_by":"daemon"}]}
{"id":"open-s3-0j3","title":"Implement save operation (:w)","description":"Save buffer changes and execute operations","acceptance_criteria":"- :w or Ctrl+S triggers save\n- Detect changes\n- Build operation plan\n- Show confirmation dialog\n- Execute on confirm","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.300289-06:00","updated_at":"2025-11-17T08:54:40.953292-06:00","closed_at":"2025-11-17T08:54:40.953292-06:00","dependencies":[{"issue_id":"open-s3-0j3","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:42.255043-06:00","created_by":"daemon"},{"issue_id":"open-s3-0j3","depends_on_id":"open-s3-ret","type":"blocks","created_at":"2025-11-15T19:58:05.705605-06:00","created_by":"daemon"}]}
{"id":"open-s3-0py","title":"Display current AWS profile in header right side","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-17T18:49:43.498827-06:00","updated_at":"2025-11-17T18:51:02.403008-06:00","closed_at":"2025-11-17T18:51:02.403008-06:00"}
{"id":"open-s3-0r2","title":"Implement search/filter with /","description":"Filter entries by name pattern","acceptance_criteria":"- / opens search input\n- Filter entries as user types\n- n/N for next/previous match\n- ESC clears filter","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.301023-06:00","updated_at":"2025-11-17T09:23:11.942203-06:00","closed_at":"2025-11-17T09:23:11.942203-06:00","dependencies":[{"issue_id":"open-s3-0r2","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:22.363079-06:00","created_by":"daemon"}]}
{"id":"open-s3-0sv","title":"Create BufferView component","description":"OpenTUI component to render buffer entries as editable list","acceptance_criteria":"- BufferView renders entries with icons\n- Shows cursor position\n- Updates on state changes","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.301812-06:00","updated_at":"2025-11-17T08:54:57.264524-06:00","closed_at":"2025-11-17T08:54:57.264524-06:00","dependencies":[{"issue_id":"open-s3-0sv","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:47:55.902342-06:00","created_by":"daemon"},{"issue_id":"open-s3-0sv","depends_on_id":"open-s3-ca3","type":"blocks","created_at":"2025-11-15T19:47:55.903-06:00","created_by":"daemon"},{"issue_id":"open-s3-0sv","depends_on_id":"open-s3-7rr","type":"blocks","created_at":"2025-11-15T19:58:19.322836-06:00","created_by":"daemon"}]}
{"id":"open-s3-0uy","title":"Add bucket listing to S3Adapter","description":"Implement listBuckets() method in S3Adapter that fetches all buckets from the AWS account with metadata including region, creation date, and storage size.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.447794-06:00","updated_at":"2025-11-16T20:37:07.013046-06:00","closed_at":"2025-11-16T20:37:07.013046-06:00","dependencies":[{"issue_id":"open-s3-0uy","depends_on_id":"open-s3-w4y","type":"blocks","created_at":"2025-11-16T20:33:02.179023-06:00","created_by":"daemon"}]}
{"id":"open-s3-18l","title":"Implement MockAdapter for testing","description":"Create in-memory mock adapter for testing UI without S3","acceptance_criteria":"- MockAdapter implements Adapter interface\n- In-memory data structure for files/dirs\n- All operations work synchronously\n- Can be seeded with test data","notes":"Implemented MockAdapter with in-memory storage, seeded with test data. All operations working (list, create, delete, move, copy).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.302561-06:00","updated_at":"2025-11-15T21:40:13.302561-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-18l","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:16.126489-06:00","created_by":"daemon"},{"issue_id":"open-s3-18l","depends_on_id":"open-s3-w9f","type":"blocks","created_at":"2025-11-15T19:47:16.127209-06:00","created_by":"daemon"},{"issue_id":"open-s3-18l","depends_on_id":"open-s3-7j6","type":"blocks","created_at":"2025-11-15T19:47:16.12781-06:00","created_by":"daemon"}]}
{"id":"open-s3-19s","title":"Create ConfirmationDialog component","description":"Modal dialog to show and confirm operations before execution","acceptance_criteria":"- Shows operation summary\n- Lists all operations with details\n- Yes/No confirmation\n- ESC to cancel","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.303419-06:00","updated_at":"2025-11-17T08:55:07.900523-06:00","closed_at":"2025-11-17T08:55:07.900523-06:00","dependencies":[{"issue_id":"open-s3-19s","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:40.144083-06:00","created_by":"daemon"},{"issue_id":"open-s3-19s","depends_on_id":"open-s3-0j3","type":"blocks","created_at":"2025-11-15T19:58:05.276492-06:00","created_by":"daemon"}]}
{"id":"open-s3-1i7","title":"Implement virtual scrolling for large directory lists","description":"## Problem\nCurrently, the file list renders all entries regardless of count. For directories with 10,000+ files, this causes:\n- Slow initial render\n- High memory usage\n- Laggy scrolling\n- Poor user experience\n\n## Implementation Plan\n\n### Step 1: Research Virtual Scrolling Options\nOptions for React/Ink terminal UI:\n1. **Custom implementation** - Build windowing logic\n2. **Adapt existing libraries** - Modify react-window concepts for terminal\n3. **OpenTUI built-in** - Check if OpenTUI has virtualization support\n\n### Step 2: Design Windowing System\n```typescript\n// src/hooks/useVirtualList.ts\ninterface VirtualListOptions {\n  totalItems: number;\n  visibleHeight: number;  // Terminal rows available\n  itemHeight: number;     // Usually 1 for terminal\n  overscan: number;       // Extra items to render above/below\n}\n\ninterface VirtualListResult {\n  startIndex: number;\n  endIndex: number;\n  offsetTop: number;\n  visibleItems: number;\n}\n\nexport function useVirtualList({\n  totalItems,\n  visibleHeight,\n  itemHeight = 1,\n  overscan = 5,\n}: VirtualListOptions): VirtualListResult {\n  const [scrollOffset, setScrollOffset] = useState(0);\n  \n  const visibleItems = Math.ceil(visibleHeight / itemHeight);\n  const startIndex = Math.max(0, Math.floor(scrollOffset / itemHeight) - overscan);\n  const endIndex = Math.min(\n    totalItems - 1,\n    startIndex + visibleItems + overscan * 2\n  );\n  \n  return {\n    startIndex,\n    endIndex,\n    offsetTop: startIndex * itemHeight,\n    visibleItems,\n    setScrollOffset,\n  };\n}\n```\n\n### Step 3: Create VirtualList Component\n```typescript\n// src/ui/virtual-list-react.tsx\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface VirtualListProps\u003cT\u003e {\n  items: T[];\n  height: number;\n  renderItem: (item: T, index: number) =\u003e ReactNode;\n  scrollOffset: number;\n  onScroll?: (offset: number) =\u003e void;\n}\n\nexport function VirtualList\u003cT\u003e({\n  items,\n  height,\n  renderItem,\n  scrollOffset,\n}: VirtualListProps\u003cT\u003e) {\n  const { startIndex, endIndex, offsetTop } = useVirtualList({\n    totalItems: items.length,\n    visibleHeight: height,\n  });\n  \n  const visibleItems = items.slice(startIndex, endIndex + 1);\n  \n  return (\n    \u003cBox flexDirection=\"column\" height={height}\u003e\n      {/* Spacer for items above viewport */}\n      {offsetTop \u003e 0 \u0026\u0026 \u003cBox height={offsetTop} /\u003e}\n      \n      {/* Visible items */}\n      {visibleItems.map((item, i) =\u003e (\n        \u003cBox key={startIndex + i}\u003e\n          {renderItem(item, startIndex + i)}\n        \u003c/Box\u003e\n      ))}\n      \n      {/* Spacer for items below viewport */}\n      \u003cBox flexGrow={1} /\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 4: Integrate with BufferView\n```typescript\n// src/ui/buffer-view-react.tsx\nexport function BufferView({ entries, cursor, height }: Props) {\n  // Calculate scroll offset based on cursor position\n  const scrollOffset = useMemo(() =\u003e {\n    const cursorRow = cursor;\n    const halfHeight = Math.floor(height / 2);\n    return Math.max(0, cursorRow - halfHeight);\n  }, [cursor, height]);\n  \n  return (\n    \u003cVirtualList\n      items={entries}\n      height={height}\n      scrollOffset={scrollOffset}\n      renderItem={(entry, index) =\u003e (\n        \u003cEntryRow\n          entry={entry}\n          isSelected={selection.has(entry.id)}\n          isCursor={index === cursor}\n        /\u003e\n      )}\n    /\u003e\n  );\n}\n```\n\n### Step 5: Keep Cursor in View\n```typescript\n// Ensure cursor is always visible\nfunction keepCursorInView(\n  cursor: number,\n  scrollOffset: number,\n  visibleHeight: number\n): number {\n  const minVisible = scrollOffset;\n  const maxVisible = scrollOffset + visibleHeight - 1;\n  \n  if (cursor \u003c minVisible) {\n    return cursor; // Scroll up\n  }\n  if (cursor \u003e maxVisible) {\n    return cursor - visibleHeight + 1; // Scroll down\n  }\n  return scrollOffset; // No change needed\n}\n```\n\n### Step 6: Performance Optimizations\n```typescript\n// Memoize entry rows\nconst MemoizedEntryRow = React.memo(EntryRow, (prev, next) =\u003e {\n  return (\n    prev.entry.id === next.entry.id \u0026\u0026\n    prev.isSelected === next.isSelected \u0026\u0026\n    prev.isCursor === next.isCursor\n  );\n});\n\n// Use stable keys\nconst getEntryKey = (entry: Entry) =\u003e entry.id || entry.path;\n```\n\n## Files to Create\n- src/hooks/useVirtualList.ts\n- src/hooks/useVirtualList.test.ts\n- src/ui/virtual-list-react.tsx\n- src/ui/virtual-list-react.test.tsx\n\n## Files to Modify\n- src/ui/buffer-view-react.tsx (integrate VirtualList)\n\n## Testing\n- Unit tests for useVirtualList hook\n- Test with 10K+ entries\n- Verify cursor stays in view during navigation\n- Measure render performance before/after\n\n## Performance Targets\n- Initial render: \u003c100ms for any list size\n- Cursor movement: \u003c16ms (60fps)\n- Memory: Bounded regardless of list size\n\n## Estimated Effort: 1-2 days","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T18:03:07.02437-06:00","updated_at":"2025-11-24T18:06:33.94166-06:00"}
{"id":"open-s3-1uh","title":"Create special bucket entry type with metadata columns","description":"Extend Entry type to support bucket metadata (region, creation date, total size). Add BucketColumn components to display bucket info in the root view.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.492251-06:00","updated_at":"2025-11-16T20:38:11.309253-06:00","closed_at":"2025-11-16T20:38:11.309253-06:00","dependencies":[{"issue_id":"open-s3-1uh","depends_on_id":"open-s3-w4y","type":"blocks","created_at":"2025-11-16T20:33:02.226856-06:00","created_by":"daemon"}]}
{"id":"open-s3-20q","title":"Line indicator appears on every line instead of following selection","description":"When navigating files, the line indicator (\u003e) gets added to every line and doesn't follow the user's cursor/selection. Should only appear on the currently selected line.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T21:33:19.567869-06:00","updated_at":"2025-11-15T21:35:02.246699-06:00","closed_at":"2025-11-15T21:35:02.246699-06:00","labels":["navigation","ui"]}
{"id":"open-s3-2c9","title":"Implement S3Adapter.delete() method","description":"Delete objects from S3","acceptance_criteria":"- DeleteObject command\n- Handle directory deletion (delete all objects with prefix)\n- Batch delete for multiple objects","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.304292-06:00","updated_at":"2025-11-17T08:56:14.565059-06:00","closed_at":"2025-11-17T08:56:14.565059-06:00","dependencies":[{"issue_id":"open-s3-2c9","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:34.747151-06:00","created_by":"daemon"},{"issue_id":"open-s3-2c9","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:34.747759-06:00","created_by":"daemon"},{"issue_id":"open-s3-2c9","depends_on_id":"open-s3-ret","type":"related","created_at":"2025-11-15T19:59:05.86922-06:00","created_by":"daemon"}]}
{"id":"open-s3-2cl","title":"Define Entry type interface","description":"Create Entry interface representing a file/directory with metadata","acceptance_criteria":"- Entry interface with id, name, type, size, modified, metadata\n- EntryType enum (file, directory)\n- Proper TypeScript types exported","notes":"Created Entry interface with id, name, type, size, modified, metadata, path. EntryType enum with File/Directory","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.305111-06:00","updated_at":"2025-11-15T21:40:13.305111-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-2cl","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:09.056924-06:00","created_by":"daemon"},{"issue_id":"open-s3-2cl","depends_on_id":"open-s3-0sv","type":"blocks","created_at":"2025-11-15T19:57:53.695539-06:00","created_by":"daemon"},{"issue_id":"open-s3-2cl","depends_on_id":"open-s3-2fk","type":"blocks","created_at":"2025-11-15T19:57:54.436081-06:00","created_by":"daemon"},{"issue_id":"open-s3-2cl","depends_on_id":"open-s3-7rr","type":"blocks","created_at":"2025-11-15T19:57:55.099555-06:00","created_by":"daemon"},{"issue_id":"open-s3-2cl","depends_on_id":"open-s3-pai","type":"blocks","created_at":"2025-11-15T19:57:57.20269-06:00","created_by":"daemon"}]}
{"id":"open-s3-2cx","title":"Implement keybinding registry","description":"Centralized keybinding management system","acceptance_criteria":"- KeybindingRegistry class\n- Register bindings per mode\n- Handle key events and dispatch actions\n- Support for customizable keybindings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.30594-06:00","updated_at":"2025-11-17T08:57:15.677751-06:00","closed_at":"2025-11-17T08:57:15.677751-06:00","dependencies":[{"issue_id":"open-s3-2cx","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:26.588805-06:00","created_by":"daemon"}]}
{"id":"open-s3-2fk","title":"Implement entry ID generation system","description":"Generate unique IDs for entries to track changes","acceptance_criteria":"- generateEntryId() function\n- IDs persist during buffer edits\n- ID mapping from original to edited state","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.306658-06:00","updated_at":"2025-11-24T23:08:17.909713-06:00","closed_at":"2025-11-24T23:08:17.909713-06:00","dependencies":[{"issue_id":"open-s3-2fk","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:47:53.870047-06:00","created_by":"daemon"}]}
{"id":"open-s3-2h3","title":"Add Ctrl+D/Ctrl+U for page scrolling","description":"Half-page scrolling up and down","acceptance_criteria":"- Ctrl+D scrolls down half page\n- Ctrl+U scrolls up half page\n- Cursor stays in view","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.30735-06:00","updated_at":"2025-11-16T20:47:55.003746-06:00","closed_at":"2025-11-16T20:47:55.003746-06:00","dependencies":[{"issue_id":"open-s3-2h3","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:20.422212-06:00","created_by":"daemon"}]}
{"id":"open-s3-2pd","title":"Build operation plan from changes","description":"Convert detected changes to executable operation plan","acceptance_criteria":"- Generate CreateOp for new entries\n- Generate DeleteOp for removed entries\n- Generate MoveOp for renames/moves\n- Handle copy operations\n- Order operations correctly (deletes last)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.308127-06:00","updated_at":"2025-11-17T08:50:00.00723-06:00","closed_at":"2025-11-17T08:50:00.00723-06:00","dependencies":[{"issue_id":"open-s3-2pd","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:37.93104-06:00","created_by":"daemon"}]}
{"id":"open-s3-2ty","title":"Show \u003cempty\u003e indicator in preview pane for empty files","description":"Shows \u003cempty\u003e indicator in preview pane for empty files. Fixed issue where preview pane wasn't displaying by using null to distinguish between no file selected vs empty file.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T19:10:22.322196-06:00","updated_at":"2025-11-17T19:13:14.914564-06:00","closed_at":"2025-11-17T19:11:13.353774-06:00"}
{"id":"open-s3-2v1","title":"Test Epic","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-16T20:32:30.905147-06:00","updated_at":"2025-11-16T20:32:30.905147-06:00"}
{"id":"open-s3-32t","title":"Extract move operations to s3/move-operations.ts","description":"Extract move operations from S3Adapter. Functions: moveObject(), moveDirectory(). Currently in S3Adapter.moveSingleFile() and moveDirectory() methods. ~100 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:29.977717497-06:00","updated_at":"2025-11-25T13:28:54.321701998-06:00","closed_at":"2025-11-25T13:28:54.321701998-06:00","dependencies":[{"issue_id":"open-s3-32t","depends_on_id":"open-s3-zeg","type":"blocks","created_at":"2025-11-25T13:08:29.426805308-06:00","created_by":"daemon"}]}
{"id":"open-s3-37o","title":"Extract path utilities to s3/path-utils.ts","description":"Extract path normalization and parsing logic from S3Adapter to a dedicated module. Functions: normalizeS3Path(), getS3KeyName(), isS3Directory(), joinS3Path(). Currently in S3Adapter.normalizePath() and scattered in parseEntry/list processing. ~50 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:19.886302807-06:00","updated_at":"2025-11-25T13:11:34.064409867-06:00","closed_at":"2025-11-25T13:11:34.064409867-06:00"}
{"id":"open-s3-38p","title":"Define Adapter interface","description":"Create Adapter interface defining all backend operations","acceptance_criteria":"- Adapter interface with: list(), getMetadata(), create(), delete(), move(), copy()\n- All methods return Promises for async operations\n- Proper error handling types","notes":"Created Adapter interface with list(), getMetadata(), create(), delete(), move(), copy(), exists(). All async with Promise returns.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.309096-06:00","updated_at":"2025-11-15T21:40:13.309096-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-38p","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:11.816846-06:00","created_by":"daemon"},{"issue_id":"open-s3-38p","depends_on_id":"open-s3-w9f","type":"blocks","created_at":"2025-11-15T19:47:11.817478-06:00","created_by":"daemon"},{"issue_id":"open-s3-38p","depends_on_id":"open-s3-18l","type":"blocks","created_at":"2025-11-15T19:57:56.075862-06:00","created_by":"daemon"}]}
{"id":"open-s3-3eo","title":"Switch from Node.js to Bun runtime","description":"Migrate the project to use Bun instead of Node.js/npm for better performance and native TypeScript support. OpenTUI works best with Bun runtime.","acceptance_criteria":"- Update package.json to use bun instead of npm scripts\n- Replace npm with bun for dependency management\n- Update Justfile to use bun commands\n- Test that bun build and bun run work correctly\n- Update tsconfig.json if needed for Bun compatibility\n- Verify OpenTUI renders correctly with Bun","notes":"Successfully migrated to Bun runtime. Updated package.json, tsconfig.json, Justfile. OpenTUI renders perfectly with Bun. Can run .ts files directly without compilation!","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.309754-06:00","updated_at":"2025-11-15T21:40:13.309754-06:00","closed_at":"2025-11-16T02:31:03Z"}
{"id":"open-s3-3sd","title":"Add S3 error handling and retry logic","description":"Handle S3 errors, throttling, and implement retry with exponential backoff","acceptance_criteria":"- Convert S3 errors to AdapterError types\n- Retry on throttling (429, SlowDown)\n- Exponential backoff for retries\n- Timeout handling","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.310598-06:00","updated_at":"2025-11-17T08:59:50.334911-06:00","closed_at":"2025-11-17T08:59:50.334911-06:00","dependencies":[{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:40.741164-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-hn3","type":"blocks","created_at":"2025-11-15T19:47:40.741823-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-6g8","type":"blocks","created_at":"2025-11-15T19:59:08.041722-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-7y0","type":"blocks","created_at":"2025-11-15T19:59:08.810819-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-8f8","type":"blocks","created_at":"2025-11-15T19:59:09.510875-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-2c9","type":"blocks","created_at":"2025-11-15T19:59:10.218709-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-ffh","type":"blocks","created_at":"2025-11-15T19:59:10.923554-06:00","created_by":"daemon"},{"issue_id":"open-s3-3sd","depends_on_id":"open-s3-uyq","type":"blocks","created_at":"2025-11-15T19:59:11.21102-06:00","created_by":"daemon"}]}
{"id":"open-s3-3up","title":"Add configuration system","description":"Support for config file with user preferences","acceptance_criteria":"- Config file (~/.open-s3rc.json)\n- Customizable keybindings\n- Default sort/columns\n- S3 endpoint configuration\n- Color scheme customization","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.311419-06:00","updated_at":"2025-11-17T08:57:25.766471-06:00","closed_at":"2025-11-17T08:57:25.766471-06:00","dependencies":[{"issue_id":"open-s3-3up","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:51.153093-06:00","created_by":"daemon"},{"issue_id":"open-s3-3up","depends_on_id":"open-s3-fi2","type":"parent-child","created_at":"2025-11-15T19:58:58.465585-06:00","created_by":"daemon"}]}
{"id":"open-s3-40c","title":"Add custom keybinding configuration support","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:37:50.29771-06:00","updated_at":"2025-11-15T21:37:50.29771-06:00","closed_at":"2025-11-15T21:30:11.101637-06:00"}
{"id":"open-s3-467","title":"Project Foundation \u0026 Setup","description":"Set up the project infrastructure, dependencies, and basic structure for the S3 TUI explorer","design":"Following oil.nvim's adapter pattern and opentui's component architecture. Will create a clean separation between UI layer, adapter interface, and S3 backend.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.312262-06:00","updated_at":"2025-11-15T22:48:38.427183-06:00","closed_at":"2025-11-15T21:44:07.607702-06:00"}
{"id":"open-s3-4fs","title":"Add multipart upload support for large files","description":"Handle large file uploads with multipart API","acceptance_criteria":"- Auto-detect large files (\u003e5MB)\n- Use multipart upload API\n- Show part upload progress\n- Resume failed uploads","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.31303-06:00","updated_at":"2025-11-15T21:40:13.31303-06:00","dependencies":[{"issue_id":"open-s3-4fs","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:35.167688-06:00","created_by":"daemon"}]}
{"id":"open-s3-4op","title":"Set up build and development scripts","description":"Configure build, watch, and dev scripts in package.json","acceptance_criteria":"- npm run build compiles TypeScript\n- npm run dev runs in watch mode\n- npm start runs the compiled app","notes":"Set up package.json, tsconfig.json, .gitignore - build/dev/start scripts working","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.313943-06:00","updated_at":"2025-11-15T21:40:13.313943-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-4op","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:46:57.866106-06:00","created_by":"daemon"}]}
{"id":"open-s3-56l","title":"Create OperationPlan type","description":"Data structure for planned operations before execution","acceptance_criteria":"- OperationPlan contains list of operations\n- Each operation has type, source, destination\n- Summary statistics (count by type)\n- Serialization for display","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.314711-06:00","updated_at":"2025-11-17T08:55:59.477289-06:00","closed_at":"2025-11-17T08:55:59.477289-06:00","dependencies":[{"issue_id":"open-s3-56l","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:35.498247-06:00","created_by":"daemon"},{"issue_id":"open-s3-56l","depends_on_id":"open-s3-pdh","type":"blocks","created_at":"2025-11-15T19:48:35.498909-06:00","created_by":"daemon"},{"issue_id":"open-s3-56l","depends_on_id":"open-s3-19s","type":"blocks","created_at":"2025-11-15T19:58:04.558922-06:00","created_by":"daemon"}]}
{"id":"open-s3-5dz","title":"S3Adapter Architecture Refactoring","description":"## Overview\nRefactoring tasks identified from architectural review to improve the S3 adapter layer's maintainability, testability, and code quality.\n\n## Goals\n1. Reduce S3Adapter from ~1017 lines to ~700-750 lines\n2. Eliminate DRY violations in progress callback patterns\n3. Clean up deprecated global registry exports\n4. Improve module cohesion and testability\n\n## Subtasks\n1. **open-s3-cd4**: Extract list operations to dedicated module (High)\n2. **open-s3-zjz**: Extract read operations to dedicated module (High)\n3. **open-s3-oxq**: Create progress adapter factory (High)\n4. **open-s3-aes**: Remove deprecated global registry exports (Medium)\n5. **open-s3-5fh**: Extract shared copy command logic (Low)\n\n## Success Criteria\n- S3Adapter reduced by ~30% in line count\n- All extracted modules have dedicated test files\n- No duplicate progress callback patterns\n- Deprecated functions have runtime warnings\n\n## Effort Estimate\nTotal: 6-8 hours across all subtasks","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-25T14:33:10.731055392-06:00","updated_at":"2025-11-25T14:33:10.731055392-06:00","dependencies":[{"issue_id":"open-s3-5dz","depends_on_id":"open-s3-cd4","type":"blocks","created_at":"2025-11-25T14:33:16.850202292-06:00","created_by":"daemon"},{"issue_id":"open-s3-5dz","depends_on_id":"open-s3-zjz","type":"blocks","created_at":"2025-11-25T14:33:16.866228164-06:00","created_by":"daemon"},{"issue_id":"open-s3-5dz","depends_on_id":"open-s3-oxq","type":"blocks","created_at":"2025-11-25T14:33:16.881701938-06:00","created_by":"daemon"},{"issue_id":"open-s3-5dz","depends_on_id":"open-s3-aes","type":"blocks","created_at":"2025-11-25T14:33:16.896961145-06:00","created_by":"daemon"},{"issue_id":"open-s3-5dz","depends_on_id":"open-s3-5fh","type":"blocks","created_at":"2025-11-25T14:33:16.912400083-06:00","created_by":"daemon"}]}
{"id":"open-s3-5fh","title":"Extract shared CopyObjectCommand logic between copy and move operations","description":"## Problem\nBoth `copy-operations.ts` (line 35-43) and `move-operations.ts` (line 35-43) have nearly identical CopyObjectCommand usage:\n\n### copy-operations.ts\n```typescript\nawait retryWithBackoff(() =\u003e {\n  const command = new CopyObjectCommand({\n    Bucket: destBucket,\n    CopySource: \\`${sourceBucket}/${sourceKey}\\`,\n    Key: destKey,\n    MetadataDirective: 'COPY',\n  });\n  return client.send(command);\n}, getS3RetryConfig());\n```\n\n### move-operations.ts\n```typescript\nawait retryWithBackoff(() =\u003e {\n  const command = new CopyObjectCommand({\n    Bucket: bucket,\n    CopySource: \\`${bucket}/${sourceKey}\\`,\n    Key: destKey,\n    MetadataDirective: 'COPY',\n  });\n  return client.send(command);\n}, getS3RetryConfig());\n```\n\n## Implementation Plan\n\n### Option A: Extract to shared utility (Recommended)\nCreate a shared copy utility in `copy-operations.ts` that `move-operations.ts` imports:\n\n```typescript\n// In copy-operations.ts - make internal function exported\nexport async function executeCopyCommand(\n  client: S3Client,\n  sourceBucket: string,\n  sourceKey: string,\n  destBucket: string,\n  destKey: string\n): Promise\u003cvoid\u003e {\n  await retryWithBackoff(() =\u003e {\n    const command = new CopyObjectCommand({\n      Bucket: destBucket,\n      CopySource: \\`${sourceBucket}/${sourceKey}\\`,\n      Key: destKey,\n      MetadataDirective: 'COPY',\n    });\n    return client.send(command);\n  }, getS3RetryConfig());\n}\n```\n\nThen in move-operations.ts:\n```typescript\nimport { executeCopyCommand } from './copy-operations.js';\n\nexport async function moveObject(options: MoveObjectOptions): Promise\u003cvoid\u003e {\n  const { client, bucket, sourceKey, destKey } = options;\n\n  // Copy to new location\n  await executeCopyCommand(client, bucket, sourceKey, bucket, destKey);\n\n  // Delete from old location\n  await retryWithBackoff(() =\u003e {\n    const command = new DeleteObjectCommand({\n      Bucket: bucket,\n      Key: sourceKey,\n    });\n    return client.send(command);\n  }, getS3RetryConfig());\n}\n```\n\n### Option B: Leave as-is (Alternative)\nThe duplication is minimal (~8 lines) and the modules are intentionally decoupled.\nKeeping them separate:\n- Allows independent evolution\n- Avoids circular dependency risk\n- Makes each module self-contained\n\n## Recommendation\n**Option A** is slightly preferred for DRY, but this is a low-priority nice-to-have since:\n- The duplication is small\n- Both modules are stable\n- The pattern is unlikely to change\n\n## Files to Modify\n- src/adapters/s3/copy-operations.ts (export executeCopyCommand)\n- src/adapters/s3/move-operations.ts (import and use executeCopyCommand)\n\n## Testing\n- Verify existing tests pass\n- No new tests needed (behavior unchanged)\n\n## Effort Estimate\nVery Low (15-30 minutes)","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T14:33:01.054162018-06:00","updated_at":"2025-11-25T14:33:01.054162018-06:00"}
{"id":"open-s3-5h7","title":"Extract entry parser to s3/entry-parser.ts","description":"Extract S3 object to Entry conversion logic from S3Adapter. Functions: parseS3ObjectToEntry(), parseCommonPrefixToEntry(), parseBucketToEntry(). Currently in S3Adapter.parseEntry(), getBucketEntries(), and list() methods. ~80 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:22.555472187-06:00","updated_at":"2025-11-25T13:16:59.554265382-06:00","closed_at":"2025-11-25T13:16:59.554265382-06:00","dependencies":[{"issue_id":"open-s3-5h7","depends_on_id":"open-s3-37o","type":"blocks","created_at":"2025-11-25T13:08:29.385492413-06:00","created_by":"daemon"}]}
{"id":"open-s3-5ny","title":"Replace any types with proper TypeScript types","description":"## Problem\nThe codebase has multiple instances of `any` type usage that reduces type safety:\n\n```typescript\n// Examples found in architectural review:\nconst [pendingOperations, setPendingOperations] = useState\u003cany[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cany[]\u003e([]);\nconst s3Adapter = adapter as any;\n```\n\nThis leads to:\n- Runtime errors that could be caught at compile time\n- Reduced IDE autocomplete support\n- Harder to refactor safely\n\n## Implementation Plan\n\n### Step 1: Audit All `any` Usage\nRun grep to find all instances:\n```bash\nrg 'any' --type ts src/ | grep -v test\n```\n\nCategories to fix:\n1. useState with any[]\n2. Type assertions (as any)\n3. Function parameters typed as any\n4. Implicit any from missing types\n\n### Step 2: Fix useState Typing\n```typescript\n// Before:\nconst [pendingOperations, setPendingOperations] = useState\u003cany[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cany[]\u003e([]);\n\n// After:\nimport { AdapterOperation } from '../types/operations';\nimport { Entry } from '../types/entry';\n\nconst [pendingOperations, setPendingOperations] = useState\u003cAdapterOperation[]\u003e([]);\nconst [originalEntries, setOriginalEntries] = useState\u003cEntry[]\u003e([]);\n```\n\n### Step 3: Fix Adapter Type Assertions\n```typescript\n// Before:\nconst s3Adapter = adapter as any;\nif (s3Adapter.setBucket) { ... }\n\n// After - Option 1: Type guard\nfunction isS3Adapter(adapter: Adapter): adapter is S3Adapter {\n  return adapter.name === 's3';\n}\n\nif (isS3Adapter(adapter) \u0026\u0026 adapter.setBucket) { ... }\n\n// After - Option 2: Extend interface\ninterface ExtendedAdapter extends Adapter {\n  setBucket?(bucket: string): void;\n  getBucketEntries?(): Promise\u003cEntry[]\u003e;\n}\n```\n\n### Step 4: Fix Keyboard Event Types\n```typescript\n// Before:\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n\n// After:\nimport { Key } from 'ink'; // or custom type\n\nexport interface KeyboardKey {\n  name: string;\n  ctrl: boolean;\n  meta: boolean;\n  shift: boolean;\n  sequence?: string;\n}\n\nexport let globalKeyboardDispatcher: ((key: KeyboardKey) =\u003e void) | null = null;\n```\n\n### Step 5: Add Missing Type Definitions\nCreate or extend types as needed:\n\n```typescript\n// src/types/operations.ts - may need additions\nexport interface AdapterOperation {\n  type: 'create' | 'delete' | 'move' | 'copy' | 'rename';\n  source: string;\n  destination?: string;\n  entry?: Entry;\n}\n\n// src/types/keyboard.ts - new file if needed\nexport interface KeyboardKey {\n  name: string;\n  ctrl: boolean;\n  meta: boolean;\n  shift: boolean;\n  sequence?: string;\n}\n```\n\n### Step 6: Enable Stricter TypeScript\nConsider enabling in tsconfig.json:\n```json\n{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n```\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (multiple any usages)\n- src/index.tsx (keyboard dispatcher)\n- src/hooks/useKeyboardEvents.ts\n- src/adapters/s3-adapter.ts\n- tsconfig.json (optionally enable strict mode)\n\n## Files to Create\n- src/types/keyboard.ts (if not exists)\n\n## Testing\n- Run `bun run typecheck` after each change\n- Ensure all tests still pass\n- Fix any type errors that surface\n\n## Estimated Effort: 1-2 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:04.099516-06:00","updated_at":"2025-11-24T21:54:14.691302-06:00","closed_at":"2025-11-24T21:54:14.691302-06:00"}
{"id":"open-s3-5s2","title":"Implement copy/paste operations (c, p, P keybindings)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.298552-06:00","updated_at":"2025-11-15T21:37:50.298552-06:00","closed_at":"2025-11-15T21:28:30.681123-06:00"}
{"id":"open-s3-5x5","title":"Bucket selection broken in multipane root view","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T12:49:40.539011-06:00","updated_at":"2025-11-17T13:04:10.407001-06:00","closed_at":"2025-11-17T13:04:10.407001-06:00"}
{"id":"open-s3-659","title":"Add page scrolling with Ctrl+D/U for large directories","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.299273-06:00","updated_at":"2025-11-15T21:37:50.299273-06:00","closed_at":"2025-11-15T21:28:38.708298-06:00"}
{"id":"open-s3-67b","title":"Add interactive file upload dialog with file browser","description":"Interactive file upload dialog with file browser, keyboard navigation, upload queue management, and progress tracking. Features include multi-file selection, directory uploads, file filtering, retry logic, and integration with ProgressWindow component.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:10:39.657525-06:00","updated_at":"2025-11-24T23:08:31.935488-06:00","closed_at":"2025-11-24T23:08:31.935488-06:00"}
{"id":"open-s3-6g8","title":"Implement S3Adapter.list() method","description":"List objects in S3 bucket with prefix support and pagination","acceptance_criteria":"- ListObjectsV2 command with prefix and delimiter\n- Handle pagination for large directories\n- Convert S3 objects to Entry format\n- Handle virtual directories (common prefixes)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.315443-06:00","updated_at":"2025-11-17T08:56:26.792017-06:00","closed_at":"2025-11-17T08:56:26.792017-06:00","dependencies":[{"issue_id":"open-s3-6g8","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:28.707741-06:00","created_by":"daemon"},{"issue_id":"open-s3-6g8","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:28.70828-06:00","created_by":"daemon"},{"issue_id":"open-s3-6g8","depends_on_id":"open-s3-7rr","type":"related","created_at":"2025-11-15T19:59:04.29401-06:00","created_by":"daemon"}]}
{"id":"open-s3-6oo","title":"Add .gitignore and basic documentation","description":"Create .gitignore, README.md with project overview","acceptance_criteria":"- .gitignore excludes node_modules, dist\n- README.md describes project and installation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.316132-06:00","updated_at":"2025-11-15T22:48:38.427435-06:00","closed_at":"2025-11-15T21:43:35.732894-06:00","dependencies":[{"issue_id":"open-s3-6oo","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:47:03.136367-06:00","created_by":"daemon"}]}
{"id":"open-s3-6we","title":"Replace global keyboard dispatcher with React Context","description":"## Problem\nThe codebase uses a global mutable variable for keyboard dispatch:\n\n```typescript\n// In index.tsx\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n```\n\nThis creates:\n- Hidden coupling between components\n- Difficulty testing keyboard behavior\n- Race conditions during initialization\n- No way to have multiple keyboard contexts\n\n## Implementation Plan\n\n### Step 1: Create Keyboard Context\n```typescript\n// src/contexts/KeyboardContext.tsx\nimport { createContext, useContext, useCallback, useRef, ReactNode } from 'react';\n\ninterface KeyboardContextValue {\n  registerHandler: (handler: (key: Key) =\u003e boolean) =\u003e () =\u003e void;\n  dispatch: (key: Key) =\u003e void;\n}\n\nconst KeyboardContext = createContext\u003cKeyboardContextValue | null\u003e(null);\n\nexport function KeyboardProvider({ children }: { children: ReactNode }) {\n  const handlersRef = useRef\u003cSet\u003c(key: Key) =\u003e boolean\u003e\u003e(new Set());\n  \n  const registerHandler = useCallback((handler: (key: Key) =\u003e boolean) =\u003e {\n    handlersRef.current.add(handler);\n    return () =\u003e handlersRef.current.delete(handler);\n  }, []);\n  \n  const dispatch = useCallback((key: Key) =\u003e {\n    // Handlers return true if they consumed the key\n    for (const handler of handlersRef.current) {\n      if (handler(key)) return;\n    }\n  }, []);\n  \n  return (\n    \u003cKeyboardContext.Provider value={{ registerHandler, dispatch }}\u003e\n      {children}\n    \u003c/KeyboardContext.Provider\u003e\n  );\n}\n\nexport function useKeyboard() {\n  const context = useContext(KeyboardContext);\n  if (!context) {\n    throw new Error('useKeyboard must be used within KeyboardProvider');\n  }\n  return context;\n}\n\nexport function useKeyboardHandler(handler: (key: Key) =\u003e boolean, deps: any[]) {\n  const { registerHandler } = useKeyboard();\n  \n  useEffect(() =\u003e {\n    return registerHandler(handler);\n  }, [registerHandler, ...deps]);\n}\n```\n\n### Step 2: Create Priority-Based Handler System\n```typescript\n// Support handler priorities (dialogs \u003e main UI)\ninterface HandlerRegistration {\n  handler: (key: Key) =\u003e boolean;\n  priority: number;\n}\n\nexport function KeyboardProvider({ children }: { children: ReactNode }) {\n  const handlersRef = useRef\u003cHandlerRegistration[]\u003e([]);\n  \n  const registerHandler = useCallback((\n    handler: (key: Key) =\u003e boolean, \n    priority = 0\n  ) =\u003e {\n    const registration = { handler, priority };\n    handlersRef.current.push(registration);\n    handlersRef.current.sort((a, b) =\u003e b.priority - a.priority);\n    \n    return () =\u003e {\n      handlersRef.current = handlersRef.current.filter(r =\u003e r !== registration);\n    };\n  }, []);\n  \n  // ...\n}\n```\n\n### Step 3: Update index.tsx\n```typescript\n// Before:\nexport let globalKeyboardDispatcher: ((key: any) =\u003e void) | null = null;\n\nfunction App() {\n  // Set global dispatcher somewhere\n}\n\n// After:\nfunction App() {\n  return (\n    \u003cKeyboardProvider\u003e\n      \u003cS3Explorer ... /\u003e\n    \u003c/KeyboardProvider\u003e\n  );\n}\n```\n\n### Step 4: Update S3Explorer\n```typescript\n// Before:\nuseEffect(() =\u003e {\n  globalKeyboardDispatcher = handleKeyPress;\n  return () =\u003e { globalKeyboardDispatcher = null; };\n}, []);\n\n// After:\nuseKeyboardHandler((key) =\u003e {\n  handleKeyPress(key);\n  return true; // Consumed\n}, [handleKeyPress]);\n```\n\n### Step 5: Update Dialog Components\nDialogs register high-priority handlers:\n\n```typescript\nfunction ConfirmationDialog({ ... }) {\n  useKeyboardHandler((key) =\u003e {\n    if (key.name === 'escape') {\n      onCancel();\n      return true;\n    }\n    if (key.name === 'return') {\n      onConfirm();\n      return true;\n    }\n    return false;\n  }, [onCancel, onConfirm], 100); // High priority\n}\n```\n\n## Files to Create\n- src/contexts/KeyboardContext.tsx\n- src/contexts/KeyboardContext.test.tsx\n\n## Files to Modify\n- src/index.tsx (remove global, add provider)\n- src/ui/s3-explorer.tsx (use hook instead of global)\n- All dialog components (use useKeyboardHandler)\n\n## Benefits\n- Testable keyboard handling (mock context in tests)\n- Clear handler priority system\n- No global mutable state\n- Type-safe keyboard events\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:01.955965-06:00","updated_at":"2025-11-24T23:39:23.834104-06:00","closed_at":"2025-11-24T23:39:23.834104-06:00","dependencies":[{"issue_id":"open-s3-6we","depends_on_id":"open-s3-ouy","type":"blocks","created_at":"2025-11-24T18:07:00.031395-06:00","created_by":"daemon"}]}
{"id":"open-s3-725","title":"Update config to handle optional initial bucket","description":"Make the 'bucket' field in config optional. If not specified, start at root bucket view. Allow forced root view with 'bucket: null' setting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.760814-06:00","updated_at":"2025-11-16T20:39:10.2651-06:00","closed_at":"2025-11-16T20:39:10.2651-06:00","dependencies":[{"issue_id":"open-s3-725","depends_on_id":"open-s3-w4y","type":"blocks","created_at":"2025-11-16T20:33:02.275206-06:00","created_by":"daemon"}]}
{"id":"open-s3-79b","title":"Fix: Download UI is not functional","description":"","notes":"Fixed - Download now shows proper confirmation dialog","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T19:24:32.514871-06:00","updated_at":"2025-11-17T19:27:46.475517-06:00","closed_at":"2025-11-17T19:27:46.47552-06:00"}
{"id":"open-s3-79e","title":"Create floating window component","description":"Reusable floating/modal window for actions and dialogs","acceptance_criteria":"- FloatingWindow component with customizable size\n- Centered or positioned floating display\n- Border and shadow styling\n- Focus management","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.316902-06:00","updated_at":"2025-11-17T09:23:29.491207-06:00","closed_at":"2025-11-17T09:23:29.491207-06:00","dependencies":[{"issue_id":"open-s3-79e","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:48:58.205348-06:00","created_by":"daemon"}]}
{"id":"open-s3-7dd","title":"Add search and filter functionality","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T21:37:50.299928-06:00","updated_at":"2025-11-15T21:37:50.299928-06:00","closed_at":"2025-11-15T21:28:22.980291-06:00"}
{"id":"open-s3-7j6","title":"Create basic project structure","description":"Set up src directory with adapters/, ui/, types/, utils/ folders","acceptance_criteria":"- src/adapters/ for backend adapters\n- src/ui/ for OpenTUI components\n- src/types/ for TypeScript types\n- src/utils/ for helpers","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.317629-06:00","updated_at":"2025-11-15T21:40:13.317629-06:00","closed_at":"2025-11-16T02:31:01Z","dependencies":[{"issue_id":"open-s3-7j6","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:46:59.741376-06:00","created_by":"daemon"}]}
{"id":"open-s3-7qq","title":"Set up linting and code formatting","description":"Configure ESLint and Prettier for code quality","acceptance_criteria":"- .eslintrc.json configured\n- .prettierrc configured\n- npm run lint works","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.319939-06:00","updated_at":"2025-11-15T22:48:38.427669-06:00","closed_at":"2025-11-15T21:43:54.06302-06:00","dependencies":[{"issue_id":"open-s3-7qq","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:47:01.37956-06:00","created_by":"daemon"}]}
{"id":"open-s3-7rr","title":"Implement buffer loading from adapter","description":"Load entries from adapter and populate buffer","acceptance_criteria":"- loadBuffer(path) async function\n- Calls adapter.list() and populates buffer\n- Shows loading indicator\n- Handles errors gracefully","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.320921-06:00","updated_at":"2025-11-17T08:50:03.340432-06:00","closed_at":"2025-11-17T08:50:03.340432-06:00","dependencies":[{"issue_id":"open-s3-7rr","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:48:05.144191-06:00","created_by":"daemon"},{"issue_id":"open-s3-7rr","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:48:05.144943-06:00","created_by":"daemon"}]}
{"id":"open-s3-7wu","title":"Add standard floating ErrorDialog: display error in red with Enter to acknowledge","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-17T11:23:36.973236-06:00","updated_at":"2025-11-17T11:32:32.528646-06:00","closed_at":"2025-11-17T11:32:32.528646-06:00"}
{"id":"open-s3-7y0","title":"Implement S3Adapter.getMetadata() method","description":"Fetch detailed metadata for S3 object","acceptance_criteria":"- HeadObject command to get metadata\n- Return size, modified, content-type, storage-class\n- Handle S3-specific metadata (tags, version-id)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.321551-06:00","updated_at":"2025-11-17T08:56:26.832478-06:00","closed_at":"2025-11-17T08:56:26.832478-06:00","dependencies":[{"issue_id":"open-s3-7y0","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:31.073966-06:00","created_by":"daemon"},{"issue_id":"open-s3-7y0","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:31.074562-06:00","created_by":"daemon"}]}
{"id":"open-s3-807","title":"Create BufferState type and manager","description":"Define buffer state holding entries, cursor, and selection","acceptance_criteria":"- BufferState interface with entries array, cursor position\n- BufferManager class to manage state\n- Methods to update entries, cursor","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.322228-06:00","updated_at":"2025-11-17T08:55:10.790517-06:00","closed_at":"2025-11-17T08:55:10.790517-06:00","dependencies":[{"issue_id":"open-s3-807","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:47:51.550745-06:00","created_by":"daemon"},{"issue_id":"open-s3-807","depends_on_id":"open-s3-2cl","type":"blocks","created_at":"2025-11-15T19:47:51.551271-06:00","created_by":"daemon"},{"issue_id":"open-s3-807","depends_on_id":"open-s3-0sv","type":"blocks","created_at":"2025-11-15T19:58:16.996313-06:00","created_by":"daemon"}]}
{"id":"open-s3-82y","title":"Add bucket breadcrumb in status bar","description":"Update status bar to show current location - either 'Buckets (root)' when viewing buckets, or 'bucket-name/' when inside a bucket. Show navigation path.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.628-06:00","updated_at":"2025-11-17T09:10:55.283408-06:00","closed_at":"2025-11-17T09:10:55.283408-06:00","dependencies":[{"issue_id":"open-s3-82y","depends_on_id":"open-s3-i9v","type":"blocks","created_at":"2025-11-16T20:33:02.468855-06:00","created_by":"daemon"}]}
{"id":"open-s3-8a9","title":"Set up CI/CD for automatic dependency updates with PR creation","description":"## Research Summary\n\n### Recommendation: Renovate Bot\n\n**Why Renovate over Dependabot:**\n1. **Better Bun Support** - Dedicated bun manager, handles both bun.lock and bun.lockb\n2. **More Flexible Grouping** - packageRules is more powerful than Dependabot groups\n3. **Native Auto-merge** - No separate GitHub Actions workflow needed\n4. **Preset System** - Can extend community presets like config:recommended\n5. **Dependency Dashboard** - Creates a tracking issue for visibility\n\n### Implementation Steps\n\n1. Install Renovate GitHub App: https://github.com/apps/renovate\n2. Create renovate.json in repository root\n3. Renovate creates onboarding PR to confirm config\n\n### Recommended Configuration\n\n```json\n{\n  \"$schema\": \"https://docs.renovatebot.com/renovate-schema.json\",\n  \"extends\": [\n    \"config:recommended\",\n    \":automergeMinor\",\n    \":automergeDigest\",\n    \"schedule:weekends\"\n  ],\n  \"labels\": [\"dependencies\"],\n  \"platformAutomerge\": true,\n  \"packageRules\": [\n    {\n      \"description\": \"Group all non-major devDependencies\",\n      \"matchDepTypes\": [\"devDependencies\"],\n      \"matchUpdateTypes\": [\"minor\", \"patch\"],\n      \"groupName\": \"dev dependencies (non-major)\"\n    },\n    {\n      \"description\": \"Group TypeScript and type definitions\",\n      \"matchPackagePatterns\": [\"^typescript\", \"^@types/\"],\n      \"groupName\": \"TypeScript\"\n    },\n    {\n      \"description\": \"Group testing packages\",\n      \"matchPackagePatterns\": [\"vitest\", \"jest\", \"@testing-library\"],\n      \"groupName\": \"testing\"\n    },\n    {\n      \"description\": \"Group AWS SDK packages\",\n      \"matchPackagePatterns\": [\"^@aws-sdk/\"],\n      \"groupName\": \"AWS SDK\",\n      \"schedule\": [\"before 5am on Sunday\"]\n    },\n    {\n      \"description\": \"Automerge patch updates\",\n      \"matchUpdateTypes\": [\"patch\"],\n      \"automerge\": true\n    },\n    {\n      \"description\": \"Dont automerge major updates\",\n      \"matchUpdateTypes\": [\"major\"],\n      \"automerge\": false\n    }\n  ],\n  \"prHourlyLimit\": 2,\n  \"prConcurrentLimit\": 10,\n  \"dependencyDashboard\": true\n}\n```\n\n### Key Features of This Config\n\n- **Weekend scheduling** - Updates run on weekends to minimize disruption\n- **Grouped PRs** - DevDeps, TypeScript, testing, and AWS SDK grouped separately\n- **Smart auto-merge** - Patch updates auto-merge; major updates require review\n- **Rate limiting** - Max 2 PRs/hour, 10 concurrent to avoid PR flood\n\n### When Dependabot Might Be Preferred\n\n- Maximum simplicity needed\n- GitHub-native experience preferred\n- Org already standardized on Dependabot","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-25T15:51:28.188097543-06:00","updated_at":"2025-11-25T15:53:22.594499408-06:00"}
{"id":"open-s3-8d0","title":"S3-Specific Features","description":"S3-specific functionality like versioning, tagging, storage classes, and metadata","design":"Show S3 metadata in columns, support version browsing, tag management, storage class transitions.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-15T21:40:13.322862-06:00","updated_at":"2025-11-15T21:40:13.322862-06:00"}
{"id":"open-s3-8f8","title":"Implement S3Adapter.create() method","description":"Create objects and virtual directories in S3","acceptance_criteria":"- PutObject for new files (empty or with content)\n- Create marker objects for directories\n- Support multipart upload for large files","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.323458-06:00","updated_at":"2025-11-17T08:56:26.874033-06:00","closed_at":"2025-11-17T08:56:26.874033-06:00","dependencies":[{"issue_id":"open-s3-8f8","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:33.123421-06:00","created_by":"daemon"},{"issue_id":"open-s3-8f8","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:33.124267-06:00","created_by":"daemon"},{"issue_id":"open-s3-8f8","depends_on_id":"open-s3-ret","type":"related","created_at":"2025-11-15T19:59:05.108561-06:00","created_by":"daemon"}]}
{"id":"open-s3-8io","title":"Help dialog text rendering outside box - needs relative positioning","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-17T09:31:24.92459-06:00","updated_at":"2025-11-17T09:34:17.895172-06:00","closed_at":"2025-11-17T09:34:17.895172-06:00"}
{"id":"open-s3-8jy","title":"Add split view support","description":"Horizontal/vertical splits for multiple buffers","acceptance_criteria":"- Ctrl+W v for vertical split\n- Ctrl+W s for horizontal split\n- Ctrl+W w to switch between panes\n- Independent buffers per pane","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.324048-06:00","updated_at":"2025-11-17T20:59:04.943552-06:00","closed_at":"2025-11-17T20:59:04.943552-06:00","dependencies":[{"issue_id":"open-s3-8jy","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:04.225898-06:00","created_by":"daemon"}]}
{"id":"open-s3-8qx","title":"Replace global AdapterRegistry singleton with context-based DI","description":"Global singleton getAdapterRegistry() creates hidden dependencies and testing difficulties. Add createAdapterRegistry() factory, resetAdapterRegistry() for tests, and create AdapterContext.tsx with AdapterProvider and useAdapter hook for React components. Keep backward-compatible default registry during migration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:22.466892462-06:00","updated_at":"2025-11-25T14:21:32.887885426-06:00","closed_at":"2025-11-25T14:21:32.887885426-06:00","dependencies":[{"issue_id":"open-s3-8qx","depends_on_id":"open-s3-f5m","type":"blocks","created_at":"2025-11-25T13:45:37.729746594-06:00","created_by":"daemon"}]}
{"id":"open-s3-8vp","title":"Add download to local filesystem","description":"Download S3 objects to local directory","acceptance_criteria":"- 'd' downloads selected files\n- Prompt for destination path\n- Show download progress\n- Handle directory downloads recursively","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.324624-06:00","updated_at":"2025-11-17T19:01:32.492893-06:00","closed_at":"2025-11-17T19:01:32.492893-06:00","dependencies":[{"issue_id":"open-s3-8vp","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:29.759922-06:00","created_by":"daemon"}]}
{"id":"open-s3-8yn","title":"Add entry deletion with 'dd'","description":"Delete entry at cursor or selection","acceptance_criteria":"- dd marks entry for deletion\n- Works on single entry or visual selection\n- Entry shown with strikethrough\n- Undo with u before save","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.325184-06:00","updated_at":"2025-11-24T23:13:00.606348-06:00","closed_at":"2025-11-24T23:13:00.606348-06:00","dependencies":[{"issue_id":"open-s3-8yn","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:48.479232-06:00","created_by":"daemon"},{"issue_id":"open-s3-8yn","depends_on_id":"open-s3-bga","type":"blocks","created_at":"2025-11-15T19:58:38.688033-06:00","created_by":"daemon"}]}
{"id":"open-s3-90u","title":"Inject dependencies in S3Adapter constructor","description":"S3Adapter constructor hard-codes client creation via createS3Client(), making unit testing difficult. Add S3AdapterDependencies interface with optional clientFactory and logger. Default to existing functions but allow injection for testing. This enables unit tests without mocking AWS SDK modules.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:21.715082442-06:00","updated_at":"2025-11-25T13:50:52.390416969-06:00","closed_at":"2025-11-25T13:50:52.390416969-06:00"}
{"id":"open-s3-98b","title":"Create proper React help dialog component with keybinding elements","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T09:50:14.517553-06:00","updated_at":"2025-11-17T09:51:12.665151-06:00","closed_at":"2025-11-17T09:51:12.665151-06:00"}
{"id":"open-s3-9zz","title":"Implement entry opening/navigation (Enter, -)","description":"Enter directories and navigate up with -","acceptance_criteria":"- Enter/Return opens directory or selects file\n- - (dash) navigates to parent\n- Path updates correctly\n- Buffer reloads on navigation","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.325733-06:00","updated_at":"2025-11-17T08:55:51.657998-06:00","closed_at":"2025-11-17T08:55:51.657998-06:00","dependencies":[{"issue_id":"open-s3-9zz","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:14.736204-06:00","created_by":"daemon"},{"issue_id":"open-s3-9zz","depends_on_id":"open-s3-7rr","type":"blocks","created_at":"2025-11-15T19:48:14.736727-06:00","created_by":"daemon"}]}
{"id":"open-s3-a03","title":"Set up CI/CD pipeline (GitHub Actions)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:01:11.685502-06:00","updated_at":"2025-11-17T09:23:54.139606-06:00","closed_at":"2025-11-17T09:23:54.139606-06:00"}
{"id":"open-s3-a1a","title":"Implement LocalStack integration tests","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:37:50.300583-06:00","updated_at":"2025-11-15T21:37:50.300583-06:00","closed_at":"2025-11-15T21:29:24.471936-06:00"}
{"id":"open-s3-aes","title":"Remove deprecated global registry exports in v2","description":"## Problem\nThe registry.ts module exports deprecated global singleton functions that can lead to hidden state issues:\n- `getAdapterRegistry()` - line 116\n- `registerAdapter()` - line 161  \n- `getAdapter()` - line 170\n- `registerS3()` - line 179\n\nThese are marked @deprecated but still exported, creating potential for misuse. The recommended pattern is `createAdapterRegistry()` for explicit DI.\n\n## Implementation Plan\n\n### Phase 1: Audit Usage (Pre-removal)\n1. Search codebase for usage of deprecated functions\n2. Document any remaining usages\n3. Update any internal code still using deprecated functions\n\n### Phase 2: Add Runtime Warnings (v1.x)\nAdd console.warn on first call to deprecated functions:\n```typescript\nlet warnedGlobal = false;\nexport function getAdapterRegistry(): AdapterRegistry {\n  if (!warnedGlobal \u0026\u0026 process.env.NODE_ENV !== 'production') {\n    console.warn(\n      'getAdapterRegistry() is deprecated. Use createAdapterRegistry() for explicit DI.'\n    );\n    warnedGlobal = true;\n  }\n  // existing implementation\n}\n```\n\n### Phase 3: Remove Exports (v2.0)\nIn major version bump:\n1. Remove `getAdapterRegistry` export\n2. Remove `registerAdapter` export\n3. Remove `getAdapter` export  \n4. Remove `registerS3` export\n5. Keep internal `globalRegistry` for backwards compat if needed via opt-in\n\n### Alternative: Lazy Registration\nInstead of removing, make MockAdapter registration lazy:\n```typescript\nexport class AdapterRegistry {\n  private adapters: Map\u003cstring, Adapter\u003e = new Map();\n  private factories: Map\u003cstring, () =\u003e Adapter\u003e = new Map();\n\n  constructor() {\n    // Register factory instead of instance\n    this.factories.set('mock', () =\u003e new MockAdapter());\n  }\n\n  getAdapter(name: string): Adapter {\n    // Check instances first\n    let adapter = this.adapters.get(name);\n    if (adapter) return adapter;\n    \n    // Check factories\n    const factory = this.factories.get(name);\n    if (factory) {\n      adapter = factory();\n      this.adapters.set(name, adapter);\n      return adapter;\n    }\n    \n    throw new Error(`Adapter not found: ${name}`);\n  }\n}\n```\n\n## Files to Modify\n- src/adapters/registry.ts\n\n## Testing\n- Verify createAdapterRegistry() still works\n- Verify existing tests pass\n- Add deprecation warning tests (Phase 2)\n\n## Migration Guide (for CHANGELOG)\n```markdown\n### Breaking Changes (v2.0)\n- Removed `getAdapterRegistry()` - use `createAdapterRegistry()`\n- Removed `registerAdapter()` - use `registry.register()`\n- Removed `getAdapter()` - use `registry.getAdapter()`\n- Removed `registerS3()` - use `registry.registerS3()`\n```\n\n## Effort Estimate\nLow (30 minutes for Phase 2, additional time for Phase 3 in major release)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T14:32:40.053783149-06:00","updated_at":"2025-11-25T16:07:03.103693824-06:00","closed_at":"2025-11-25T16:07:03.103693824-06:00"}
{"id":"open-s3-afd","title":"Write adapter interface tests","description":"Test MockAdapter and S3Adapter implementations","acceptance_criteria":"- Test all adapter methods\n- Test error handling\n- Test pagination\n- 80%+ code coverage","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.326303-06:00","updated_at":"2025-11-17T08:57:53.609987-06:00","closed_at":"2025-11-17T08:57:53.609987-06:00","dependencies":[{"issue_id":"open-s3-afd","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:44.807745-06:00","created_by":"daemon"},{"issue_id":"open-s3-afd","depends_on_id":"open-s3-18l","type":"blocks","created_at":"2025-11-15T19:49:44.808419-06:00","created_by":"daemon"},{"issue_id":"open-s3-afd","depends_on_id":"open-s3-fi2","type":"parent-child","created_at":"2025-11-15T19:58:56.308974-06:00","created_by":"daemon"}]}
{"id":"open-s3-aif","title":"Add upload from local filesystem","description":"Upload local files to S3","acceptance_criteria":"- 'u' opens upload dialog\n- File picker for local files\n- Show upload progress\n- Handle directory uploads","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.326847-06:00","updated_at":"2025-11-17T19:01:34.638077-06:00","closed_at":"2025-11-17T19:01:34.638077-06:00","dependencies":[{"issue_id":"open-s3-aif","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:31.227748-06:00","created_by":"daemon"}]}
{"id":"open-s3-am4","title":"Implement object tagging UI","description":"View and edit S3 object tags","acceptance_criteria":"- 't' opens tag editor\n- Show existing tags as key=value\n- Add/edit/delete tags\n- Save tags to S3","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.327348-06:00","updated_at":"2025-11-17T21:55:12.267124-06:00","dependencies":[{"issue_id":"open-s3-am4","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:24.181373-06:00","created_by":"daemon"}]}
{"id":"open-s3-b0r","title":"Update documentation for bucket root view","description":"Update README and QUICKSTART with bucket root view feature. Document bucket navigation, metadata columns, and configuration changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T20:32:56.807137-06:00","updated_at":"2025-11-16T20:35:19.54502-06:00","closed_at":"2025-11-16T20:35:19.54502-06:00"}
{"id":"open-s3-b10","title":"Implement real performance tests or remove stubs","description":"## Problem\nThe file useBufferState.perf.test.ts contains placeholder tests that don't actually test anything:\n\n```typescript\nit('handles cursor movement in O(1) time', () =\u003e {\n  expect(true).toBe(true);  // No actual test\n});\n```\n\nThis gives false confidence in performance characteristics and clutters the test suite.\n\n## Implementation Plan\n\n### Step 1: Audit Performance Test Stubs\nReview useBufferState.perf.test.ts to identify all placeholder tests.\n\n### Step 2: Decide: Implement or Remove\nFor each stub, decide whether to:\n- **Implement**: If the performance characteristic is critical\n- **Remove**: If the test isn't valuable\n\n### Step 3: Implement Real Performance Tests\nUse performance.now() or Bun's benchmarking:\n\n```typescript\n// src/hooks/useBufferState.perf.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useBufferState } from './useBufferState';\n\ndescribe('useBufferState Performance', () =\u003e {\n  const LARGE_ENTRY_COUNT = 10000;\n  const ITERATIONS = 1000;\n  const MAX_TIME_MS = 10; // Max time for operation\n\n  function createLargeEntryList(count: number): Entry[] {\n    return Array.from({ length: count }, (_, i) =\u003e ({\n      id: `entry-${i}`,\n      name: `file-${i}.txt`,\n      type: 'file' as const,\n      path: `/bucket/file-${i}.txt`,\n      size: 1024,\n      lastModified: new Date(),\n    }));\n  }\n\n  it('handles cursor movement in O(1) time with large lists', () =\u003e {\n    const entries = createLargeEntryList(LARGE_ENTRY_COUNT);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    const start = performance.now();\n    for (let i = 0; i \u003c ITERATIONS; i++) {\n      act(() =\u003e {\n        result.current.moveCursor(1);\n      });\n    }\n    const elapsed = performance.now() - start;\n    const avgTime = elapsed / ITERATIONS;\n\n    expect(avgTime).toBeLessThan(MAX_TIME_MS);\n    console.log(`Average cursor move time: ${avgTime.toFixed(3)}ms`);\n  });\n\n  it('handles selection toggle in O(1) time', () =\u003e {\n    const entries = createLargeEntryList(LARGE_ENTRY_COUNT);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    const start = performance.now();\n    for (let i = 0; i \u003c ITERATIONS; i++) {\n      act(() =\u003e {\n        result.current.toggleSelection(i % LARGE_ENTRY_COUNT);\n      });\n    }\n    const elapsed = performance.now() - start;\n    const avgTime = elapsed / ITERATIONS;\n\n    expect(avgTime).toBeLessThan(MAX_TIME_MS);\n  });\n\n  it('handles undo/redo without memory leaks', () =\u003e {\n    const entries = createLargeEntryList(100);\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    act(() =\u003e {\n      result.current.setEntries(entries);\n    });\n\n    // Perform many operations\n    for (let i = 0; i \u003c 1000; i++) {\n      act(() =\u003e {\n        result.current.moveCursor(1);\n        result.current.toggleSelection(i % 100);\n      });\n    }\n\n    // Check undo history is bounded\n    // This would require exposing undo history size or checking memory\n    expect(result.current.canUndo).toBe(true);\n  });\n\n  it('setEntries scales linearly with entry count', () =\u003e {\n    const { result } = renderHook(() =\u003e useBufferState());\n    \n    const times: number[] = [];\n    const sizes = [100, 1000, 5000, 10000];\n    \n    for (const size of sizes) {\n      const entries = createLargeEntryList(size);\n      const start = performance.now();\n      act(() =\u003e {\n        result.current.setEntries(entries);\n      });\n      times.push(performance.now() - start);\n    }\n\n    // Verify roughly linear scaling (10x entries should be ~10x time)\n    const ratio = times[3] / times[0];\n    expect(ratio).toBeLessThan(200); // Allow some variance\n    \n    console.log('setEntries scaling:', sizes.map((s, i) =\u003e `${s}: ${times[i].toFixed(2)}ms`));\n  });\n});\n```\n\n### Step 4: Add Bun Benchmarks (Optional)\nIf using Bun's built-in benchmarking:\n\n```typescript\n// src/hooks/useBufferState.bench.ts\nimport { bench, run } from 'mitata';\n\nbench('cursor movement', () =\u003e {\n  // benchmark implementation\n});\n\nawait run();\n```\n\n## Files to Modify\n- src/hooks/useBufferState.perf.test.ts (replace stubs with real tests)\n\n## Files to Create (Optional)\n- src/hooks/useBufferState.bench.ts (Bun benchmarks)\n\n## Testing\n- Run performance tests: `bun test useBufferState.perf`\n- Verify tests actually fail when performance degrades\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:05.500964-06:00","updated_at":"2025-11-24T22:26:59.625357-06:00","closed_at":"2025-11-24T22:26:59.625357-06:00"}
{"id":"open-s3-b68","title":"Implement multi-pane layout (split view)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:01:09.579393-06:00","updated_at":"2025-11-17T12:16:25.736017-06:00","closed_at":"2025-11-17T12:16:25.736017-06:00"}
{"id":"open-s3-bb5","title":"Create AdapterRegistry system","description":"Registry to manage multiple adapters and switch between them","acceptance_criteria":"- AdapterRegistry class to register adapters\n- getAdapter(name) method\n- Support for mock, s3, and future adapters","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.327922-06:00","updated_at":"2025-11-17T08:58:05.431368-06:00","closed_at":"2025-11-17T08:58:05.431368-06:00","dependencies":[{"issue_id":"open-s3-bb5","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:18.262013-06:00","created_by":"daemon"},{"issue_id":"open-s3-bb5","depends_on_id":"open-s3-w9f","type":"blocks","created_at":"2025-11-15T19:47:18.262862-06:00","created_by":"daemon"}]}
{"id":"open-s3-bet","title":"Fix bucket selection endpoint mismatch","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-16T20:42:34.834192-06:00","updated_at":"2025-11-16T20:43:17.12341-06:00","closed_at":"2025-11-16T20:43:17.12341-06:00"}
{"id":"open-s3-bga","title":"Implement change detection algorithm","description":"Compare original and edited buffer to detect changes","acceptance_criteria":"- Compare entry IDs between states\n- Detect creates (new IDs)\n- Detect deletes (missing IDs)\n- Detect renames (same ID, different name)\n- Detect moves (same ID, different position)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.328568-06:00","updated_at":"2025-11-24T23:08:18.720689-06:00","closed_at":"2025-11-24T23:08:18.720689-06:00","dependencies":[{"issue_id":"open-s3-bga","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:33.119444-06:00","created_by":"daemon"},{"issue_id":"open-s3-bga","depends_on_id":"open-s3-2fk","type":"blocks","created_at":"2025-11-15T19:48:33.12001-06:00","created_by":"daemon"},{"issue_id":"open-s3-bga","depends_on_id":"open-s3-2pd","type":"blocks","created_at":"2025-11-15T19:58:03.139337-06:00","created_by":"daemon"},{"issue_id":"open-s3-bga","depends_on_id":"open-s3-807","type":"blocks","created_at":"2025-11-15T19:58:43.82301-06:00","created_by":"daemon"}]}
{"id":"open-s3-bhb","title":"Add Justfile with basic development commands","description":"Create a Justfile with common development commands for building, running, testing, and managing the project","acceptance_criteria":"- just build: Compile TypeScript\n- just dev: Run in watch mode\n- just run: Execute the application\n- just clean: Remove build artifacts\n- just install: Install dependencies\n- just fmt: Format code (if applicable)\n- just test: Run tests (when available)","notes":"Created Justfile with build, dev, run, clean, install, check, fmt, test, lint, info, quick, reinstall, clean-all commands. All tested and working.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.329194-06:00","updated_at":"2025-11-15T21:40:13.329194-06:00","closed_at":"2025-11-16T02:31:03Z"}
{"id":"open-s3-bod","title":"Operations \u0026 Change Tracking","description":"Implement change tracking, operation planning, and execution system","design":"Track buffer edits, detect creates/deletes/moves/copies, generate operation plan, show confirmation, execute on save.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.329776-06:00","updated_at":"2025-11-17T09:19:34.569936-06:00","closed_at":"2025-11-17T09:19:34.569936-06:00"}
{"id":"open-s3-bqd","title":"Implement actions menu with 'g?'","description":"Show available actions in floating window","acceptance_criteria":"- g? shows actions menu\n- List all available keybindings\n- Grouped by category\n- Searchable/filterable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.330381-06:00","updated_at":"2025-11-17T09:24:43.434601-06:00","closed_at":"2025-11-17T09:24:43.434601-06:00","dependencies":[{"issue_id":"open-s3-bqd","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:00.042631-06:00","created_by":"daemon"}]}
{"id":"open-s3-bsr","title":"Migrate s3-explorer.tsx to use useKeyboardDispatcher","description":"Migrate s3-explorer.tsx from the current monolithic keyboard handler to the new action-based useKeyboardDispatcher system.\n\n## Current State\nThe keyboard handling infrastructure is complete:\n- useKeyboardDispatcher hook with action registration\n- keybindingDefaults.ts with key-to-action mappings\n- KeyAction type with semantic identifiers\n\n## Work Required\n1. Replace the large keyboardHandlerCallback in s3-explorer.tsx with action registrations\n2. Use registerActions() to wire up handlers for each action\n3. Remove dependency on useKeyboardEvents.ts for normal mode handling\n4. Keep useKeyboardEvents.ts for complex mode-specific logic (insert, edit, command modes) or migrate that too\n\n## Benefits\n- Cleaner separation of keybinding definitions from handlers\n- Easier to add/modify keybindings\n- Better testability\n- Single source of truth for keyboard handling\n\n## Dependencies\n- Depends on completed useKeyboardDispatcher infrastructure (done)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T23:56:09.642046-06:00","updated_at":"2025-11-25T00:03:08.016956-06:00","closed_at":"2025-11-25T00:03:08.016956-06:00","dependencies":[{"issue_id":"open-s3-bsr","depends_on_id":"open-s3-ouy","type":"blocks","created_at":"2025-11-24T23:56:09.644933-06:00","created_by":"daemon"}]}
{"id":"open-s3-btn","title":"S3 Buckets as Root View","description":"Transform the starting point of the application to display a list of all S3 buckets in the account as the root view, allowing users to navigate into specific buckets. This replaces the current requirement to specify a bucket upfront and enables bucket discovery and switching.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-16T20:32:45.980872-06:00","updated_at":"2025-11-17T09:15:18.025994-06:00","closed_at":"2025-11-17T09:15:18.025994-06:00","dependencies":[{"issue_id":"open-s3-btn","depends_on_id":"open-s3-0uy","type":"blocks","created_at":"2025-11-16T20:33:02.025102-06:00","created_by":"daemon"},{"issue_id":"open-s3-btn","depends_on_id":"open-s3-1uh","type":"blocks","created_at":"2025-11-16T20:33:02.07478-06:00","created_by":"daemon"},{"issue_id":"open-s3-btn","depends_on_id":"open-s3-725","type":"blocks","created_at":"2025-11-16T20:33:02.125888-06:00","created_by":"daemon"}]}
{"id":"open-s3-btp","title":"Implement copy operations (yy/p)","description":"Copy and paste entries","acceptance_criteria":"- yy yanks entry to clipboard\n- p pastes at cursor\n- Works with visual selection\n- Shows pending copy operation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.330902-06:00","updated_at":"2025-11-17T09:24:20.531945-06:00","closed_at":"2025-11-17T09:24:20.531945-06:00","dependencies":[{"issue_id":"open-s3-btp","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:50.361339-06:00","created_by":"daemon"}]}
{"id":"open-s3-c2w","title":"Fix: Capital D must be pressed twice to open download dialog","description":"","notes":"Fixed - Capital D now detected on single press","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-17T19:24:32.160552-06:00","updated_at":"2025-11-17T19:27:46.22392-06:00","closed_at":"2025-11-17T19:27:46.223926-06:00"}
{"id":"open-s3-ca3","title":"Install OpenTUI and core dependencies","description":"Add opentui, AWS SDK v3, and other core dependencies","acceptance_criteria":"- opentui installed\n- @aws-sdk/client-s3 installed\n- TypeScript and dev dependencies installed","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.331479-06:00","updated_at":"2025-11-15T22:48:38.427914-06:00","closed_at":"2025-11-15T21:43:26.098508-06:00","dependencies":[{"issue_id":"open-s3-ca3","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:46:55.936215-06:00","created_by":"daemon"},{"issue_id":"open-s3-ca3","depends_on_id":"open-s3-4op","type":"blocks","created_at":"2025-11-15T19:57:38.190904-06:00","created_by":"daemon"}]}
{"id":"open-s3-cac","title":"Create BaseDialog component abstraction","description":"## Problem\nThe codebase has 6 dialog components that each implement their own:\n- Positioning and centering logic\n- Border/box styling\n- Keyboard event handling\n- Focus management\n\nThis leads to inconsistent dialog behavior and duplicated code.\n\n## Implementation Plan\n\n### Step 1: Analyze Existing Dialogs\nCurrent dialogs:\n- ConfirmationDialog - Yes/No prompts\n- HelpDialog - Keybinding help\n- ErrorDialog - Error messages\n- ProgressWindow - Operation progress\n- UploadDialog - File upload form\n- SortMenu - Sort options menu\n\n### Step 2: Design BaseDialog Component\n```typescript\n// src/ui/base-dialog-react.tsx\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface BaseDialogProps {\n  visible: boolean;\n  title?: string;\n  width?: number | string;\n  height?: number | string;\n  onClose?: () =\u003e void;\n  children: ReactNode;\n  footer?: ReactNode;\n  borderColor?: string;\n  // Keyboard handling delegated to parent or useKeyboardHandler\n}\n\nexport function BaseDialog({\n  visible,\n  title,\n  width = 60,\n  height,\n  onClose,\n  children,\n  footer,\n  borderColor = 'blue',\n}: BaseDialogProps) {\n  if (!visible) return null;\n  \n  return (\n    \u003cBox\n      position=\"absolute\"\n      top=\"50%\"\n      left=\"50%\"\n      transform=\"translate(-50%, -50%)\"\n      width={width}\n      height={height}\n      borderStyle=\"round\"\n      borderColor={borderColor}\n      flexDirection=\"column\"\n    \u003e\n      {title \u0026\u0026 (\n        \u003cBox borderBottom borderColor={borderColor} paddingX={1}\u003e\n          \u003cText bold\u003e{title}\u003c/Text\u003e\n        \u003c/Box\u003e\n      )}\n      \n      \u003cBox flexGrow={1} padding={1}\u003e\n        {children}\n      \u003c/Box\u003e\n      \n      {footer \u0026\u0026 (\n        \u003cBox borderTop borderColor={borderColor} paddingX={1}\u003e\n          {footer}\n        \u003c/Box\u003e\n      )}\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 3: Create Dialog Variants\n```typescript\n// Confirmation variant\nexport function ConfirmDialog({ \n  visible, \n  title, \n  message, \n  onConfirm, \n  onCancel \n}: ConfirmDialogProps) {\n  return (\n    \u003cBaseDialog\n      visible={visible}\n      title={title}\n      width={50}\n      onClose={onCancel}\n      footer={\n        \u003cBox justifyContent=\"space-between\"\u003e\n          \u003cText\u003e[Y]es\u003c/Text\u003e\n          \u003cText\u003e[N]o\u003c/Text\u003e\n        \u003c/Box\u003e\n      }\n    \u003e\n      \u003cText\u003e{message}\u003c/Text\u003e\n    \u003c/BaseDialog\u003e\n  );\n}\n\n// Error variant\nexport function ErrorDialog({ visible, message, onClose }: ErrorDialogProps) {\n  return (\n    \u003cBaseDialog\n      visible={visible}\n      title=\"Error\"\n      borderColor=\"red\"\n      onClose={onClose}\n      footer={\u003cText dimColor\u003ePress ESC to close\u003c/Text\u003e}\n    \u003e\n      \u003cText color=\"red\"\u003e{message}\u003c/Text\u003e\n    \u003c/BaseDialog\u003e\n  );\n}\n```\n\n### Step 4: Migrate Existing Dialogs\nFor each existing dialog:\n1. Identify unique functionality\n2. Refactor to use BaseDialog\n3. Move unique logic to content/footer sections\n4. Update tests\n\n### Step 5: Add Overlay Support\n```typescript\nexport function DialogOverlay({ children }: { children: ReactNode }) {\n  return (\n    \u003cBox\n      position=\"absolute\"\n      top={0}\n      left={0}\n      width=\"100%\"\n      height=\"100%\"\n      backgroundColor=\"rgba(0,0,0,0.5)\"\n    \u003e\n      {children}\n    \u003c/Box\u003e\n  );\n}\n```\n\n## Files to Create\n- src/ui/base-dialog-react.tsx\n- src/ui/base-dialog-react.test.tsx\n\n## Files to Modify\n- src/ui/confirmation-dialog-react.tsx\n- src/ui/error-dialog-react.tsx\n- src/ui/help-dialog-react.tsx\n- src/ui/upload-dialog-react.tsx\n- src/ui/sort-menu-react.tsx\n- src/ui/progress-window-react.tsx\n\n## Benefits\n- Consistent dialog appearance\n- Centralized positioning logic\n- Easier to add new dialog types\n- Reduced code duplication\n\n## Estimated Effort: 2 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:02.712384-06:00","updated_at":"2025-11-24T22:16:27.103118-06:00","closed_at":"2025-11-24T22:16:27.103118-06:00","dependencies":[{"issue_id":"open-s3-cac","depends_on_id":"open-s3-mdc","type":"blocks","created_at":"2025-11-24T18:07:00.617222-06:00","created_by":"daemon"}]}
{"id":"open-s3-cad","title":"Implement ACL and permissions viewer","description":"View and edit S3 object ACLs","acceptance_criteria":"- 'A' shows ACL viewer\n- Display current permissions\n- Edit ACLs (public-read, private, etc)\n- Show bucket policies","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.331991-06:00","updated_at":"2025-11-15T21:40:13.331991-06:00","dependencies":[{"issue_id":"open-s3-cad","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:33.427012-06:00","created_by":"daemon"}]}
{"id":"open-s3-cd4","title":"Extract list operations from S3Adapter to dedicated module","description":"## Problem\nS3Adapter is ~1017 lines, making it harder to maintain and test. The list() method (lines 217-303) and listBuckets() method (lines 308-367) contain significant logic that can be extracted.\n\n## Implementation Plan\n\n### Step 1: Create list-operations.ts module\nCreate `src/adapters/s3/list-operations.ts` with:\n\n```typescript\n// Types\ninterface ListObjectsOptions {\n  client: S3Client;\n  bucket: string;\n  prefix: string;\n  delimiter?: string;\n  maxKeys?: number;\n  continuationToken?: string;\n  logger?: S3AdapterLogger;\n}\n\ninterface ListObjectsResult {\n  entries: Entry[];\n  continuationToken?: string;\n  hasMore: boolean;\n}\n\ninterface ListBucketsOptions {\n  client: S3Client;\n  logger?: S3AdapterLogger;\n}\n\n// Functions to extract\nexport async function listObjects(options: ListObjectsOptions): Promise\u003cListObjectsResult\u003e\nexport async function listBuckets(options: ListBucketsOptions): Promise\u003cBucketInfo[]\u003e\n```\n\n### Step 2: Extract list() logic\nMove lines 217-303 from s3-adapter.ts:\n- ListObjectsV2Command construction\n- Response parsing (CommonPrefixes, Contents)\n- Entry creation using parseCommonPrefixToEntry, parseS3ObjectToEntry\n- Sorting logic\n\n### Step 3: Extract listBuckets() logic  \nMove lines 308-367 from s3-adapter.ts:\n- ListBucketsCommand\n- GetBucketLocationCommand for each bucket\n- BucketInfo construction\n- Sorting by creation date\n\n### Step 4: Update S3Adapter\nReplace inline implementations with calls to extracted functions:\n```typescript\nasync list(path: string, options?: ListOptions): Promise\u003cListResult\u003e {\n  return listObjects({\n    client: this.client,\n    bucket: this.bucket!,\n    prefix: this.normalizePath(path, true),\n    delimiter: '/',\n    maxKeys: options?.limit,\n    continuationToken: options?.continuationToken,\n    logger: this.logger,\n  });\n}\n```\n\n### Step 5: Create tests\nCreate `src/adapters/s3/list-operations.test.ts`:\n- Test listObjects with mock S3Client\n- Test listBuckets with mock responses\n- Test pagination handling\n- Test error cases\n\n## Files to Create\n- src/adapters/s3/list-operations.ts\n- src/adapters/s3/list-operations.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce by ~150 lines)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- S3Adapter reduced from ~1017 to ~870 lines\n- List logic independently testable\n- Consistent with other extracted modules (copy-operations, move-operations)\n\n## Effort Estimate\nMedium (2-3 hours)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:31:29.909620225-06:00","updated_at":"2025-11-25T15:58:35.538492912-06:00","closed_at":"2025-11-25T15:58:35.538492912-06:00","dependencies":[{"issue_id":"open-s3-cd4","depends_on_id":"open-s3-zjz","type":"blocks","created_at":"2025-11-25T14:31:58.000265808-06:00","created_by":"daemon"}]}
{"id":"open-s3-cdb","title":"Update navigation handlers for bucket selection","description":"Modify useNavigationHandlers hook to handle 'opening' (Enter key) a bucket entry, which switches the adapter's context to that bucket and loads its contents.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.58219-06:00","updated_at":"2025-11-17T09:12:21.109412-06:00","closed_at":"2025-11-17T09:12:21.109412-06:00","dependencies":[{"issue_id":"open-s3-cdb","depends_on_id":"open-s3-i9v","type":"blocks","created_at":"2025-11-16T20:33:02.419478-06:00","created_by":"daemon"}]}
{"id":"open-s3-cub","title":"Create integration tests with LocalStack","description":"E2E tests using LocalStack for S3 simulation","acceptance_criteria":"- LocalStack setup in docker-compose\n- Integration test suite\n- Test full workflows (browse, create, delete, copy)\n- CI/CD pipeline integration","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.332575-06:00","updated_at":"2025-11-15T21:40:13.332575-06:00","dependencies":[{"issue_id":"open-s3-cub","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:53.399706-06:00","created_by":"daemon"}]}
{"id":"open-s3-de3","title":"Help window empty - text rendering outside window bounds","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-17T09:28:14.508827-06:00","updated_at":"2025-11-17T09:41:56.248097-06:00","closed_at":"2025-11-17T09:41:56.248097-06:00"}
{"id":"open-s3-dss","title":"Standardize logging - replace console.error with logger","description":"Inconsistent error logging in adapter layer - some methods use console.error while others use logger. Audit s3-adapter.ts and sub-modules for console.* usage. Replace with structured logger calls including operation context. Improves debugging and log aggregation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T13:44:23.161471911-06:00","updated_at":"2025-11-25T13:44:54.923612478-06:00","dependencies":[{"issue_id":"open-s3-dss","depends_on_id":"open-s3-90u","type":"blocks","created_at":"2025-11-25T13:45:38.839258695-06:00","created_by":"daemon"}]}
{"id":"open-s3-dx4","title":"Add missing hook tests for useKeyboardEvents and useMultiPaneLayout","description":"## Problem\nCritical hooks lack dedicated test coverage:\n- useKeyboardEvents.ts (496 lines) - No tests\n- useMultiPaneLayout.ts - No tests\n- useNavigationHandlers.ts - Only 1 test file, likely incomplete\n\nThese hooks handle core functionality (keyboard input, layout, navigation) and changes could break the application silently.\n\n## Implementation Plan\n\n### Step 1: Create useKeyboardEvents Tests\n```typescript\n// src/hooks/useKeyboardEvents.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useKeyboardEvents } from './useKeyboardEvents';\nimport { EditMode } from '../types/edit-mode';\n\ndescribe('useKeyboardEvents', () =\u003e {\n  const mockBufferState = {\n    mode: EditMode.Normal,\n    cursor: 0,\n    entries: [{ id: '1', name: 'file.txt' }],\n    selection: new Set\u003cstring\u003e(),\n    // ... other required state\n  };\n\n  describe('Normal mode', () =\u003e {\n    it('handles j key for cursor down', () =\u003e {\n      const onCursorMove = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onCursorMove,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'j' });\n      });\n      \n      expect(onCursorMove).toHaveBeenCalledWith(1);\n    });\n\n    it('handles k key for cursor up', () =\u003e {\n      const onCursorMove = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, cursor: 1 },\n          onCursorMove,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'k' });\n      });\n      \n      expect(onCursorMove).toHaveBeenCalledWith(-1);\n    });\n\n    it('handles gg for jump to top', () =\u003e {\n      const onJumpTo = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onJumpTo,\n        })\n      );\n      \n      // First g\n      act(() =\u003e {\n        result.current.handleKey({ name: 'g' });\n      });\n      // Second g\n      act(() =\u003e {\n        result.current.handleKey({ name: 'g' });\n      });\n      \n      expect(onJumpTo).toHaveBeenCalledWith(0);\n    });\n\n    it('handles G for jump to bottom', () =\u003e {\n      const onJumpTo = jest.fn();\n      const entries = Array(10).fill({ id: '1', name: 'file.txt' });\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, entries },\n          onJumpTo,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'G', shift: true });\n      });\n      \n      expect(onJumpTo).toHaveBeenCalledWith(9);\n    });\n\n    it('handles space for selection toggle', () =\u003e {\n      const onToggleSelection = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: mockBufferState,\n          onToggleSelection,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'space' });\n      });\n      \n      expect(onToggleSelection).toHaveBeenCalled();\n    });\n  });\n\n  describe('Visual mode', () =\u003e {\n    it('extends selection on cursor movement', () =\u003e {\n      const onExtendSelection = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Visual },\n          onExtendSelection,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'j' });\n      });\n      \n      expect(onExtendSelection).toHaveBeenCalled();\n    });\n\n    it('exits visual mode on escape', () =\u003e {\n      const onModeChange = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Visual },\n          onModeChange,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'escape' });\n      });\n      \n      expect(onModeChange).toHaveBeenCalledWith(EditMode.Normal);\n    });\n  });\n\n  describe('Search mode', () =\u003e {\n    it('adds characters to search query', () =\u003e {\n      const onSearchInput = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Search },\n          onSearchInput,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'a' });\n        result.current.handleKey({ name: 'b' });\n        result.current.handleKey({ name: 'c' });\n      });\n      \n      expect(onSearchInput).toHaveBeenCalledTimes(3);\n    });\n\n    it('exits search on escape', () =\u003e {\n      const onModeChange = jest.fn();\n      const { result } = renderHook(() =\u003e \n        useKeyboardEvents({\n          bufferState: { ...mockBufferState, mode: EditMode.Search },\n          onModeChange,\n        })\n      );\n      \n      act(() =\u003e {\n        result.current.handleKey({ name: 'escape' });\n      });\n      \n      expect(onModeChange).toHaveBeenCalledWith(EditMode.Normal);\n    });\n  });\n});\n```\n\n### Step 2: Create useMultiPaneLayout Tests\n```typescript\n// src/hooks/useMultiPaneLayout.test.ts\nimport { renderHook, act } from '@testing-library/react-hooks';\nimport { useMultiPaneLayout } from './useMultiPaneLayout';\n\ndescribe('useMultiPaneLayout', () =\u003e {\n  it('starts with single pane', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    expect(result.current.panes).toHaveLength(1);\n    expect(result.current.activePane).toBe(0);\n  });\n\n  it('splits horizontally', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    expect(result.current.panes).toHaveLength(2);\n  });\n\n  it('splits vertically', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitVertical();\n    });\n    \n    expect(result.current.panes).toHaveLength(2);\n  });\n\n  it('navigates between panes', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    act(() =\u003e {\n      result.current.focusPane(1);\n    });\n    \n    expect(result.current.activePane).toBe(1);\n  });\n\n  it('closes pane and adjusts focus', () =\u003e {\n    const { result } = renderHook(() =\u003e useMultiPaneLayout());\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n      result.current.focusPane(1);\n    });\n    \n    act(() =\u003e {\n      result.current.closePane(1);\n    });\n    \n    expect(result.current.panes).toHaveLength(1);\n    expect(result.current.activePane).toBe(0);\n  });\n\n  it('calculates pane dimensions correctly', () =\u003e {\n    const { result } = renderHook(() =\u003e \n      useMultiPaneLayout({ width: 100, height: 50 })\n    );\n    \n    act(() =\u003e {\n      result.current.splitHorizontal();\n    });\n    \n    // Each pane should be roughly half width\n    expect(result.current.getPaneDimensions(0).width).toBe(50);\n    expect(result.current.getPaneDimensions(1).width).toBe(50);\n  });\n});\n```\n\n### Step 3: Expand useNavigationHandlers Tests\nReview existing tests and add missing coverage for:\n- Directory navigation (enter/back)\n- Bucket switching\n- Path history (forward/back)\n- Error handling\n\n## Files to Create\n- src/hooks/useKeyboardEvents.test.ts\n- src/hooks/useMultiPaneLayout.test.ts\n\n## Files to Modify\n- src/hooks/useNavigationHandlers.test.ts (expand coverage)\n\n## Testing\n- Run: `bun test hooks`\n- Check coverage: `bun test --coverage`\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:06.23211-06:00","updated_at":"2025-11-24T22:43:01.22747-06:00","closed_at":"2025-11-24T22:43:01.22747-06:00"}
{"id":"open-s3-dxi","title":"Add file preview pane for text/image files","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:01:09.970316-06:00","updated_at":"2025-11-17T13:22:43.497176-06:00","closed_at":"2025-11-17T13:22:43.497176-06:00"}
{"id":"open-s3-e0x","title":"Add command palette with ':'","description":"Command input for advanced operations","acceptance_criteria":"- : opens command palette\n- Support :w (save), :q (quit), :cd (change directory)\n- Tab completion for commands\n- Command history with up/down arrows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.333142-06:00","updated_at":"2025-11-17T09:25:01.105729-06:00","closed_at":"2025-11-17T09:25:01.105729-06:00","dependencies":[{"issue_id":"open-s3-e0x","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:12.133899-06:00","created_by":"daemon"}]}
{"id":"open-s3-e2s","title":"Add gg/G motions for top/bottom","description":"Jump to top with gg, bottom with G","acceptance_criteria":"- gg moves to first entry\n- G moves to last entry\n- Works in normal mode","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.333901-06:00","updated_at":"2025-11-17T08:58:12.107842-06:00","closed_at":"2025-11-17T08:58:12.107842-06:00","dependencies":[{"issue_id":"open-s3-e2s","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:16.67173-06:00","created_by":"daemon"}]}
{"id":"open-s3-e57","title":"Implement sorting controls","description":"Sort entries by name, size, date, type","acceptance_criteria":"- 'o' opens sort menu\n- Sort by name, size, modified date, type\n- Ascending/descending toggle\n- Remember sort preference","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.334503-06:00","updated_at":"2025-11-17T19:44:31.278038-06:00","closed_at":"2025-11-17T19:44:31.278038-06:00","dependencies":[{"issue_id":"open-s3-e57","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:06.204052-06:00","created_by":"daemon"}]}
{"id":"open-s3-ej6","title":"Consolidate progress state into useProgressState reducer hook","description":"## Problem\ns3-explorer.tsx has 8 separate useState calls for progress tracking:\n\n```typescript\nconst [showProgress, setShowProgress] = useState(false);\nconst [progressTitle, setProgressTitle] = useState('...');\nconst [progressDescription, setProgressDescription] = useState('...');\nconst [progressValue, setProgressValue] = useState(0);\nconst [progressCurrentFile, setProgressCurrentFile] = useState('');\nconst [progressCurrentNum, setProgressCurrentNum] = useState(0);\nconst [progressTotalNum, setProgressTotalNum] = useState(0);\nconst [progressCancellable, setProgressCancellable] = useState(true);\n```\n\nThis creates fragmented state updates and makes progress management error-prone.\n\n## Implementation Plan\n\n### Step 1: Define Progress State Types\n```typescript\n// src/types/progress.ts\nexport interface ProgressState {\n  visible: boolean;\n  title: string;\n  description: string;\n  value: number;           // 0-100 percentage\n  currentFile: string;\n  currentNum: number;\n  totalNum: number;\n  cancellable: boolean;\n  cancelled: boolean;\n}\n\nexport type ProgressAction =\n  | { type: 'SHOW'; payload: Partial\u003cProgressState\u003e }\n  | { type: 'UPDATE'; payload: Partial\u003cProgressState\u003e }\n  | { type: 'SET_FILE'; payload: { file: string; num: number } }\n  | { type: 'INCREMENT' }\n  | { type: 'CANCEL' }\n  | { type: 'HIDE' }\n  | { type: 'RESET' };\n```\n\n### Step 2: Create Progress Reducer\n```typescript\n// src/hooks/useProgressState.ts\nconst initialState: ProgressState = {\n  visible: false,\n  title: '',\n  description: '',\n  value: 0,\n  currentFile: '',\n  currentNum: 0,\n  totalNum: 0,\n  cancellable: true,\n  cancelled: false,\n};\n\nfunction progressReducer(state: ProgressState, action: ProgressAction): ProgressState {\n  switch (action.type) {\n    case 'SHOW':\n      return { ...initialState, visible: true, ...action.payload };\n    case 'UPDATE':\n      return { ...state, ...action.payload };\n    case 'SET_FILE':\n      return { \n        ...state, \n        currentFile: action.payload.file,\n        currentNum: action.payload.num,\n        value: state.totalNum \u003e 0 ? (action.payload.num / state.totalNum) * 100 : 0\n      };\n    case 'INCREMENT':\n      const newNum = state.currentNum + 1;\n      return {\n        ...state,\n        currentNum: newNum,\n        value: state.totalNum \u003e 0 ? (newNum / state.totalNum) * 100 : 0\n      };\n    case 'CANCEL':\n      return { ...state, cancelled: true };\n    case 'HIDE':\n      return { ...state, visible: false };\n    case 'RESET':\n      return initialState;\n    default:\n      return state;\n  }\n}\n```\n\n### Step 3: Create Hook with Helper Functions\n```typescript\nexport function useProgressState() {\n  const [state, dispatch] = useReducer(progressReducer, initialState);\n  \n  const showProgress = useCallback((options: {\n    title: string;\n    description?: string;\n    totalNum?: number;\n    cancellable?: boolean;\n  }) =\u003e {\n    dispatch({ type: 'SHOW', payload: options });\n  }, []);\n  \n  const updateFile = useCallback((file: string, num: number) =\u003e {\n    dispatch({ type: 'SET_FILE', payload: { file, num } });\n  }, []);\n  \n  const hideProgress = useCallback(() =\u003e {\n    dispatch({ type: 'HIDE' });\n  }, []);\n  \n  const cancelOperation = useCallback(() =\u003e {\n    dispatch({ type: 'CANCEL' });\n  }, []);\n  \n  return {\n    progress: state,\n    showProgress,\n    updateFile,\n    hideProgress,\n    cancelOperation,\n    dispatch,\n  };\n}\n```\n\n### Step 4: Update s3-explorer.tsx\nReplace 8 useState calls with single hook:\n\n```typescript\n// Before: 8 useState calls\n// After:\nconst { progress, showProgress, updateFile, hideProgress, cancelOperation } = useProgressState();\n```\n\n## Files to Create\n- src/types/progress.ts\n- src/hooks/useProgressState.ts\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (remove 8 useState, add hook import)\n\n## Testing\n- Unit tests for reducer (all action types)\n- Unit tests for hook helper functions\n- Integration test for progress flow\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:00.618708-06:00","updated_at":"2025-11-24T21:45:42.986925-06:00","closed_at":"2025-11-24T21:45:42.986925-06:00","dependencies":[{"issue_id":"open-s3-ej6","depends_on_id":"open-s3-mdc","type":"blocks","created_at":"2025-11-24T18:06:59.122518-06:00","created_by":"daemon"}]}
{"id":"open-s3-f3t","title":"Implement progress tracking for S3 operations","description":"Track upload/download progress for large operations","acceptance_criteria":"- Progress events for multipart uploads\n- Progress callbacks for long-running ops\n- Bytes transferred tracking","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.33512-06:00","updated_at":"2025-11-17T09:05:01.77409-06:00","closed_at":"2025-11-17T09:05:01.77409-06:00","dependencies":[{"issue_id":"open-s3-f3t","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:42.61394-06:00","created_by":"daemon"}]}
{"id":"open-s3-f5m","title":"Segregate Adapter interface into focused interfaces","description":"Current Adapter interface violates Interface Segregation Principle by mixing generic storage ops with S3-specific optional methods (?). Split into hierarchy: StorageAdapter  MutableStorageAdapter  TransferableStorageAdapter  BucketAwareAdapter. Add type guards for interface discrimination. Enables cleaner contracts and proper typing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:44:22.131795524-06:00","updated_at":"2025-11-25T13:57:35.279914511-06:00","closed_at":"2025-11-25T13:57:35.279914511-06:00","dependencies":[{"issue_id":"open-s3-f5m","depends_on_id":"open-s3-90u","type":"blocks","created_at":"2025-11-25T13:45:37.147159023-06:00","created_by":"daemon"}]}
{"id":"open-s3-f7s","title":"Add focus management for preview pane","description":"The preview pane currently has no focus mechanism. It's display-only with no way to receive keyboard input.\n\nRequired for preview pane scrolling (open-s3-mwu):\n- Add focus state to track when preview pane is active vs file list\n- Add keybinding to toggle focus between file list and preview (e.g., Tab or Ctrl+w)\n- Visual indicator when preview pane has focus (e.g., border color change)\n- Ensure keyboard events route to the correct component based on focus\n\nThis is a prerequisite for implementing scrolling within the preview pane.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T12:50:38.320416534-06:00","updated_at":"2025-11-25T12:50:38.320416534-06:00","dependencies":[{"issue_id":"open-s3-f7s","depends_on_id":"open-s3-mwu","type":"blocks","created_at":"2025-11-25T12:50:41.574573267-06:00","created_by":"daemon"}]}
{"id":"open-s3-ffh","title":"Implement S3Adapter.move() method","description":"Move/rename objects in S3 (copy + delete)","acceptance_criteria":"- CopyObject to new location\n- DeleteObject from old location\n- Handle directory moves recursively\n- Preserve metadata during move","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.335756-06:00","updated_at":"2025-11-17T08:58:17.327837-06:00","closed_at":"2025-11-17T08:58:17.327837-06:00","dependencies":[{"issue_id":"open-s3-ffh","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:36.689681-06:00","created_by":"daemon"},{"issue_id":"open-s3-ffh","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:36.690249-06:00","created_by":"daemon"},{"issue_id":"open-s3-ffh","depends_on_id":"open-s3-ret","type":"related","created_at":"2025-11-15T19:59:06.666307-06:00","created_by":"daemon"}]}
{"id":"open-s3-fi2","title":"Testing \u0026 Documentation","description":"Unit tests, integration tests, and user documentation","design":"Comprehensive testing strategy including adapter tests, UI tests, and E2E tests. User documentation with examples and configuration guides.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-11-15T21:40:13.33747-06:00","updated_at":"2025-11-17T09:16:57.682273-06:00"}
{"id":"open-s3-gnm","title":"Write change detection tests","description":"Test operation planning and change detection logic","acceptance_criteria":"- Test create/delete/move/copy detection\n- Test edge cases (same name different location)\n- Test operation ordering","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.338216-06:00","updated_at":"2025-11-15T21:40:13.338216-06:00","dependencies":[{"issue_id":"open-s3-gnm","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:46.923009-06:00","created_by":"daemon"},{"issue_id":"open-s3-gnm","depends_on_id":"open-s3-bga","type":"blocks","created_at":"2025-11-15T19:49:46.923482-06:00","created_by":"daemon"},{"issue_id":"open-s3-gnm","depends_on_id":"open-s3-fi2","type":"parent-child","created_at":"2025-11-15T19:58:57.049971-06:00","created_by":"daemon"}]}
{"id":"open-s3-hi6","title":"Add root view unit tests","description":"Write tests for bucket listing, metadata retrieval, bucket switching, and root navigation. Test with MockAdapter and S3Adapter.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.716914-06:00","updated_at":"2025-11-17T09:00:39.166748-06:00","closed_at":"2025-11-17T09:00:39.166748-06:00","dependencies":[{"issue_id":"open-s3-hi6","depends_on_id":"open-s3-b0r","type":"blocks","created_at":"2025-11-16T20:33:02.564715-06:00","created_by":"daemon"}]}
{"id":"open-s3-hn3","title":"Define error handling types","description":"Create custom error types for adapter operations","acceptance_criteria":"- AdapterError base class\n- NotFoundError, PermissionError, NetworkError subclasses\n- Error serialization for display","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.3388-06:00","updated_at":"2025-11-17T08:58:26.34385-06:00","closed_at":"2025-11-17T08:58:26.34385-06:00","dependencies":[{"issue_id":"open-s3-hn3","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:20.191434-06:00","created_by":"daemon"}]}
{"id":"open-s3-i9v","title":"Implement bucket context navigation (back to root)","description":"Allow pressing 'h' or Backspace from inside a bucket to go back to the root bucket listing. Implement breadcrumb navigation up the hierarchy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.67319-06:00","updated_at":"2025-11-17T09:09:13.402753-06:00","closed_at":"2025-11-17T09:09:13.402753-06:00","dependencies":[{"issue_id":"open-s3-i9v","depends_on_id":"open-s3-hi6","type":"blocks","created_at":"2025-11-16T20:33:02.517154-06:00","created_by":"daemon"}]}
{"id":"open-s3-ii1","title":"Alert user about pending changes when quitting","description":"When user presses 'q' to quit, check if there are entries marked for deletion (or other pending changes). If so, show a confirmation dialog warning about unsaved changes before exiting. This prevents accidentally losing work.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-24T23:30:45.851219-06:00","updated_at":"2025-11-25T14:26:00.643564148-06:00","closed_at":"2025-11-25T14:26:00.643564148-06:00"}
{"id":"open-s3-ike","title":"Lowercase 'u' should not trigger upload dialog, only uppercase 'U'","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-17T21:45:04.033316-06:00","updated_at":"2025-11-17T21:51:06.234321-06:00","closed_at":"2025-11-17T21:51:06.234321-06:00"}
{"id":"open-s3-j39","title":"Research OpenTUI docs for proper dialog/box content rendering","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-17T09:35:35.361919-06:00","updated_at":"2025-11-17T09:37:15.964019-06:00","closed_at":"2025-11-17T09:37:15.964019-06:00"}
{"id":"open-s3-jv7","title":"Add syntax highlighting for entry types","description":"Color code directories, files, and special entries","acceptance_criteria":"- Directories shown in blue/bold\n- Files shown in default color\n- Cursor line highlighted\n- Selection shown with different background","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.339349-06:00","updated_at":"2025-11-17T08:58:36.299938-06:00","closed_at":"2025-11-17T08:58:36.299938-06:00","dependencies":[{"issue_id":"open-s3-jv7","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:48:00.721695-06:00","created_by":"daemon"},{"issue_id":"open-s3-jv7","depends_on_id":"open-s3-0sv","type":"blocks","created_at":"2025-11-15T19:58:21.730483-06:00","created_by":"daemon"}]}
{"id":"open-s3-l6s","title":"Implement lazy MockAdapter registration in registry","description":"MockAdapter is always instantiated in AdapterRegistry constructor even in production. Add factories Map alongside adapters Map. Register factory for mock adapter, instantiate lazily on first getAdapter('mock') call. Minor optimization to avoid unnecessary object creation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T13:44:22.792070961-06:00","updated_at":"2025-11-25T16:03:08.866098418-06:00","closed_at":"2025-11-25T16:03:08.866098418-06:00","dependencies":[{"issue_id":"open-s3-l6s","depends_on_id":"open-s3-8qx","type":"blocks","created_at":"2025-11-25T13:45:38.27476971-06:00","created_by":"daemon"}]}
{"id":"open-s3-lsw","title":"Add refresh/reload functionality with 'r' keybind for current bucket or folder","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:44:43.774466-06:00","updated_at":"2025-11-17T21:47:47.23791-06:00","closed_at":"2025-11-17T21:47:47.237914-06:00"}
{"id":"open-s3-mdc","title":"Split s3-explorer.tsx god component into focused components","description":"## Problem\ns3-explorer.tsx is 1132 lines and handles too many concerns:\n- 20+ useState calls\n- All dialog state management\n- Progress tracking\n- Navigation logic\n- Operation execution\n- Keyboard dispatch registration\n\nThis god component violates single responsibility principle and makes the codebase hard to maintain.\n\n## Implementation Plan\n\n### Step 1: Create S3ExplorerContainer (4-6 hours)\nExtract state management into a container component:\n\n```typescript\n// src/ui/s3-explorer-container.tsx\nexport function S3ExplorerContainer({ adapter, initialBucket, initialPath }: Props) {\n  // Move all useState calls here\n  // Use new useDialogState and useProgressState hooks\n  // Pass state down to layout component\n  return \u003cS3ExplorerLayout {...state} {...handlers} /\u003e\n}\n```\n\n### Step 2: Create S3ExplorerLayout (~150 lines)\nPure presentational component:\n\n```typescript\n// src/ui/s3-explorer-layout.tsx\nexport function S3ExplorerLayout({ \n  bufferState, \n  dialogs, \n  progress,\n  onNavigate,\n  onOperation \n}: Props) {\n  return (\n    \u003cBox flexDirection=\"column\"\u003e\n      \u003cHeader ... /\u003e\n      \u003cPane ... /\u003e\n      \u003cStatusBar ... /\u003e\n    \u003c/Box\u003e\n  )\n}\n```\n\n### Step 3: Create S3ExplorerDialogs (~100 lines)\nDialog orchestration component:\n\n```typescript\n// src/ui/s3-explorer-dialogs.tsx\nexport function S3ExplorerDialogs({ state, dispatch }: Props) {\n  return (\n    \u003c\u003e\n      {state.confirm.visible \u0026\u0026 \u003cConfirmationDialog ... /\u003e}\n      {state.help.visible \u0026\u0026 \u003cHelpDialog ... /\u003e}\n      {state.error.visible \u0026\u0026 \u003cErrorDialog ... /\u003e}\n      {state.upload.visible \u0026\u0026 \u003cUploadDialog ... /\u003e}\n      {state.sort.visible \u0026\u0026 \u003cSortMenu ... /\u003e}\n      {state.progress.visible \u0026\u0026 \u003cProgressWindow ... /\u003e}\n    \u003c/\u003e\n  )\n}\n```\n\n### Step 4: Update s3-explorer.tsx\nRefactor main export to use new components:\n\n```typescript\n// src/ui/s3-explorer.tsx (simplified)\nexport function S3Explorer(props: Props) {\n  return (\n    \u003cKeyboardProvider\u003e\n      \u003cS3ExplorerContainer {...props} /\u003e\n    \u003c/KeyboardProvider\u003e\n  )\n}\n```\n\n## Files to Create\n- src/ui/s3-explorer-container.tsx\n- src/ui/s3-explorer-layout.tsx\n- src/ui/s3-explorer-dialogs.tsx\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (reduce from 1132 to ~50 lines)\n\n## Dependencies\n- Depends on: open-s3-ej6 (useProgressState), open-s3-vzm (useDialogState)\n- Blocked by: None (can start with inline state, then refactor)\n\n## Testing\n- Ensure all existing integration tests pass\n- Add unit tests for each new component\n- Verify keyboard handling still works across components\n\n## Estimated Effort: 4-6 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:00.007524-06:00","updated_at":"2025-11-24T21:09:18.353769-06:00","closed_at":"2025-11-24T21:09:18.353769-06:00"}
{"id":"open-s3-mwu","title":"Add scrolling support within preview pane","description":"Currently the preview pane shows file content but there's no way to scroll within it to view content that extends beyond the visible area.\n\nFeature request:\n- Allow scrolling up/down within the preview pane when it has focus\n- Show scroll indicators (e.g., line numbers, percentage, or scroll bar)\n- Support vim-style navigation (j/k, Ctrl+d/u, gg/G) when preview is focused\n- Consider adding a keybinding to toggle focus between file list and preview pane","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-25T12:49:38.006059526-06:00","updated_at":"2025-11-25T12:49:38.006059526-06:00"}
{"id":"open-s3-nab","title":"Add storage class transition actions","description":"Change object storage class (STANDARD to GLACIER, etc)","acceptance_criteria":"- 'S' opens storage class menu\n- List available classes\n- Confirm transition\n- Show cost implications","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.339893-06:00","updated_at":"2025-11-15T21:40:13.339893-06:00","dependencies":[{"issue_id":"open-s3-nab","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:26.301094-06:00","created_by":"daemon"}]}
{"id":"open-s3-o1m","title":"Wire up AdapterProvider in index.tsx","description":"AdapterContext was created but not integrated. Wrap App with AdapterProvider in index.tsx so components can use useAdapter() hook instead of prop drilling. Update S3Explorer to optionally use context if no adapter prop provided.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:24:33.233189626-06:00","updated_at":"2025-11-25T14:25:46.313043311-06:00","closed_at":"2025-11-25T14:25:46.313043311-06:00"}
{"id":"open-s3-on7","title":"Add versioning support","description":"View and manage object versions","acceptance_criteria":"- 'V' shows version history for object\n- List all versions with dates\n- Restore previous version\n- Delete specific version","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.340401-06:00","updated_at":"2025-11-15T21:40:13.340401-06:00","dependencies":[{"issue_id":"open-s3-on7","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:22.186125-06:00","created_by":"daemon"}]}
{"id":"open-s3-one","title":"Show 0 bytes for empty files instead of hyphens","description":"Currently empty files (0 bytes) show a hyphen '-' for size, which is the same as folders. This makes it hard to distinguish empty files from directories at a glance. Change the display to show '0B' or '0 bytes' for files with size 0, while keeping the hyphen for directories which don't have a meaningful size.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-24T23:46:05.064248-06:00","updated_at":"2025-11-25T12:27:42.067237084-06:00","closed_at":"2025-11-25T12:27:42.067237084-06:00"}
{"id":"open-s3-ouy","title":"Consolidate keyboard handling into single useKeyboardDispatcher hook","description":"## Problem\nKeyboard handling is scattered across multiple files:\n- s3-explorer.tsx (global dispatcher, ~200 lines)\n- useKeyboardEvents.ts (mode-specific handlers, 496 lines)\n- useKeybindings.ts (registry abstraction, 158 lines)\n- ui/keybindings.ts (default bindings, 306 lines)\n\n## Progress\n\n### Completed\n1. Added KeyAction type with semantic action identifiers\n2. Created useKeyboardDispatcher hook with:\n   - Action handler registration\n   - Multi-key sequence support (gg, dd, yy, g?)\n   - Mode-aware keybinding resolution\n   - Text input mode handling\n   - Dialog blocking support\n3. Created keybindingDefaults.ts with key-to-action mappings\n4. Added comprehensive tests (33 tests)\n\n### Remaining\n- Migrate s3-explorer.tsx to use new action-based system\n- Mark old hooks for deprecation\n\n## Files Created\n- src/hooks/useKeyboardDispatcher.ts\n- src/hooks/keybindingDefaults.ts\n- src/hooks/useKeyboardDispatcher.test.ts\n- src/types/keyboard.ts (updated with KeyAction type)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:04.790212-06:00","updated_at":"2025-11-24T23:56:14.47577-06:00","closed_at":"2025-11-24T23:56:14.47577-06:00"}
{"id":"open-s3-oxq","title":"Create progress adapter factory to reduce callback duplication","description":"## Problem\nThe S3Adapter has repeated progress callback adapter patterns across multiple methods (lines 633-644, 712-723, 927-936, 1002-1011). This violates DRY and makes the code harder to maintain.\n\n### Current Pattern (repeated 4+ times)\n```typescript\nonProgress: options?.onProgress\n  ? (moved, total, currentKey) =\u003e {\n      options.onProgress!({\n        operation: 'Moving objects',\n        bytesTransferred: moved,\n        totalBytes: total,\n        percentage: Math.round((moved / total) * 100),\n        currentFile: currentKey,\n      });\n    }\n  : undefined,\n```\n\n## Implementation Plan\n\n### Step 1: Create progress-adapter.ts module\nCreate `src/adapters/s3/progress-adapter.ts`:\n\n```typescript\nimport { ProgressCallback, ProgressEvent } from '../adapter.js';\n\n/**\n * Callback type for internal S3 operations (count-based)\n */\nexport type OperationProgressCallback = (\n  count: number,\n  total: number,\n  currentItem: string\n) =\u003e void;\n\n/**\n * Callback type for byte-based progress\n */\nexport type ByteProgressCallback = (\n  bytesTransferred: number,\n  totalBytes: number,\n  currentFile: string\n) =\u003e void;\n\n/**\n * Create a progress adapter that converts internal progress to ProgressEvent\n * \n * @param operation - Operation name for the progress event\n * @param onProgress - External progress callback (optional)\n * @returns Internal progress callback or undefined\n */\nexport function createProgressAdapter(\n  operation: string,\n  onProgress?: ProgressCallback\n): OperationProgressCallback | undefined {\n  if (!onProgress) return undefined;\n  \n  return (count: number, total: number, currentItem: string) =\u003e {\n    onProgress({\n      operation,\n      bytesTransferred: count,\n      totalBytes: total,\n      percentage: total \u003e 0 ? Math.round((count / total) * 100) : 0,\n      currentFile: currentItem,\n    });\n  };\n}\n\n/**\n * Create a byte-based progress adapter\n */\nexport function createByteProgressAdapter(\n  operation: string,\n  onProgress?: ProgressCallback\n): ByteProgressCallback | undefined {\n  if (!onProgress) return undefined;\n  \n  return (bytesTransferred: number, totalBytes: number, currentFile: string) =\u003e {\n    onProgress({\n      operation,\n      bytesTransferred,\n      totalBytes,\n      percentage: totalBytes \u003e 0 ? Math.round((bytesTransferred / totalBytes) * 100) : 0,\n      currentFile,\n    });\n  };\n}\n```\n\n### Step 2: Update S3Adapter to use factory\nReplace repeated patterns:\n\n```typescript\n// Before\nonProgress: options?.onProgress\n  ? (moved, total, currentKey) =\u003e {\n      options.onProgress!({\n        operation: 'Moving objects',\n        bytesTransferred: moved,\n        totalBytes: total,\n        percentage: Math.round((moved / total) * 100),\n        currentFile: currentKey,\n      });\n    }\n  : undefined,\n\n// After\nonProgress: createProgressAdapter('Moving objects', options?.onProgress),\n```\n\n### Step 3: Update affected methods\n- moveDirectory() - line 633-644\n- copyDirectory() - line 712-723  \n- downloadDirectoryToLocal() - line 927-936\n- uploadDirectoryToS3() - line 1002-1011\n\n### Step 4: Create tests\nCreate `src/adapters/s3/progress-adapter.test.ts`:\n- Test createProgressAdapter returns undefined when no callback\n- Test createProgressAdapter transforms progress correctly\n- Test percentage calculation edge cases (0 total, large numbers)\n- Test createByteProgressAdapter\n\n## Files to Create\n- src/adapters/s3/progress-adapter.ts\n- src/adapters/s3/progress-adapter.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (simplify 4 progress patterns)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- DRY: Single source of truth for progress adaptation\n- Testable: Progress logic can be unit tested\n- Cleaner: S3Adapter methods become more readable\n- Consistent: All operations use same progress format\n\n## Effort Estimate\nLow (1 hour)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:32:19.624692221-06:00","updated_at":"2025-11-25T15:46:24.409954722-06:00","closed_at":"2025-11-25T15:46:24.409954722-06:00"}
{"id":"open-s3-oy5","title":"UI Layer \u0026 Buffer System","description":"Build the OpenTUI-based UI layer with buffer editing capabilities","design":"Following oil.nvim's buffer-as-editor pattern. Display entries as editable buffer, track changes, show confirmation before commit.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.340986-06:00","updated_at":"2025-11-17T08:50:09.763963-06:00","closed_at":"2025-11-17T08:50:09.763963-06:00"}
{"id":"open-s3-p8b","title":"Set up testing framework (Jest/Vitest)","description":"Configure testing framework and test utilities","acceptance_criteria":"- Jest or Vitest configured\n- Test script in package.json\n- Test utilities for mocking","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.341584-06:00","updated_at":"2025-11-15T21:40:13.341584-06:00","dependencies":[{"issue_id":"open-s3-p8b","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:42.653354-06:00","created_by":"daemon"},{"issue_id":"open-s3-p8b","depends_on_id":"open-s3-fi2","type":"parent-child","created_at":"2025-11-15T19:58:55.573439-06:00","created_by":"daemon"},{"issue_id":"open-s3-p8b","depends_on_id":"open-s3-afd","type":"blocks","created_at":"2025-11-15T19:58:59.226771-06:00","created_by":"daemon"},{"issue_id":"open-s3-p8b","depends_on_id":"open-s3-gnm","type":"blocks","created_at":"2025-11-15T19:58:59.865964-06:00","created_by":"daemon"}]}
{"id":"open-s3-pai","title":"Implement column system for entry display","description":"Configurable columns for icon, name, size, modified date","acceptance_criteria":"- Column interface with render function\n- IconColumn, NameColumn, SizeColumn, DateColumn\n- Configurable column order and visibility","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.34214-06:00","updated_at":"2025-11-17T08:58:48.033675-06:00","closed_at":"2025-11-17T08:58:48.033675-06:00","dependencies":[{"issue_id":"open-s3-pai","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:47:58.277377-06:00","created_by":"daemon"},{"issue_id":"open-s3-pai","depends_on_id":"open-s3-0sv","type":"blocks","created_at":"2025-11-15T19:58:21.206917-06:00","created_by":"daemon"}]}
{"id":"open-s3-pcy","title":"Implement presigned URL generation","description":"Generate temporary download URLs for objects","acceptance_criteria":"- 'U' generates presigned URL\n- Configurable expiration time\n- Copy URL to clipboard\n- Show URL in dialog","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.342645-06:00","updated_at":"2025-11-15T21:40:13.342645-06:00","dependencies":[{"issue_id":"open-s3-pcy","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:28.110237-06:00","created_by":"daemon"}]}
{"id":"open-s3-pdh","title":"Create AdapterOperation types","description":"Define operation types for create, delete, move, copy actions","acceptance_criteria":"- Operation union type (CreateOp, DeleteOp, MoveOp, CopyOp)\n- Each operation has type discriminator\n- Includes source and destination paths","notes":"Created AdapterOperation union type with CreateOp, DeleteOp, MoveOp, CopyOp. Includes OperationPlan type.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.343224-06:00","updated_at":"2025-11-15T21:40:13.343224-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-pdh","depends_on_id":"open-s3-txk","type":"parent-child","created_at":"2025-11-15T19:47:13.915853-06:00","created_by":"daemon"},{"issue_id":"open-s3-pdh","depends_on_id":"open-s3-w9f","type":"blocks","created_at":"2025-11-15T19:47:13.916562-06:00","created_by":"daemon"},{"issue_id":"open-s3-pdh","depends_on_id":"open-s3-2pd","type":"blocks","created_at":"2025-11-15T19:57:58.627863-06:00","created_by":"daemon"},{"issue_id":"open-s3-pdh","depends_on_id":"open-s3-ret","type":"blocks","created_at":"2025-11-15T19:57:59.02133-06:00","created_by":"daemon"}]}
{"id":"open-s3-pp2","title":"Add interactive file upload dialog with file browser","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-17T21:10:37.60808-06:00","updated_at":"2025-11-17T21:52:35.50404-06:00","closed_at":"2025-11-17T21:52:35.50404-06:00"}
{"id":"open-s3-qf0","title":"Split S3Adapter into focused modules","description":"## Problem\ns3-adapter.ts is 1455 lines and handles multiple concerns:\n- S3 client configuration\n- Basic CRUD operations (list, get, put, delete)\n- Multipart upload logic\n- Error transformation\n- Progress tracking\n\nThis makes the file difficult to navigate and test individual concerns.\n\n## Implementation Plan\n\n### Step 1: Extract S3 Client Factory\n```typescript\n// src/adapters/s3/client-factory.ts\nimport { S3Client, S3ClientConfig } from '@aws-sdk/client-s3';\n\nexport interface S3ClientOptions {\n  region?: string;\n  endpoint?: string;\n  credentials?: {\n    accessKeyId: string;\n    secretAccessKey: string;\n  };\n  profile?: string;\n}\n\nexport function createS3Client(options: S3ClientOptions): S3Client {\n  const config: S3ClientConfig = {\n    region: options.region || 'us-east-1',\n  };\n  \n  if (options.endpoint) {\n    config.endpoint = options.endpoint;\n    config.forcePathStyle = true;\n  }\n  \n  if (options.credentials) {\n    config.credentials = options.credentials;\n  }\n  \n  return new S3Client(config);\n}\n```\n\n### Step 2: Extract Error Handling\n```typescript\n// src/adapters/s3/errors.ts\nimport { S3ServiceException } from '@aws-sdk/client-s3';\n\nexport class S3OperationError extends Error {\n  constructor(\n    message: string,\n    public readonly code: string,\n    public readonly statusCode?: number,\n    public readonly cause?: Error\n  ) {\n    super(message);\n    this.name = 'S3OperationError';\n  }\n}\n\nexport function parseS3Error(error: unknown): S3OperationError {\n  if (error instanceof S3ServiceException) {\n    return new S3OperationError(\n      error.message,\n      error.name,\n      error.$metadata.httpStatusCode,\n      error\n    );\n  }\n  \n  if (error instanceof Error) {\n    return new S3OperationError(error.message, 'UnknownError', undefined, error);\n  }\n  \n  return new S3OperationError(String(error), 'UnknownError');\n}\n\nexport function isNotFoundError(error: unknown): boolean {\n  return error instanceof S3OperationError \u0026\u0026 \n    (error.code === 'NoSuchKey' || error.code === 'NotFound');\n}\n```\n\n### Step 3: Extract Multipart Upload Logic\n```typescript\n// src/adapters/s3/multipart-upload.ts\nimport { \n  CreateMultipartUploadCommand,\n  UploadPartCommand,\n  CompleteMultipartUploadCommand,\n  AbortMultipartUploadCommand,\n} from '@aws-sdk/client-s3';\n\nexport const MULTIPART_THRESHOLD = 5 * 1024 * 1024; // 5MB\nexport const PART_SIZE = 5 * 1024 * 1024;\n\nexport interface MultipartUploadOptions {\n  bucket: string;\n  key: string;\n  body: Buffer;\n  contentType?: string;\n  onProgress?: (uploaded: number, total: number) =\u003e void;\n}\n\nexport class MultipartUploader {\n  constructor(private client: S3Client) {}\n  \n  async upload(options: MultipartUploadOptions): Promise\u003cvoid\u003e {\n    const { bucket, key, body } = options;\n    const totalParts = Math.ceil(body.length / PART_SIZE);\n    \n    // Create multipart upload\n    const { UploadId } = await this.client.send(\n      new CreateMultipartUploadCommand({\n        Bucket: bucket,\n        Key: key,\n        ContentType: options.contentType,\n      })\n    );\n    \n    try {\n      const parts = await this.uploadParts(bucket, key, UploadId!, body, options.onProgress);\n      await this.completeUpload(bucket, key, UploadId!, parts);\n    } catch (error) {\n      await this.abortUpload(bucket, key, UploadId!);\n      throw error;\n    }\n  }\n  \n  // ... private methods\n}\n```\n\n### Step 4: Extract List Operations\n```typescript\n// src/adapters/s3/list-operations.ts\nimport { ListObjectsV2Command, ListBucketsCommand } from '@aws-sdk/client-s3';\n\nexport async function listObjects(\n  client: S3Client,\n  bucket: string,\n  prefix: string,\n  options?: { delimiter?: string; maxKeys?: number }\n): Promise\u003cListResult\u003e {\n  // Implementation\n}\n\nexport async function listBuckets(client: S3Client): Promise\u003cBucketEntry[]\u003e {\n  // Implementation\n}\n```\n\n### Step 5: Refactor S3Adapter\n```typescript\n// src/adapters/s3-adapter.ts (simplified)\nimport { createS3Client } from './s3/client-factory';\nimport { MultipartUploader, MULTIPART_THRESHOLD } from './s3/multipart-upload';\nimport { listObjects, listBuckets } from './s3/list-operations';\nimport { parseS3Error } from './s3/errors';\n\nexport class S3Adapter implements Adapter {\n  private client: S3Client;\n  private uploader: MultipartUploader;\n  \n  constructor(options: S3AdapterOptions) {\n    this.client = createS3Client(options);\n    this.uploader = new MultipartUploader(this.client);\n  }\n  \n  async list(path: string, options?: ListOptions): Promise\u003cListResult\u003e {\n    return listObjects(this.client, this.bucket, path, options);\n  }\n  \n  async create(path: string, type: EntryType, content?: Buffer): Promise\u003cvoid\u003e {\n    if (content \u0026\u0026 content.length \u003e MULTIPART_THRESHOLD) {\n      return this.uploader.upload({ bucket: this.bucket, key: path, body: content });\n    }\n    // Simple put\n  }\n  \n  // Other methods delegate to extracted modules\n}\n```\n\n## New File Structure\n```\nsrc/adapters/\n adapter.ts              # Interface (unchanged)\n s3-adapter.ts           # Main adapter (~300 lines)\n s3/\n    client-factory.ts   # S3 client creation (~50 lines)\n    errors.ts           # Error handling (~80 lines)\n    multipart-upload.ts # Multipart logic (~200 lines)\n    list-operations.ts  # List operations (~150 lines)\n    index.ts            # Barrel export\n mock-adapter.ts         # (unchanged)\n registry.ts             # (unchanged)\n```\n\n## Files to Create\n- src/adapters/s3/client-factory.ts\n- src/adapters/s3/errors.ts\n- src/adapters/s3/multipart-upload.ts\n- src/adapters/s3/list-operations.ts\n- src/adapters/s3/index.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce from 1455 to ~300 lines)\n\n## Testing\n- Add unit tests for each extracted module\n- Ensure existing S3 adapter tests still pass\n- Add tests for multipart upload edge cases\n\n## Estimated Effort: 3-4 hours","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T18:03:03.332921-06:00","updated_at":"2025-11-25T12:57:01.143893095-06:00","closed_at":"2025-11-25T12:57:01.143893095-06:00"}
{"id":"open-s3-qfo","title":"Create progress window for long operations","description":"Progress indicator for async S3 operations","acceptance_criteria":"- ProgressWindow shows operation status\n- Progress bar for completion percentage\n- Current operation description\n- Cancellable operations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.34382-06:00","updated_at":"2025-11-17T21:06:54.084381-06:00","closed_at":"2025-11-17T21:06:54.084381-06:00","dependencies":[{"issue_id":"open-s3-qfo","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:10.107002-06:00","created_by":"daemon"}]}
{"id":"open-s3-qje","title":"Add hidden files toggle","description":"Show/hide hidden files (dot-prefixed)","acceptance_criteria":"- 'H' toggles hidden files visibility\n- Hidden files shown with dimmed color\n- Setting persisted across sessions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.344368-06:00","updated_at":"2025-11-17T19:45:04.804248-06:00","closed_at":"2025-11-17T19:45:04.804248-06:00","dependencies":[{"issue_id":"open-s3-qje","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:08.026756-06:00","created_by":"daemon"}]}
{"id":"open-s3-ret","title":"Execute operations through adapter","description":"Execute confirmed operations via adapter interface","acceptance_criteria":"- Execute each operation sequentially\n- Show progress for each operation\n- Handle errors and rollback if needed\n- Reload buffer after success","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.344944-06:00","updated_at":"2025-11-17T08:50:06.912812-06:00","closed_at":"2025-11-17T08:50:06.912812-06:00","dependencies":[{"issue_id":"open-s3-ret","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:44.280998-06:00","created_by":"daemon"},{"issue_id":"open-s3-ret","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:48:44.281589-06:00","created_by":"daemon"},{"issue_id":"open-s3-ret","depends_on_id":"open-s3-18l","type":"blocks","created_at":"2025-11-15T19:58:43.089486-06:00","created_by":"daemon"}]}
{"id":"open-s3-rtb","title":"Extract copy operations to s3/copy-operations.ts","description":"Extract copy operations from S3Adapter. Functions: copyObject(), copyDirectory(). Currently in S3Adapter.copySingleFile() and copyDirectory() methods. ~120 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:27.973657707-06:00","updated_at":"2025-11-25T13:26:01.571164185-06:00","closed_at":"2025-11-25T13:26:01.571164185-06:00","dependencies":[{"issue_id":"open-s3-rtb","depends_on_id":"open-s3-zeg","type":"blocks","created_at":"2025-11-25T13:08:29.413135307-06:00","created_by":"daemon"}]}
{"id":"open-s3-rvn","title":"Cannot find module '@smithy/core/protocols' - missing dependency","description":"Running `bun run src/index.ts` fails with: Cannot find module '@smithy/core/protocols' from bun cache. This indicates missing or incorrectly installed dependencies.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T21:37:50.301309-06:00","updated_at":"2025-11-15T21:37:50.301309-06:00","closed_at":"2025-11-15T21:24:37.926392-06:00"}
{"id":"open-s3-ser","title":"Implement basic cursor movement (j/k)","description":"Up/down navigation with j/k keys and arrow keys","acceptance_criteria":"- j moves cursor down, k moves up\n- Arrow keys work too\n- Cursor wraps at top/bottom\n- Visual feedback on cursor position","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.345585-06:00","updated_at":"2025-11-24T23:15:42.52578-06:00","closed_at":"2025-11-24T23:15:42.52578-06:00","dependencies":[{"issue_id":"open-s3-ser","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:12.436873-06:00","created_by":"daemon"},{"issue_id":"open-s3-ser","depends_on_id":"open-s3-807","type":"blocks","created_at":"2025-11-15T19:48:12.437395-06:00","created_by":"daemon"},{"issue_id":"open-s3-ser","depends_on_id":"open-s3-9zz","type":"blocks","created_at":"2025-11-15T19:58:32.308391-06:00","created_by":"daemon"},{"issue_id":"open-s3-ser","depends_on_id":"open-s3-e2s","type":"blocks","created_at":"2025-11-15T19:58:33.087349-06:00","created_by":"daemon"},{"issue_id":"open-s3-ser","depends_on_id":"open-s3-2h3","type":"blocks","created_at":"2025-11-15T19:58:33.822746-06:00","created_by":"daemon"},{"issue_id":"open-s3-ser","depends_on_id":"open-s3-ycl","type":"blocks","created_at":"2025-11-15T19:58:35.985669-06:00","created_by":"daemon"}]}
{"id":"open-s3-siq","title":"Add S3-specific columns (storage class, ETag)","description":"Display S3 metadata in additional columns","acceptance_criteria":"- StorageClassColumn shows STANDARD/GLACIER/etc\n- ETagColumn shows object ETag\n- ContentTypeColumn shows MIME type\n- Toggleable column visibility","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.346127-06:00","updated_at":"2025-11-17T19:46:10.142531-06:00","closed_at":"2025-11-17T19:46:10.142531-06:00","dependencies":[{"issue_id":"open-s3-siq","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:18.271914-06:00","created_by":"daemon"},{"issue_id":"open-s3-siq","depends_on_id":"open-s3-pai","type":"blocks","created_at":"2025-11-15T19:49:18.272475-06:00","created_by":"daemon"}]}
{"id":"open-s3-smx","title":"Implement bucket listing and switching","description":"List all buckets and switch between them","acceptance_criteria":"- :buckets command lists all buckets\n- :bucket \u003cname\u003e switches to bucket\n- Root view shows bucket list\n- Bucket metadata shown (region, creation date)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.346676-06:00","updated_at":"2025-11-17T09:15:07.053649-06:00","closed_at":"2025-11-17T09:15:07.053649-06:00","dependencies":[{"issue_id":"open-s3-smx","depends_on_id":"open-s3-8d0","type":"parent-child","created_at":"2025-11-15T19:49:20.529874-06:00","created_by":"daemon"}]}
{"id":"open-s3-ssg","title":"Add color scheme customization in config","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T21:37:50.302091-06:00","updated_at":"2025-11-15T21:37:50.302091-06:00","closed_at":"2025-11-15T21:30:14.170803-06:00"}
{"id":"open-s3-t3s","title":"Add React error boundaries for graceful error handling","description":"## Problem\nThe application has no error boundaries. If a component throws during render:\n- The entire application crashes\n- User loses their work/context\n- No helpful error message is shown\n- Terminal may be left in bad state\n\n## Implementation Plan\n\n### Step 1: Create Error Boundary Component\n```typescript\n// src/ui/error-boundary-react.tsx\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { Box, Text } from '@anthropic/opentui';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) =\u003e void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component\u003cProps, State\u003e {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Log to file or external service\n    console.error('Error caught by boundary:', error);\n    console.error('Component stack:', errorInfo.componentStack);\n    \n    this.props.onError?.(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n      \n      return (\n        \u003cBox\n          flexDirection=\"column\"\n          padding={1}\n          borderStyle=\"round\"\n          borderColor=\"red\"\n        \u003e\n          \u003cText color=\"red\" bold\u003eSomething went wrong\u003c/Text\u003e\n          \u003cText color=\"gray\"\u003e{this.state.error?.message}\u003c/Text\u003e\n          \u003cBox marginTop={1}\u003e\n            \u003cText dimColor\u003ePress 'q' to quit or 'r' to retry\u003c/Text\u003e\n          \u003c/Box\u003e\n        \u003c/Box\u003e\n      );\n    }\n\n    return this.props.children;\n  }\n}\n```\n\n### Step 2: Create Specialized Boundaries\n```typescript\n// Boundary for pane content (allows other panes to continue)\nexport function PaneErrorBoundary({ children, paneId }: { children: ReactNode; paneId: number }) {\n  return (\n    \u003cErrorBoundary\n      fallback={\n        \u003cBox padding={1}\u003e\n          \u003cText color=\"red\"\u003ePane {paneId} encountered an error\u003c/Text\u003e\n          \u003cText dimColor\u003ePress 'c' to close this pane\u003c/Text\u003e\n        \u003c/Box\u003e\n      }\n      onError={(error) =\u003e {\n        // Could log pane-specific context\n        console.error(`Pane ${paneId} error:`, error);\n      }}\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n\n// Boundary for dialogs (closes dialog on error)\nexport function DialogErrorBoundary({ \n  children, \n  onClose \n}: { \n  children: ReactNode; \n  onClose: () =\u003e void;\n}) {\n  return (\n    \u003cErrorBoundary\n      onError={() =\u003e {\n        // Auto-close dialog on error\n        onClose();\n      }}\n      fallback={null}\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n```\n\n### Step 3: Create Recovery Mechanisms\n```typescript\n// src/ui/error-recovery.tsx\ninterface RecoverableErrorBoundaryProps {\n  children: ReactNode;\n  onReset?: () =\u003e void;\n}\n\nexport function RecoverableErrorBoundary({ \n  children, \n  onReset \n}: RecoverableErrorBoundaryProps) {\n  const [key, setKey] = useState(0);\n  \n  const handleRetry = useCallback(() =\u003e {\n    onReset?.();\n    setKey(k =\u003e k + 1);\n  }, [onReset]);\n  \n  return (\n    \u003cErrorBoundary\n      key={key}\n      fallback={\n        \u003cErrorFallbackWithRetry onRetry={handleRetry} /\u003e\n      }\n    \u003e\n      {children}\n    \u003c/ErrorBoundary\u003e\n  );\n}\n\nfunction ErrorFallbackWithRetry({ onRetry }: { onRetry: () =\u003e void }) {\n  useInput((input) =\u003e {\n    if (input === 'r') {\n      onRetry();\n    }\n  });\n  \n  return (\n    \u003cBox flexDirection=\"column\" padding={1}\u003e\n      \u003cText color=\"red\"\u003eAn error occurred\u003c/Text\u003e\n      \u003cText dimColor\u003ePress 'r' to retry\u003c/Text\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n### Step 4: Wrap Application\n```typescript\n// src/index.tsx\nfunction App() {\n  return (\n    \u003cErrorBoundary\n      onError={(error, info) =\u003e {\n        // Log fatal error\n        logger.error('Fatal error', { error, componentStack: info.componentStack });\n      }}\n      fallback={\u003cFatalErrorScreen /\u003e}\n    \u003e\n      \u003cKeyboardProvider\u003e\n        \u003cS3Explorer ... /\u003e\n      \u003c/KeyboardProvider\u003e\n    \u003c/ErrorBoundary\u003e\n  );\n}\n```\n\n### Step 5: Wrap Individual Components\n```typescript\n// src/ui/s3-explorer.tsx\nfunction S3Explorer() {\n  return (\n    \u003cBox flexDirection=\"column\"\u003e\n      \u003cErrorBoundary fallback={\u003cText color=\"red\"\u003eHeader error\u003c/Text\u003e}\u003e\n        \u003cHeader /\u003e\n      \u003c/ErrorBoundary\u003e\n      \n      \u003cPaneErrorBoundary paneId={0}\u003e\n        \u003cPane ... /\u003e\n      \u003c/PaneErrorBoundary\u003e\n      \n      \u003cErrorBoundary fallback={null}\u003e\n        \u003cStatusBar /\u003e\n      \u003c/ErrorBoundary\u003e\n      \n      \u003cDialogErrorBoundary onClose={closeDialog}\u003e\n        \u003cS3ExplorerDialogs ... /\u003e\n      \u003c/DialogErrorBoundary\u003e\n    \u003c/Box\u003e\n  );\n}\n```\n\n## Files to Create\n- src/ui/error-boundary-react.tsx\n- src/ui/error-boundary-react.test.tsx\n\n## Files to Modify\n- src/index.tsx (wrap App)\n- src/ui/s3-explorer.tsx (wrap components)\n- src/ui/pane-react.tsx (wrap content)\n\n## Testing\n- Test boundary catches errors\n- Test fallback renders\n- Test recovery mechanism\n- Test error logging\n\n## Estimated Effort: 1-2 hours","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T18:03:07.732939-06:00","updated_at":"2025-11-24T18:06:53.244161-06:00"}
{"id":"open-s3-txk","title":"Core Architecture \u0026 Adapter System","description":"Implement the adapter pattern for pluggable backends and core abstractions","design":"Adapter interface will define operations (list, get metadata, create, delete, move, copy). Allows testing with mock adapter before S3 integration.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-15T21:40:13.347235-06:00","updated_at":"2025-11-17T08:50:14.228505-06:00","closed_at":"2025-11-17T08:50:14.228505-06:00"}
{"id":"open-s3-umk","title":"Sort keybind missing from help menu","description":"The sort keybind (s or S) is not shown in the help menu (?). Users cannot discover the sort functionality through the help system.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-25T13:23:18.289640514-06:00","updated_at":"2025-11-25T14:39:20.34580012-06:00","closed_at":"2025-11-25T14:39:20.34580012-06:00"}
{"id":"open-s3-urh","title":"Update help dialog with complete keybinding list","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T09:44:12.384717-06:00","updated_at":"2025-11-17T09:45:04.159069-06:00","closed_at":"2025-11-17T09:45:04.159069-06:00"}
{"id":"open-s3-uyq","title":"Implement S3Adapter.copy() method","description":"Copy objects within or between buckets","acceptance_criteria":"- CopyObject command\n- Handle cross-bucket copies\n- Handle directory copies recursively\n- Preserve metadata during copy","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.347778-06:00","updated_at":"2025-11-17T08:59:15.433778-06:00","closed_at":"2025-11-17T08:59:15.433778-06:00","dependencies":[{"issue_id":"open-s3-uyq","depends_on_id":"open-s3-zb6","type":"parent-child","created_at":"2025-11-15T19:47:38.448269-06:00","created_by":"daemon"},{"issue_id":"open-s3-uyq","depends_on_id":"open-s3-38p","type":"blocks","created_at":"2025-11-15T19:47:38.44888-06:00","created_by":"daemon"},{"issue_id":"open-s3-uyq","depends_on_id":"open-s3-ret","type":"related","created_at":"2025-11-15T19:59:07.33769-06:00","created_by":"daemon"}]}
{"id":"open-s3-vzm","title":"Consolidate dialog state into useDialogState reducer hook","description":"## Problem\ns3-explorer.tsx manages 6+ dialogs with separate boolean states:\n\n```typescript\nconst [showConfirmDialog, setShowConfirmDialog] = useState(false);\nconst [showHelpDialog, setShowHelpDialog] = useState(false);\nconst [showSortMenu, setShowSortMenu] = useState(false);\nconst [showUploadDialog, setShowUploadDialog] = useState(false);\nconst [errorMessage, setErrorMessage] = useState\u003cstring | null\u003e(null);\n// Plus confirmation dialog payload state\n```\n\nMultiple dialogs can conflict, and state management is scattered.\n\n## Implementation Plan\n\n### Step 1: Define Dialog State Types\n```typescript\n// src/types/dialog.ts\nexport type DialogType = 'confirm' | 'help' | 'sort' | 'upload' | 'error' | 'progress' | null;\n\nexport interface ConfirmDialogPayload {\n  title: string;\n  message: string;\n  confirmLabel?: string;\n  cancelLabel?: string;\n  onConfirm: () =\u003e void;\n  onCancel?: () =\u003e void;\n}\n\nexport interface ErrorDialogPayload {\n  message: string;\n  details?: string;\n}\n\nexport interface DialogState {\n  activeDialog: DialogType;\n  confirm: ConfirmDialogPayload | null;\n  error: ErrorDialogPayload | null;\n  // Other dialogs have no payload (help, sort)\n}\n\nexport type DialogAction =\n  | { type: 'SHOW_CONFIRM'; payload: ConfirmDialogPayload }\n  | { type: 'SHOW_HELP' }\n  | { type: 'SHOW_SORT' }\n  | { type: 'SHOW_UPLOAD' }\n  | { type: 'SHOW_ERROR'; payload: ErrorDialogPayload }\n  | { type: 'CLOSE' }\n  | { type: 'CLOSE_ALL' };\n```\n\n### Step 2: Create Dialog Reducer\n```typescript\n// src/hooks/useDialogState.ts\nconst initialState: DialogState = {\n  activeDialog: null,\n  confirm: null,\n  error: null,\n};\n\nfunction dialogReducer(state: DialogState, action: DialogAction): DialogState {\n  switch (action.type) {\n    case 'SHOW_CONFIRM':\n      return { ...state, activeDialog: 'confirm', confirm: action.payload };\n    case 'SHOW_HELP':\n      return { ...state, activeDialog: 'help' };\n    case 'SHOW_SORT':\n      return { ...state, activeDialog: 'sort' };\n    case 'SHOW_UPLOAD':\n      return { ...state, activeDialog: 'upload' };\n    case 'SHOW_ERROR':\n      return { ...state, activeDialog: 'error', error: action.payload };\n    case 'CLOSE':\n    case 'CLOSE_ALL':\n      return initialState;\n    default:\n      return state;\n  }\n}\n```\n\n### Step 3: Create Hook with Helper Functions\n```typescript\nexport function useDialogState() {\n  const [state, dispatch] = useReducer(dialogReducer, initialState);\n  \n  const showConfirm = useCallback((payload: ConfirmDialogPayload) =\u003e {\n    dispatch({ type: 'SHOW_CONFIRM', payload });\n  }, []);\n  \n  const showError = useCallback((message: string, details?: string) =\u003e {\n    dispatch({ type: 'SHOW_ERROR', payload: { message, details } });\n  }, []);\n  \n  const showHelp = useCallback(() =\u003e dispatch({ type: 'SHOW_HELP' }), []);\n  const showSort = useCallback(() =\u003e dispatch({ type: 'SHOW_SORT' }), []);\n  const showUpload = useCallback(() =\u003e dispatch({ type: 'SHOW_UPLOAD' }), []);\n  const closeDialog = useCallback(() =\u003e dispatch({ type: 'CLOSE' }), []);\n  \n  // Computed properties\n  const isDialogOpen = state.activeDialog !== null;\n  const isConfirmOpen = state.activeDialog === 'confirm';\n  const isHelpOpen = state.activeDialog === 'help';\n  // etc.\n  \n  return {\n    dialog: state,\n    isDialogOpen,\n    showConfirm,\n    showError,\n    showHelp,\n    showSort,\n    showUpload,\n    closeDialog,\n    dispatch,\n  };\n}\n```\n\n### Step 4: Update s3-explorer.tsx\n```typescript\n// Before: Multiple useState + handlers\n// After:\nconst { \n  dialog, \n  isDialogOpen,\n  showConfirm, \n  showError, \n  closeDialog \n} = useDialogState();\n```\n\n## Files to Create\n- src/types/dialog.ts\n- src/hooks/useDialogState.ts\n- src/hooks/useDialogState.test.ts\n\n## Files to Modify\n- src/ui/s3-explorer.tsx (remove dialog useState calls)\n\n## Benefits\n- Only one dialog can be active at a time (prevents conflicts)\n- Centralized dialog management\n- Easy to add new dialog types\n- Testable reducer logic\n\n## Estimated Effort: 2-3 hours","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T18:03:01.393424-06:00","updated_at":"2025-11-24T22:06:48.015411-06:00","closed_at":"2025-11-24T22:06:48.015411-06:00","dependencies":[{"issue_id":"open-s3-vzm","depends_on_id":"open-s3-mdc","type":"blocks","created_at":"2025-11-24T18:06:59.190488-06:00","created_by":"daemon"}]}
{"id":"open-s3-w0k","title":"Advanced UI Features","description":"Floating windows, preview windows, and enhanced UI components","design":"Modal dialogs for confirmations, floating windows for actions, preview pane for file contents.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-15T21:40:13.348328-06:00","updated_at":"2025-11-15T21:40:13.348328-06:00"}
{"id":"open-s3-w4y","title":"Implement bucket root view initialization","description":"Modify application startup to detect if no specific bucket is configured and initialize the buffer with the bucket listing. Track current location as 'root' with special handling.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T20:32:56.537701-06:00","updated_at":"2025-11-16T20:41:16.385465-06:00","closed_at":"2025-11-16T20:41:16.385465-06:00","dependencies":[{"issue_id":"open-s3-w4y","depends_on_id":"open-s3-cdb","type":"blocks","created_at":"2025-11-16T20:33:02.323694-06:00","created_by":"daemon"},{"issue_id":"open-s3-w4y","depends_on_id":"open-s3-82y","type":"blocks","created_at":"2025-11-16T20:33:02.373467-06:00","created_by":"daemon"}]}
{"id":"open-s3-w9f","title":"Initialize Node.js/TypeScript project","description":"Set up package.json, tsconfig.json, and basic project structure","acceptance_criteria":"- package.json with name, version, scripts\n- tsconfig.json with strict mode enabled\n- Basic folder structure (src/, dist/)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.348897-06:00","updated_at":"2025-11-15T21:40:13.348897-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-w9f","depends_on_id":"open-s3-467","type":"parent-child","created_at":"2025-11-15T19:46:54.065539-06:00","created_by":"daemon"},{"issue_id":"open-s3-w9f","depends_on_id":"open-s3-ca3","type":"blocks","created_at":"2025-11-15T19:57:37.471168-06:00","created_by":"daemon"},{"issue_id":"open-s3-w9f","depends_on_id":"open-s3-7j6","type":"blocks","created_at":"2025-11-15T19:57:38.707542-06:00","created_by":"daemon"}]}
{"id":"open-s3-wco","title":"Create preview pane component","description":"Side panel to show file preview or metadata","acceptance_criteria":"- PreviewPane component\n- Shows file content or metadata\n- Syntax highlighting for text files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.34944-06:00","updated_at":"2025-11-17T20:37:51.996682-06:00","closed_at":"2025-11-17T20:37:51.996682-06:00","dependencies":[{"issue_id":"open-s3-wco","depends_on_id":"open-s3-w0k","type":"parent-child","created_at":"2025-11-15T19:49:01.863029-06:00","created_by":"daemon"}]}
{"id":"open-s3-wg6","title":"Create user documentation","description":"Write comprehensive user guide with examples","acceptance_criteria":"- Installation guide\n- Quick start tutorial\n- Keybinding reference\n- Configuration examples\n- Troubleshooting section","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T21:40:13.350055-06:00","updated_at":"2025-11-17T09:16:57.723436-06:00","dependencies":[{"issue_id":"open-s3-wg6","depends_on_id":"open-s3-w9f","type":"parent-child","created_at":"2025-11-15T19:49:48.792788-06:00","created_by":"daemon"},{"issue_id":"open-s3-wg6","depends_on_id":"open-s3-fi2","type":"parent-child","created_at":"2025-11-15T19:58:57.765926-06:00","created_by":"daemon"}]}
{"id":"open-s3-wu6","title":"Add undo/redo for buffer edits","description":"Undo buffer changes before save","acceptance_criteria":"- u undoes last buffer edit\n- Ctrl+R redos\n- Undo stack cleared after save\n- Shows undo history","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T21:40:13.350619-06:00","updated_at":"2025-11-17T19:49:11.112014-06:00","closed_at":"2025-11-17T19:49:11.112014-06:00","dependencies":[{"issue_id":"open-s3-wu6","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:52.360334-06:00","created_by":"daemon"}]}
{"id":"open-s3-wzn","title":"Add loading and error states to UI","description":"Show loading spinners and error messages in UI","acceptance_criteria":"- Loading spinner during async operations\n- Error messages displayed in StatusBar\n- Retry mechanism for failed operations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.351171-06:00","updated_at":"2025-11-17T08:59:31.611911-06:00","closed_at":"2025-11-17T08:59:31.611911-06:00","dependencies":[{"issue_id":"open-s3-wzn","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:48:06.663497-06:00","created_by":"daemon"}]}
{"id":"open-s3-xaz","title":"Add undo/redo support for operations","description":"","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-15T21:01:12.05022-06:00","updated_at":"2025-11-15T21:32:30.001546-06:00","closed_at":"2025-11-15T21:32:30.001546-06:00"}
{"id":"open-s3-xxq","title":"Create basic OpenTUI application shell","description":"Set up CliRenderer and basic application structure","acceptance_criteria":"- CliRenderer initialized\n- Basic event loop running\n- Clean exit on Ctrl+C","notes":"Created S3Explorer class with CliRenderer. Basic event loop with keyboard handlers. Displays bucket entries from MockAdapter.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.35177-06:00","updated_at":"2025-11-15T21:40:13.35177-06:00","closed_at":"2025-11-16T02:31:03Z","dependencies":[{"issue_id":"open-s3-xxq","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:47:48.87324-06:00","created_by":"daemon"},{"issue_id":"open-s3-xxq","depends_on_id":"open-s3-ca3","type":"blocks","created_at":"2025-11-15T19:47:48.873793-06:00","created_by":"daemon"},{"issue_id":"open-s3-xxq","depends_on_id":"open-s3-0sv","type":"blocks","created_at":"2025-11-15T19:58:17.680425-06:00","created_by":"daemon"},{"issue_id":"open-s3-xxq","depends_on_id":"open-s3-ziy","type":"blocks","created_at":"2025-11-15T19:58:18.404067-06:00","created_by":"daemon"}]}
{"id":"open-s3-ycl","title":"Add mode system (normal/visual/edit)","description":"Track and switch between different modes","acceptance_criteria":"- Mode enum (Normal, Visual, Edit)\n- Mode state tracked in app\n- Different keybindings per mode\n- Status bar shows current mode","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-15T21:40:13.35236-06:00","updated_at":"2025-11-24T23:15:31.953369-06:00","closed_at":"2025-11-24T23:15:31.953369-06:00","dependencies":[{"issue_id":"open-s3-ycl","depends_on_id":"open-s3-zi0","type":"parent-child","created_at":"2025-11-15T19:48:24.596898-06:00","created_by":"daemon"},{"issue_id":"open-s3-ycl","depends_on_id":"open-s3-04c","type":"blocks","created_at":"2025-11-15T19:58:34.583172-06:00","created_by":"daemon"},{"issue_id":"open-s3-ycl","depends_on_id":"open-s3-2cx","type":"blocks","created_at":"2025-11-15T19:58:35.317243-06:00","created_by":"daemon"}]}
{"id":"open-s3-yyl","title":"Add entry creation with 'i' key","description":"Insert new entry at cursor position","acceptance_criteria":"- i inserts new empty entry\n- User can type entry name\n- Tab completion for names\n- Enter confirms, ESC cancels","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.352941-06:00","updated_at":"2025-11-24T23:14:46.813147-06:00","closed_at":"2025-11-24T23:14:46.813147-06:00","dependencies":[{"issue_id":"open-s3-yyl","depends_on_id":"open-s3-bod","type":"parent-child","created_at":"2025-11-15T19:48:46.428209-06:00","created_by":"daemon"},{"issue_id":"open-s3-yyl","depends_on_id":"open-s3-bga","type":"blocks","created_at":"2025-11-15T19:58:38.113221-06:00","created_by":"daemon"}]}
{"id":"open-s3-yz9","title":"Extract transfer operations to s3/transfer-operations.ts","description":"Extract local filesystem transfer operations from S3Adapter. Functions: downloadFileToLocal(), downloadDirectoryToLocal(), uploadFileFromLocal(), uploadDirectoryFromLocal(). Currently in S3Adapter download/upload methods. ~150 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:33.070356693-06:00","updated_at":"2025-11-25T13:31:41.186003836-06:00","closed_at":"2025-11-25T13:31:41.186003836-06:00","dependencies":[{"issue_id":"open-s3-yz9","depends_on_id":"open-s3-zeg","type":"blocks","created_at":"2025-11-25T13:08:29.439977926-06:00","created_by":"daemon"}]}
{"id":"open-s3-z9p","title":"Remove debug console.error logs added during development","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T10:58:37.888681-06:00","updated_at":"2025-11-17T10:59:12.679608-06:00","closed_at":"2025-11-17T10:59:12.679608-06:00"}
{"id":"open-s3-zb6","title":"S3 Backend Implementation","description":"Implement the S3 adapter with async operations, authentication, and S3-specific features","design":"Use AWS SDK v3 for S3 operations. Handle virtual directories, prefixes, pagination, versioning, and metadata.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.354768-06:00","updated_at":"2025-11-17T09:05:06.854628-06:00","closed_at":"2025-11-17T09:05:06.854628-06:00"}
{"id":"open-s3-zeg","title":"Extract batch operations to s3/batch-operations.ts","description":"Extract common batch/pagination operations from S3Adapter. Functions: listAllObjects(), batchDeleteObjects(). Pagination pattern is duplicated in delete(), moveDirectory(), copyDirectory(), downloadDirectoryToLocal(). ~100 lines.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T13:07:25.661482926-06:00","updated_at":"2025-11-25T13:21:53.21465873-06:00","closed_at":"2025-11-25T13:21:53.21465873-06:00","dependencies":[{"issue_id":"open-s3-zeg","depends_on_id":"open-s3-37o","type":"blocks","created_at":"2025-11-25T13:08:29.399062985-06:00","created_by":"daemon"}]}
{"id":"open-s3-zi0","title":"Navigation \u0026 Selection System","description":"Implement navigation controls, selection modes, and multi-selection","design":"Vim-style keybindings for navigation. Support visual mode for multi-selection. Track cursor position and selection state.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-15T21:40:13.355355-06:00","updated_at":"2025-11-17T09:20:15.962306-06:00","closed_at":"2025-11-17T09:20:15.962306-06:00"}
{"id":"open-s3-ziy","title":"Create StatusBar component","description":"Show current path, mode, and status messages","acceptance_criteria":"- StatusBar shows current bucket/prefix\n- Shows current mode (normal, visual, edit)\n- Shows error/info messages","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T21:40:13.355881-06:00","updated_at":"2025-11-17T08:59:15.47577-06:00","closed_at":"2025-11-17T08:59:15.47577-06:00","dependencies":[{"issue_id":"open-s3-ziy","depends_on_id":"open-s3-oy5","type":"parent-child","created_at":"2025-11-15T19:48:03.019775-06:00","created_by":"daemon"}]}
{"id":"open-s3-zjz","title":"Extract read operations from S3Adapter to dedicated module","description":"## Problem\nS3Adapter's read() method (lines 749-869) is ~120 lines with complex stream handling logic. This can be extracted to a dedicated module for better testability and maintainability.\n\n## Implementation Plan\n\n### Step 1: Create read-operations.ts module\nCreate `src/adapters/s3/read-operations.ts` with:\n\n```typescript\ninterface ReadObjectOptions {\n  client: S3Client;\n  bucket: string;\n  key: string;\n  onProgress?: ProgressCallback;\n  logger?: S3AdapterLogger;\n}\n\nexport async function readObject(options: ReadObjectOptions): Promise\u003cBuffer\u003e\n```\n\n### Step 2: Extract read() logic\nMove lines 749-869 from s3-adapter.ts:\n- HeadObjectCommand for file size\n- GetObjectCommand for content\n- Stream handling (Buffer, ReadableStream, Node.js stream)\n- Progress reporting during download\n- Buffer concatenation\n\n### Step 3: Update S3Adapter\nReplace inline implementation:\n```typescript\nasync read(path: string, options?: OperationOptions): Promise\u003cBuffer\u003e {\n  return readObject({\n    client: this.client,\n    bucket: this.bucket!,\n    key: this.normalizePath(path),\n    onProgress: options?.onProgress,\n    logger: this.logger,\n  });\n}\n```\n\n### Step 4: Create tests\nCreate `src/adapters/s3/read-operations.test.ts`:\n- Test with Buffer body\n- Test with ReadableStream body\n- Test with Node.js stream body\n- Test progress callback invocation\n- Test error handling\n\n## Files to Create\n- src/adapters/s3/read-operations.ts\n- src/adapters/s3/read-operations.test.ts\n\n## Files to Modify\n- src/adapters/s3-adapter.ts (reduce by ~120 lines)\n- src/adapters/s3/index.ts (add exports)\n\n## Expected Outcome\n- S3Adapter reduced by ~120 lines\n- Stream handling logic independently testable\n- Consistent module structure\n\n## Effort Estimate\nMedium (1-2 hours)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-25T14:31:54.441963698-06:00","updated_at":"2025-11-25T15:53:36.778679598-06:00","closed_at":"2025-11-25T15:53:36.778679598-06:00"}
